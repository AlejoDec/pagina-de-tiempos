function s0(r,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in r)){const u=Object.getOwnPropertyDescriptor(a,o);u&&Object.defineProperty(r,o,u.get?u:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function o0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Kd={exports:{}},Ll={};var h_;function Tb(){if(h_)return Ll;h_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Ll.Fragment=e,Ll.jsx=n,Ll.jsxs=n,Ll}var f_;function Sb(){return f_||(f_=1,Kd.exports=Tb()),Kd.exports}var te=Sb(),Qd={exports:{}},Ue={};var d_;function Ab(){if(d_)return Ue;d_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),R=Symbol.iterator;function D(V){return V===null||typeof V!="object"?null:(V=R&&V[R]||V["@@iterator"],typeof V=="function"?V:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,K={};function he(V,X,se){this.props=V,this.context=X,this.refs=K,this.updater=se||U}he.prototype.isReactComponent={},he.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},he.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ae(){}ae.prototype=he.prototype;function de(V,X,se){this.props=V,this.context=X,this.refs=K,this.updater=se||U}var be=de.prototype=new ae;be.constructor=de,H(be,he.prototype),be.isPureReactComponent=!0;var Ve=Array.isArray;function Le(){}var A={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(V,X,se){var ge=se.ref;return{$$typeof:r,type:V,key:X,ref:ge!==void 0?ge:null,props:se}}function O(V,X){return I(V.type,X,V.props)}function L(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function P(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(se){return X[se]})}var C=/\/+/g;function tt(V,X){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):X.toString(36)}function Et(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Le,Le):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function J(V,X,se,ge,Ae){var Ne=typeof V;(Ne==="undefined"||Ne==="boolean")&&(V=null);var ze=!1;if(V===null)ze=!0;else switch(Ne){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(V.$$typeof){case r:case e:ze=!0;break;case E:return ze=V._init,J(ze(V._payload),X,se,ge,Ae)}}if(ze)return Ae=Ae(V),ze=ge===""?"."+tt(V,0):ge,Ve(Ae)?(se="",ze!=null&&(se=ze.replace(C,"$&/")+"/"),J(Ae,X,se,"",function(fi){return fi})):Ae!=null&&(L(Ae)&&(Ae=O(Ae,se+(Ae.key==null||V&&V.key===Ae.key?"":(""+Ae.key).replace(C,"$&/")+"/")+ze)),X.push(Ae)),1;ze=0;var Vt=ge===""?".":ge+":";if(Ve(V))for(var St=0;St<V.length;St++)ge=V[St],Ne=Vt+tt(ge,St),ze+=J(ge,X,se,Ne,Ae);else if(St=D(V),typeof St=="function")for(V=St.call(V),St=0;!(ge=V.next()).done;)ge=ge.value,Ne=Vt+tt(ge,St++),ze+=J(ge,X,se,Ne,Ae);else if(Ne==="object"){if(typeof V.then=="function")return J(Et(V),X,se,ge,Ae);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ze}function oe(V,X,se){if(V==null)return V;var ge=[],Ae=0;return J(V,ge,"","",function(Ne){return X.call(se,Ne,Ae++)}),ge}function me(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(se){(V._status===0||V._status===-1)&&(V._status=1,V._result=se)},function(se){(V._status===0||V._status===-1)&&(V._status=2,V._result=se)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var Fe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Qe={map:oe,forEach:function(V,X,se){oe(V,function(){X.apply(this,arguments)},se)},count:function(V){var X=0;return oe(V,function(){X++}),X},toArray:function(V){return oe(V,function(X){return X})||[]},only:function(V){if(!L(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ue.Activity=T,Ue.Children=Qe,Ue.Component=he,Ue.Fragment=n,Ue.Profiler=o,Ue.PureComponent=de,Ue.StrictMode=a,Ue.Suspense=p,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(V){return A.H.useMemoCache(V)}},Ue.cache=function(V){return function(){return V.apply(null,arguments)}},Ue.cacheSignal=function(){return null},Ue.cloneElement=function(V,X,se){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ge=H({},V.props),Ae=V.key;if(X!=null)for(Ne in X.key!==void 0&&(Ae=""+X.key),X)!w.call(X,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&X.ref===void 0||(ge[Ne]=X[Ne]);var Ne=arguments.length-2;if(Ne===1)ge.children=se;else if(1<Ne){for(var ze=Array(Ne),Vt=0;Vt<Ne;Vt++)ze[Vt]=arguments[Vt+2];ge.children=ze}return I(V.type,Ae,ge)},Ue.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ue.createElement=function(V,X,se){var ge,Ae={},Ne=null;if(X!=null)for(ge in X.key!==void 0&&(Ne=""+X.key),X)w.call(X,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Ae[ge]=X[ge]);var ze=arguments.length-2;if(ze===1)Ae.children=se;else if(1<ze){for(var Vt=Array(ze),St=0;St<ze;St++)Vt[St]=arguments[St+2];Ae.children=Vt}if(V&&V.defaultProps)for(ge in ze=V.defaultProps,ze)Ae[ge]===void 0&&(Ae[ge]=ze[ge]);return I(V,Ne,Ae)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(V){return{$$typeof:m,render:V}},Ue.isValidElement=L,Ue.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:me}},Ue.memo=function(V,X){return{$$typeof:y,type:V,compare:X===void 0?null:X}},Ue.startTransition=function(V){var X=A.T,se={};A.T=se;try{var ge=V(),Ae=A.S;Ae!==null&&Ae(se,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(Le,Fe)}catch(Ne){Fe(Ne)}finally{X!==null&&se.types!==null&&(X.types=se.types),A.T=X}},Ue.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ue.use=function(V){return A.H.use(V)},Ue.useActionState=function(V,X,se){return A.H.useActionState(V,X,se)},Ue.useCallback=function(V,X){return A.H.useCallback(V,X)},Ue.useContext=function(V){return A.H.useContext(V)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(V,X){return A.H.useDeferredValue(V,X)},Ue.useEffect=function(V,X){return A.H.useEffect(V,X)},Ue.useEffectEvent=function(V){return A.H.useEffectEvent(V)},Ue.useId=function(){return A.H.useId()},Ue.useImperativeHandle=function(V,X,se){return A.H.useImperativeHandle(V,X,se)},Ue.useInsertionEffect=function(V,X){return A.H.useInsertionEffect(V,X)},Ue.useLayoutEffect=function(V,X){return A.H.useLayoutEffect(V,X)},Ue.useMemo=function(V,X){return A.H.useMemo(V,X)},Ue.useOptimistic=function(V,X){return A.H.useOptimistic(V,X)},Ue.useReducer=function(V,X,se){return A.H.useReducer(V,X,se)},Ue.useRef=function(V){return A.H.useRef(V)},Ue.useState=function(V){return A.H.useState(V)},Ue.useSyncExternalStore=function(V,X,se){return A.H.useSyncExternalStore(V,X,se)},Ue.useTransition=function(){return A.H.useTransition()},Ue.version="19.2.0",Ue}var m_;function qm(){return m_||(m_=1,Qd.exports=Ab()),Qd.exports}var ee=qm();const bb=o0(ee),wb=s0({__proto__:null,default:bb},[ee]);var Yd={exports:{}},Ul={},Xd={exports:{}},Jd={};var p_;function Rb(){return p_||(p_=1,(function(r){function e(J,oe){var me=J.length;J.push(oe);e:for(;0<me;){var Fe=me-1>>>1,Qe=J[Fe];if(0<o(Qe,oe))J[Fe]=oe,J[me]=Qe,me=Fe;else break e}}function n(J){return J.length===0?null:J[0]}function a(J){if(J.length===0)return null;var oe=J[0],me=J.pop();if(me!==oe){J[0]=me;e:for(var Fe=0,Qe=J.length,V=Qe>>>1;Fe<V;){var X=2*(Fe+1)-1,se=J[X],ge=X+1,Ae=J[ge];if(0>o(se,me))ge<Qe&&0>o(Ae,se)?(J[Fe]=Ae,J[ge]=me,Fe=ge):(J[Fe]=se,J[X]=me,Fe=X);else if(ge<Qe&&0>o(Ae,me))J[Fe]=Ae,J[ge]=me,Fe=ge;else break e}}return oe}function o(J,oe){var me=J.sortIndex-oe.sortIndex;return me!==0?me:J.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,T=null,R=3,D=!1,U=!1,H=!1,K=!1,he=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,de=typeof setImmediate<"u"?setImmediate:null;function be(J){for(var oe=n(y);oe!==null;){if(oe.callback===null)a(y);else if(oe.startTime<=J)a(y),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(y)}}function Ve(J){if(H=!1,be(J),!U)if(n(p)!==null)U=!0,Le||(Le=!0,P());else{var oe=n(y);oe!==null&&Et(Ve,oe.startTime-J)}}var Le=!1,A=-1,w=5,I=-1;function O(){return K?!0:!(r.unstable_now()-I<w)}function L(){if(K=!1,Le){var J=r.unstable_now();I=J;var oe=!0;try{e:{U=!1,H&&(H=!1,ae(A),A=-1),D=!0;var me=R;try{t:{for(be(J),T=n(p);T!==null&&!(T.expirationTime>J&&O());){var Fe=T.callback;if(typeof Fe=="function"){T.callback=null,R=T.priorityLevel;var Qe=Fe(T.expirationTime<=J);if(J=r.unstable_now(),typeof Qe=="function"){T.callback=Qe,be(J),oe=!0;break t}T===n(p)&&a(p),be(J)}else a(p);T=n(p)}if(T!==null)oe=!0;else{var V=n(y);V!==null&&Et(Ve,V.startTime-J),oe=!1}}break e}finally{T=null,R=me,D=!1}oe=void 0}}finally{oe?P():Le=!1}}}var P;if(typeof de=="function")P=function(){de(L)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,tt=C.port2;C.port1.onmessage=L,P=function(){tt.postMessage(null)}}else P=function(){he(L,0)};function Et(J,oe){A=he(function(){J(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(J){switch(R){case 1:case 2:case 3:var oe=3;break;default:oe=R}var me=R;R=oe;try{return J()}finally{R=me}},r.unstable_requestPaint=function(){K=!0},r.unstable_runWithPriority=function(J,oe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var me=R;R=J;try{return oe()}finally{R=me}},r.unstable_scheduleCallback=function(J,oe,me){var Fe=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Fe+me:Fe):me=Fe,J){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=me+Qe,J={id:E++,callback:oe,priorityLevel:J,startTime:me,expirationTime:Qe,sortIndex:-1},me>Fe?(J.sortIndex=me,e(y,J),n(p)===null&&J===n(y)&&(H?(ae(A),A=-1):H=!0,Et(Ve,me-Fe))):(J.sortIndex=Qe,e(p,J),U||D||(U=!0,Le||(Le=!0,P()))),J},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(J){var oe=R;return function(){var me=R;R=oe;try{return J.apply(this,arguments)}finally{R=me}}}})(Jd)),Jd}var g_;function Ib(){return g_||(g_=1,Xd.exports=Rb()),Xd.exports}var $d={exports:{}},wn={};var y_;function Cb(){if(y_)return wn;y_=1;var r=qm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,wn.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},wn.flushSync=function(p){var y=f.T,E=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=y,a.p=E,a.d.f()}},wn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},wn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},wn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,D=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:R,fetchPriority:D}):E==="script"&&a.d.X(p,{crossOrigin:T,integrity:R,fetchPriority:D,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},wn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},wn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);a.d.L(p,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},wn.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},wn.requestFormReset=function(p){a.d.r(p)},wn.unstable_batchedUpdates=function(p,y){return p(y)},wn.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},wn.useFormStatus=function(){return f.H.useHostTransitionStatus()},wn.version="19.2.0",wn}var v_;function l0(){if(v_)return $d.exports;v_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$d.exports=Cb(),$d.exports}var __;function Db(){if(__)return Ul;__=1;var r=Ib(),e=qm(),n=l0();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(a(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var v=!1,S=h.child;S;){if(S===s){v=!0,s=h,l=d;break}if(S===l){v=!0,l=h,s=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===s){v=!0,s=d,l=h;break}if(S===l){v=!0,l=d,s=h;break}S=S.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,R=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),ae=Symbol.for("react.consumer"),de=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),Ve=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function tt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case he:return"Profiler";case K:return"StrictMode";case Ve:return"Suspense";case Le:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case de:return t.displayName||"Context";case ae:return(t._context.displayName||"Context")+".Consumer";case be:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A:return i=t.displayName||null,i!==null?i:tt(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return tt(t(i))}catch{}}return null}var Et=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Fe=[],Qe=-1;function V(t){return{current:t}}function X(t){0>Qe||(t.current=Fe[Qe],Fe[Qe]=null,Qe--)}function se(t,i){Qe++,Fe[Qe]=t.current,t.current=i}var ge=V(null),Ae=V(null),Ne=V(null),ze=V(null);function Vt(t,i){switch(se(Ne,i),se(Ae,t),se(ge,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?xv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=xv(i),t=Lv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(ge),se(ge,t)}function St(){X(ge),X(Ae),X(Ne)}function fi(t){t.memoizedState!==null&&se(ze,t);var i=ge.current,s=Lv(i,t.type);i!==s&&(se(Ae,t),se(ge,s))}function Ri(t){Ae.current===t&&(X(ge),X(Ae)),ze.current===t&&(X(ze),Nl._currentValue=me)}var Nt,ei;function jn(t){if(Nt===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Nt=i&&i[1]||"",ei=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nt+t+ei}var tr=!1;function Bn(t,i){if(!t||tr)return"";tr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Q){var F=Q}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(Q){F=Q}t.call(Z.prototype)}}else{try{throw Error()}catch(Q){F=Q}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var N=v.split(`
`),q=S.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===q.length)for(l=N.length-1,h=q.length-1;1<=l&&0<=h&&N[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==q[h]){var $=`
`+N[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{tr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?jn(s):""}function Bo(t,i){switch(t.tag){case 26:case 27:case 5:return jn(t.type);case 16:return jn("Lazy");case 13:return t.child!==i&&i!==null?jn("Suspense Fallback"):jn("Suspense");case 19:return jn("SuspenseList");case 0:case 15:return Bn(t.type,!1);case 11:return Bn(t.type.render,!1);case 1:return Bn(t.type,!0);case 31:return jn("Activity");default:return""}}function Rs(t){try{var i="",s=null;do i+=Bo(t,s),s=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var nr=Object.prototype.hasOwnProperty,ir=r.unstable_scheduleCallback,kr=r.unstable_cancelCallback,qo=r.unstable_shouldYield,za=r.unstable_requestPaint,At=r.unstable_now,Ui=r.unstable_getCurrentPriorityLevel,xt=r.unstable_ImmediatePriority,Lt=r.unstable_UserBlockingPriority,rn=r.unstable_NormalPriority,qn=r.unstable_LowPriority,zr=r.unstable_IdlePriority,jr=r.log,rr=r.unstable_setDisableYieldValue,hn=null,Zt=null;function On(t){if(typeof jr=="function"&&rr(t),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(hn,t)}catch{}}var an=Math.clz32?Math.clz32:ar,Ho=Math.log,Br=Math.LN2;function ar(t){return t>>>=0,t===0?32:31-(Ho(t)/Br|0)|0}var Pi=256,Hn=262144,di=4194304;function ti(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Nn(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=ti(l):(v&=S,v!==0?h=ti(v):s||(s=S&~t,s!==0&&(h=ti(s))))):(S=l&~d,S!==0?h=ti(S):v!==0?h=ti(v):s||(s=l&~t,s!==0&&(h=ti(s)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:h}function ki(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function sr(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zi(){var t=di;return di<<=1,(di&62914560)===0&&(di=4194304),t}function Fn(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function ji(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function en(t,i,s,l,h,d){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,q=t.hiddenUpdates;for(s=v&~s;0<s;){var $=31-an(s),Z=1<<$;S[$]=0,N[$]=-1;var F=q[$];if(F!==null)for(q[$]=null,$=0;$<F.length;$++){var Q=F[$];Q!==null&&(Q.lane&=-536870913)}s&=~Z}l!==0&&M(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function M(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-an(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function k(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-an(s),h=1<<l;h&i|t[l]&i&&(t[l]|=i),s&=~h}}function G(t,i){var s=i&-i;return s=(s&42)!==0?1:ie(s),(s&(t.suspendedLanes|i))!==0?0:s}function ie(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function fe(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ee(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:r_(t.type))}function Ie(t,i){var s=oe.p;try{return oe.p=t,i()}finally{oe.p=s}}var pe=Math.random().toString(36).slice(2),ue="__reactFiber$"+pe,ce="__reactProps$"+pe,ye="__reactContainer$"+pe,De="__reactEvents$"+pe,xe="__reactListeners$"+pe,Ut="__reactHandles$"+pe,it="__reactResources$"+pe,Be="__reactMarker$"+pe;function ut(t){delete t[ue],delete t[ce],delete t[De],delete t[xe],delete t[Ut]}function Sn(t){var i=t[ue];if(i)return i;for(var s=t.parentNode;s;){if(i=s[ye]||s[ue]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=qv(t);t!==null;){if(s=t[ue])return s;t=qv(t)}return i}t=s,s=t.parentNode}return null}function Mn(t){if(t=t[ue]||t[ye]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function fn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function Pt(t){var i=t[it];return i||(i=t[it]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function bt(t){t[Be]=!0}var mi=new Set,An={};function Ft(t,i){Vn(t,i),Vn(t+"Capture",i)}function Vn(t,i){for(An[t]=i,t=0;t<i.length;t++)mi.add(i[t])}var Ye=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gt={},pi={};function Bi(t){return nr.call(pi,t)?!0:nr.call(gt,t)?!1:Ye.test(t)?pi[t]=!0:(gt[t]=!0,!1)}function ht(t,i,s){if(Bi(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function xn(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Ln(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}function dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Qh(t,i,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){s=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(v){s=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Is(t){if(!t._valueTracker){var i=wu(t)?"checked":"value";t._valueTracker=Qh(t,i,""+t[i])}}function Fo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=wu(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function Cs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var or=/[\n"\\]/g;function kt(t){return t.replace(or,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function qr(t,i,s,l,h,d,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+dn(i)):t.value!==""+dn(i)&&(t.value=""+dn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Ds(t,v,dn(i)):s!=null?Ds(t,v,dn(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+dn(S):t.removeAttribute("name")}function ja(t,i,s,l,h,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Is(t);return}s=s!=null?""+dn(s):"",i=i!=null?""+dn(i):s,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Is(t)}function Ds(t,i,s){i==="number"&&Cs(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function rt(t,i,s,l){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+dn(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ba(t,i,s){if(i!=null&&(i=""+dn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+dn(s):""}function Hr(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(Et(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=dn(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Is(t)}function gi(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Yh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||Yh.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Ru(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&Go(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Go(t,d,i[d])}function Ko(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qi(t){return Jh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function sn(){}var Os=null;function Ns(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lr=null,ni=null;function Iu(t){var i=Mn(t);if(i&&(t=i.stateNode)){var s=t[ce]||null;e:switch(t=i.stateNode,i.type){case"input":if(qr(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+kt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var h=l[ce]||null;if(!h)throw Error(a(90));qr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&Fo(l)}break e;case"textarea":Ba(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&rt(t,!!s.multiple,i,!1)}}}var Qo=!1;function Cu(t,i,s){if(Qo)return t(i,s);Qo=!0;try{var l=t(i);return l}finally{if(Qo=!1,(lr!==null||ni!==null)&&(bc(),lr&&(i=lr,t=ni,ni=lr=null,Iu(i),t)))for(i=0;i<t.length;i++)Iu(t[i])}}function Gn(t,i){var s=t.stateNode;if(s===null)return null;var l=s[ce]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yo=!1;if(Ii)try{var Hi={};Object.defineProperty(Hi,"passive",{get:function(){Yo=!0}}),window.addEventListener("test",Hi,Hi),window.removeEventListener("test",Hi,Hi)}catch{Yo=!1}var ii=null,Ms=null,Fi=null;function Fr(){if(Fi)return Fi;var t,i=Ms,s=i.length,l,h="value"in ii?ii.value:ii.textContent,d=h.length;for(t=0;t<s&&i[t]===h[t];t++);var v=s-t;for(l=1;l<=v&&i[s-l]===h[d-l];l++);return Fi=h.slice(t,1<l?1-l:void 0)}function qa(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Gr(){return!0}function wt(){return!1}function bn(t){function i(s,l,h,d,v){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(s=t[S],this[S]=s?s(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Gr:wt,this.isPropagationStopped=wt,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Gr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Gr)},persist:function(){},isPersistent:Gr}),i}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=bn(ur),Kr=T({},ur,{view:0,detail:0}),Du=bn(Kr),Qr,Vs,Un,Fa=T({},Kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Un&&(Un&&t.type==="mousemove"?(Qr=t.screenX-Un.screenX,Vs=t.screenY-Un.screenY):Vs=Qr=0,Un=t),Qr)},movementY:function(t){return"movementY"in t?t.movementY:Vs}}),Ou=bn(Fa),Ga=T({},Fa,{dataTransfer:0}),Nu=bn(Ga),Xo=T({},Kr,{relatedTarget:0}),Yr=bn(Xo),Mu=T({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),xs=bn(Mu),$h=T({},ur,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vu=bn($h),Ka=T({},ur,{data:0}),Jo=bn(Ka),xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Wo[t])?!!i[t]:!1}function Xr(){return Lu}var Uu=T({},Kr,{key:function(t){if(t.key){var i=xu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=qa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$o[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xr,charCode:function(t){return t.type==="keypress"?qa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pu=bn(Uu),cr=T({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zo=bn(cr),ku=T({},Kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xr}),zu=bn(ku),ju=T({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ls=bn(ju),Pn=T({},Fa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Bu=bn(Pn),qu=T({},ur,{newState:0,oldState:0}),Jr=bn(qu),c=[9,13,27,32],g=Ii&&"CompositionEvent"in window,_=null;Ii&&"documentMode"in document&&(_=document.documentMode);var b=Ii&&"TextEvent"in window&&!_,j=Ii&&(!g||_&&8<_&&11>=_),Y=" ",le=!1;function ct(t,i){switch(t){case"keyup":return c.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var He=!1;function on(t,i){switch(t){case"compositionend":return Gt(i);case"keypress":return i.which!==32?null:(le=!0,Y);case"textInput":return t=i.data,t===Y&&le?null:t;default:return null}}function ln(t,i){if(He)return t==="compositionend"||!g&&ct(t,i)?(t=Fr(),Fi=Ms=ii=null,He=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return j&&i.locale!=="ko"?null:i.data;default:return null}}var $r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!$r[t.type]:i==="textarea"}function Qa(t,i,s,l){lr?ni?ni.push(l):ni=[l]:lr=l,i=Nc(i,"onChange"),0<i.length&&(s=new Ha("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var hr=null,el=null;function YS(t){Cv(t,0)}function Hu(t){var i=fn(t);if(Fo(i))return t}function Qp(t,i){if(t==="change")return i}var Yp=!1;if(Ii){var Wh;if(Ii){var Zh="oninput"in document;if(!Zh){var Xp=document.createElement("div");Xp.setAttribute("oninput","return;"),Zh=typeof Xp.oninput=="function"}Wh=Zh}else Wh=!1;Yp=Wh&&(!document.documentMode||9<document.documentMode)}function Jp(){hr&&(hr.detachEvent("onpropertychange",$p),el=hr=null)}function $p(t){if(t.propertyName==="value"&&Hu(el)){var i=[];Qa(i,el,t,Ns(t)),Cu(YS,i)}}function XS(t,i,s){t==="focusin"?(Jp(),hr=i,el=s,hr.attachEvent("onpropertychange",$p)):t==="focusout"&&Jp()}function JS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hu(el)}function $S(t,i){if(t==="click")return Hu(i)}function WS(t,i){if(t==="input"||t==="change")return Hu(i)}function ZS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var ri=typeof Object.is=="function"?Object.is:ZS;function tl(t,i){if(ri(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!nr.call(i,h)||!ri(t[h],i[h]))return!1}return!0}function Wp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zp(t,i){var s=Wp(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Wp(s)}}function eg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?eg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function tg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Cs(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=Cs(t.document)}return i}function ef(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var eA=Ii&&"documentMode"in document&&11>=document.documentMode,Us=null,tf=null,nl=null,nf=!1;function ng(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;nf||Us==null||Us!==Cs(l)||(l=Us,"selectionStart"in l&&ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&tl(nl,l)||(nl=l,l=Nc(tf,"onSelect"),0<l.length&&(i=new Ha("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=Us)))}function Ya(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Ps={animationend:Ya("Animation","AnimationEnd"),animationiteration:Ya("Animation","AnimationIteration"),animationstart:Ya("Animation","AnimationStart"),transitionrun:Ya("Transition","TransitionRun"),transitionstart:Ya("Transition","TransitionStart"),transitioncancel:Ya("Transition","TransitionCancel"),transitionend:Ya("Transition","TransitionEnd")},rf={},ig={};Ii&&(ig=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function Xa(t){if(rf[t])return rf[t];if(!Ps[t])return t;var i=Ps[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in ig)return rf[t]=i[s];return t}var rg=Xa("animationend"),ag=Xa("animationiteration"),sg=Xa("animationstart"),tA=Xa("transitionrun"),nA=Xa("transitionstart"),iA=Xa("transitioncancel"),og=Xa("transitionend"),lg=new Map,af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");af.push("scrollEnd");function Ci(t,i){lg.set(t,i),Ft(i,[t])}var Fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},yi=[],ks=0,sf=0;function Gu(){for(var t=ks,i=sf=ks=0;i<t;){var s=yi[i];yi[i++]=null;var l=yi[i];yi[i++]=null;var h=yi[i];yi[i++]=null;var d=yi[i];if(yi[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&ug(s,h,d)}}function Ku(t,i,s,l){yi[ks++]=t,yi[ks++]=i,yi[ks++]=s,yi[ks++]=l,sf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function of(t,i,s,l){return Ku(t,i,s,l),Qu(t)}function Ja(t,i){return Ku(t,null,null,i),Qu(t)}function ug(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-an(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=s|536870912),d):null}function Qu(t){if(50<bl)throw bl=0,gd=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var zs={};function rA(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(t,i,s,l){return new rA(t,i,s,l)}function lf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fr(t,i){var s=t.alternate;return s===null?(s=ai(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function cg(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Yu(t,i,s,l,h,d){var v=0;if(l=t,typeof t=="function")lf(t)&&(v=1);else if(typeof t=="string")v=ub(t,s,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=ai(31,s,i,h),t.elementType=I,t.lanes=d,t;case H:return $a(s.children,h,d,i);case K:v=8,h|=24;break;case he:return t=ai(12,s,i,h|2),t.elementType=he,t.lanes=d,t;case Ve:return t=ai(13,s,i,h),t.elementType=Ve,t.lanes=d,t;case Le:return t=ai(19,s,i,h),t.elementType=Le,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case de:v=10;break e;case ae:v=9;break e;case be:v=11;break e;case A:v=14;break e;case w:v=16,l=null;break e}v=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=ai(v,s,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function $a(t,i,s,l){return t=ai(7,t,l,i),t.lanes=s,t}function uf(t,i,s){return t=ai(6,t,null,i),t.lanes=s,t}function hg(t){var i=ai(18,null,null,0);return i.stateNode=t,i}function cf(t,i,s){return i=ai(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var fg=new WeakMap;function vi(t,i){if(typeof t=="object"&&t!==null){var s=fg.get(t);return s!==void 0?s:(i={value:t,source:i,stack:Rs(i)},fg.set(t,i),i)}return{value:t,source:i,stack:Rs(i)}}var js=[],Bs=0,Xu=null,il=0,_i=[],Ei=0,Wr=null,Gi=1,Ki="";function dr(t,i){js[Bs++]=il,js[Bs++]=Xu,Xu=t,il=i}function dg(t,i,s){_i[Ei++]=Gi,_i[Ei++]=Ki,_i[Ei++]=Wr,Wr=t;var l=Gi;t=Ki;var h=32-an(l)-1;l&=~(1<<h),s+=1;var d=32-an(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Gi=1<<32-an(i)+h|s<<h|l,Ki=d+t}else Gi=1<<d|s<<h|l,Ki=t}function hf(t){t.return!==null&&(dr(t,1),dg(t,1,0))}function ff(t){for(;t===Xu;)Xu=js[--Bs],js[Bs]=null,il=js[--Bs],js[Bs]=null;for(;t===Wr;)Wr=_i[--Ei],_i[Ei]=null,Ki=_i[--Ei],_i[Ei]=null,Gi=_i[--Ei],_i[Ei]=null}function mg(t,i){_i[Ei++]=Gi,_i[Ei++]=Ki,_i[Ei++]=Wr,Gi=i.id,Ki=i.overflow,Wr=t}var mn=null,Rt=null,Ze=!1,Zr=null,Ti=!1,df=Error(a(519));function ea(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(vi(i,t)),df}function pg(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[ue]=t,i[ce]=l,s){case"dialog":Ke("cancel",i),Ke("close",i);break;case"iframe":case"object":case"embed":Ke("load",i);break;case"video":case"audio":for(s=0;s<Rl.length;s++)Ke(Rl[s],i);break;case"source":Ke("error",i);break;case"img":case"image":case"link":Ke("error",i),Ke("load",i);break;case"details":Ke("toggle",i);break;case"input":Ke("invalid",i),ja(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ke("invalid",i);break;case"textarea":Ke("invalid",i),Hr(i,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||Mv(i.textContent,s)?(l.popover!=null&&(Ke("beforetoggle",i),Ke("toggle",i)),l.onScroll!=null&&Ke("scroll",i),l.onScrollEnd!=null&&Ke("scrollend",i),l.onClick!=null&&(i.onclick=sn),i=!0):i=!1,i||ea(t,!0)}function gg(t){for(mn=t.return;mn;)switch(mn.tag){case 5:case 31:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:mn=mn.return}}function qs(t){if(t!==mn)return!1;if(!Ze)return gg(t),Ze=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Nd(t.type,t.memoizedProps)),s=!s),s&&Rt&&ea(t),gg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Rt=Bv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Rt=Bv(t)}else i===27?(i=Rt,ma(t.type)?(t=Ud,Ud=null,Rt=t):Rt=i):Rt=mn?Ai(t.stateNode.nextSibling):null;return!0}function Wa(){Rt=mn=null,Ze=!1}function mf(){var t=Zr;return t!==null&&(Jn===null?Jn=t:Jn.push.apply(Jn,t),Zr=null),t}function rl(t){Zr===null?Zr=[t]:Zr.push(t)}var pf=V(null),Za=null,mr=null;function ta(t,i,s){se(pf,i._currentValue),i._currentValue=s}function pr(t){t._currentValue=pf.current,X(pf)}function gf(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function yf(t,i,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=s,S=d.alternate,S!==null&&(S.lanes|=s),gf(d.return,s,t),l||(v=null);break e}d=S.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(a(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),gf(v,s,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Hs(t,i,s,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var S=h.type;ri(h.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(h===ze.current){if(v=h.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&yf(i,t,s,l),i.flags|=262144}function Ju(t){for(t=t.firstContext;t!==null;){if(!ri(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function es(t){Za=t,mr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function pn(t){return yg(Za,t)}function $u(t,i){return Za===null&&es(t),yg(t,i)}function yg(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},mr===null){if(t===null)throw Error(a(308));mr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else mr=mr.next=i;return s}var aA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},sA=r.unstable_scheduleCallback,oA=r.unstable_NormalPriority,Kt={$$typeof:de,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new aA,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&sA(oA,function(){t.controller.abort()})}var sl=null,_f=0,Fs=0,Gs=null;function lA(t,i){if(sl===null){var s=sl=[];_f=0,Fs=Sd(),Gs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return _f++,i.then(vg,vg),i}function vg(){if(--_f===0&&sl!==null){Gs!==null&&(Gs.status="fulfilled");var t=sl;sl=null,Fs=0,Gs=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function uA(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var _g=J.S;J.S=function(t,i){nv=At(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&lA(t,i),_g!==null&&_g(t,i)};var ts=V(null);function Ef(){var t=ts.current;return t!==null?t:Tt.pooledCache}function Wu(t,i){i===null?se(ts,ts.current):se(ts,i.pool)}function Eg(){var t=Ef();return t===null?null:{parent:Kt._currentValue,pool:t}}var Ks=Error(a(460)),Tf=Error(a(474)),Zu=Error(a(542)),ec={then:function(){}};function Tg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Sg(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(sn,sn),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,bg(t),t;default:if(typeof i.status=="string")i.then(sn,sn);else{if(t=Tt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,bg(t),t}throw is=i,Ks}}function ns(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(is=s,Ks):s}}var is=null;function Ag(){if(is===null)throw Error(a(459));var t=is;return is=null,t}function bg(t){if(t===Ks||t===Zu)throw Error(a(483))}var Qs=null,ol=0;function tc(t){var i=ol;return ol+=1,Qs===null&&(Qs=[]),Sg(Qs,t,i)}function ll(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function nc(t,i){throw i.$$typeof===R?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function wg(t){function i(z,x){if(t){var B=z.deletions;B===null?(z.deletions=[x],z.flags|=16):B.push(x)}}function s(z,x){if(!t)return null;for(;x!==null;)i(z,x),x=x.sibling;return null}function l(z){for(var x=new Map;z!==null;)z.key!==null?x.set(z.key,z):x.set(z.index,z),z=z.sibling;return x}function h(z,x){return z=fr(z,x),z.index=0,z.sibling=null,z}function d(z,x,B){return z.index=B,t?(B=z.alternate,B!==null?(B=B.index,B<x?(z.flags|=67108866,x):B):(z.flags|=67108866,x)):(z.flags|=1048576,x)}function v(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function S(z,x,B,W){return x===null||x.tag!==6?(x=uf(B,z.mode,W),x.return=z,x):(x=h(x,B),x.return=z,x)}function N(z,x,B,W){var we=B.type;return we===H?$(z,x,B.props.children,W,B.key):x!==null&&(x.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===w&&ns(we)===x.type)?(x=h(x,B.props),ll(x,B),x.return=z,x):(x=Yu(B.type,B.key,B.props,null,z.mode,W),ll(x,B),x.return=z,x)}function q(z,x,B,W){return x===null||x.tag!==4||x.stateNode.containerInfo!==B.containerInfo||x.stateNode.implementation!==B.implementation?(x=cf(B,z.mode,W),x.return=z,x):(x=h(x,B.children||[]),x.return=z,x)}function $(z,x,B,W,we){return x===null||x.tag!==7?(x=$a(B,z.mode,W,we),x.return=z,x):(x=h(x,B),x.return=z,x)}function Z(z,x,B){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=uf(""+x,z.mode,B),x.return=z,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case D:return B=Yu(x.type,x.key,x.props,null,z.mode,B),ll(B,x),B.return=z,B;case U:return x=cf(x,z.mode,B),x.return=z,x;case w:return x=ns(x),Z(z,x,B)}if(Et(x)||P(x))return x=$a(x,z.mode,B,null),x.return=z,x;if(typeof x.then=="function")return Z(z,tc(x),B);if(x.$$typeof===de)return Z(z,$u(z,x),B);nc(z,x)}return null}function F(z,x,B,W){var we=x!==null?x.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return we!==null?null:S(z,x,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case D:return B.key===we?N(z,x,B,W):null;case U:return B.key===we?q(z,x,B,W):null;case w:return B=ns(B),F(z,x,B,W)}if(Et(B)||P(B))return we!==null?null:$(z,x,B,W,null);if(typeof B.then=="function")return F(z,x,tc(B),W);if(B.$$typeof===de)return F(z,x,$u(z,B),W);nc(z,B)}return null}function Q(z,x,B,W,we){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(B)||null,S(x,z,""+W,we);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case D:return z=z.get(W.key===null?B:W.key)||null,N(x,z,W,we);case U:return z=z.get(W.key===null?B:W.key)||null,q(x,z,W,we);case w:return W=ns(W),Q(z,x,B,W,we)}if(Et(W)||P(W))return z=z.get(B)||null,$(x,z,W,we,null);if(typeof W.then=="function")return Q(z,x,B,tc(W),we);if(W.$$typeof===de)return Q(z,x,B,$u(x,W),we);nc(x,W)}return null}function _e(z,x,B,W){for(var we=null,at=null,Se=x,qe=x=0,Je=null;Se!==null&&qe<B.length;qe++){Se.index>qe?(Je=Se,Se=null):Je=Se.sibling;var st=F(z,Se,B[qe],W);if(st===null){Se===null&&(Se=Je);break}t&&Se&&st.alternate===null&&i(z,Se),x=d(st,x,qe),at===null?we=st:at.sibling=st,at=st,Se=Je}if(qe===B.length)return s(z,Se),Ze&&dr(z,qe),we;if(Se===null){for(;qe<B.length;qe++)Se=Z(z,B[qe],W),Se!==null&&(x=d(Se,x,qe),at===null?we=Se:at.sibling=Se,at=Se);return Ze&&dr(z,qe),we}for(Se=l(Se);qe<B.length;qe++)Je=Q(Se,z,qe,B[qe],W),Je!==null&&(t&&Je.alternate!==null&&Se.delete(Je.key===null?qe:Je.key),x=d(Je,x,qe),at===null?we=Je:at.sibling=Je,at=Je);return t&&Se.forEach(function(_a){return i(z,_a)}),Ze&&dr(z,qe),we}function Ce(z,x,B,W){if(B==null)throw Error(a(151));for(var we=null,at=null,Se=x,qe=x=0,Je=null,st=B.next();Se!==null&&!st.done;qe++,st=B.next()){Se.index>qe?(Je=Se,Se=null):Je=Se.sibling;var _a=F(z,Se,st.value,W);if(_a===null){Se===null&&(Se=Je);break}t&&Se&&_a.alternate===null&&i(z,Se),x=d(_a,x,qe),at===null?we=_a:at.sibling=_a,at=_a,Se=Je}if(st.done)return s(z,Se),Ze&&dr(z,qe),we;if(Se===null){for(;!st.done;qe++,st=B.next())st=Z(z,st.value,W),st!==null&&(x=d(st,x,qe),at===null?we=st:at.sibling=st,at=st);return Ze&&dr(z,qe),we}for(Se=l(Se);!st.done;qe++,st=B.next())st=Q(Se,z,qe,st.value,W),st!==null&&(t&&st.alternate!==null&&Se.delete(st.key===null?qe:st.key),x=d(st,x,qe),at===null?we=st:at.sibling=st,at=st);return t&&Se.forEach(function(Eb){return i(z,Eb)}),Ze&&dr(z,qe),we}function _t(z,x,B,W){if(typeof B=="object"&&B!==null&&B.type===H&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case D:e:{for(var we=B.key;x!==null;){if(x.key===we){if(we=B.type,we===H){if(x.tag===7){s(z,x.sibling),W=h(x,B.props.children),W.return=z,z=W;break e}}else if(x.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===w&&ns(we)===x.type){s(z,x.sibling),W=h(x,B.props),ll(W,B),W.return=z,z=W;break e}s(z,x);break}else i(z,x);x=x.sibling}B.type===H?(W=$a(B.props.children,z.mode,W,B.key),W.return=z,z=W):(W=Yu(B.type,B.key,B.props,null,z.mode,W),ll(W,B),W.return=z,z=W)}return v(z);case U:e:{for(we=B.key;x!==null;){if(x.key===we)if(x.tag===4&&x.stateNode.containerInfo===B.containerInfo&&x.stateNode.implementation===B.implementation){s(z,x.sibling),W=h(x,B.children||[]),W.return=z,z=W;break e}else{s(z,x);break}else i(z,x);x=x.sibling}W=cf(B,z.mode,W),W.return=z,z=W}return v(z);case w:return B=ns(B),_t(z,x,B,W)}if(Et(B))return _e(z,x,B,W);if(P(B)){if(we=P(B),typeof we!="function")throw Error(a(150));return B=we.call(B),Ce(z,x,B,W)}if(typeof B.then=="function")return _t(z,x,tc(B),W);if(B.$$typeof===de)return _t(z,x,$u(z,B),W);nc(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,x!==null&&x.tag===6?(s(z,x.sibling),W=h(x,B),W.return=z,z=W):(s(z,x),W=uf(B,z.mode,W),W.return=z,z=W),v(z)):s(z,x)}return function(z,x,B,W){try{ol=0;var we=_t(z,x,B,W);return Qs=null,we}catch(Se){if(Se===Ks||Se===Zu)throw Se;var at=ai(29,Se,null,z.mode);return at.lanes=W,at.return=z,at}finally{}}}var rs=wg(!0),Rg=wg(!1),na=!1;function Sf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Af(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ia(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ra(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(lt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Qu(t),ug(t,null,s),i}return Ku(t,l,i,s),Qu(t)}function ul(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,k(t,s)}}function bf(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?h=d=i:d=d.next=i}else h=d=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var wf=!1;function cl(){if(wf){var t=Gs;if(t!==null)throw t}}function hl(t,i,s,l){wf=!1;var h=t.updateQueue;na=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var N=S,q=N.next;N.next=null,v===null?d=q:v.next=q,v=N;var $=t.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==v&&(S===null?$.firstBaseUpdate=q:S.next=q,$.lastBaseUpdate=N))}if(d!==null){var Z=h.baseState;v=0,$=q=N=null,S=d;do{var F=S.lane&-536870913,Q=F!==S.lane;if(Q?(Xe&F)===F:(l&F)===F){F!==0&&F===Fs&&(wf=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var _e=t,Ce=S;F=i;var _t=s;switch(Ce.tag){case 1:if(_e=Ce.payload,typeof _e=="function"){Z=_e.call(_t,Z,F);break e}Z=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ce.payload,F=typeof _e=="function"?_e.call(_t,Z,F):_e,F==null)break e;Z=T({},Z,F);break e;case 2:na=!0}}F=S.callback,F!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(q=$=Q,N=Z):$=$.next=Q,v|=F;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);$===null&&(N=Z),h.baseState=N,h.firstBaseUpdate=q,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),ua|=v,t.lanes=v,t.memoizedState=Z}}function Ig(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Cg(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Ig(s[t],i)}var Ys=V(null),ic=V(0);function Dg(t,i){t=br,se(ic,t),se(Ys,i),br=t|i.baseLanes}function Rf(){se(ic,br),se(Ys,Ys.current)}function If(){br=ic.current,X(Ys),X(ic)}var si=V(null),Si=null;function aa(t){var i=t.alternate;se(Bt,Bt.current&1),se(si,t),Si===null&&(i===null||Ys.current!==null||i.memoizedState!==null)&&(Si=t)}function Cf(t){se(Bt,Bt.current),se(si,t),Si===null&&(Si=t)}function Og(t){t.tag===22?(se(Bt,Bt.current),se(si,t),Si===null&&(Si=t)):sa()}function sa(){se(Bt,Bt.current),se(si,si.current)}function oi(t){X(si),Si===t&&(Si=null),X(Bt)}var Bt=V(0);function rc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||xd(s)||Ld(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var gr=0,je=null,yt=null,Qt=null,ac=!1,Xs=!1,as=!1,sc=0,fl=0,Js=null,cA=0;function zt(){throw Error(a(321))}function Df(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!ri(t[s],i[s]))return!1;return!0}function Of(t,i,s,l,h,d){return gr=d,je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,J.H=t===null||t.memoizedState===null?dy:Gf,as=!1,d=s(l,h),as=!1,Xs&&(d=Mg(i,s,l,h)),Ng(t),d}function Ng(t){J.H=pl;var i=yt!==null&&yt.next!==null;if(gr=0,Qt=yt=je=null,ac=!1,fl=0,Js=null,i)throw Error(a(300));t===null||Yt||(t=t.dependencies,t!==null&&Ju(t)&&(Yt=!0))}function Mg(t,i,s,l){je=t;var h=0;do{if(Xs&&(Js=null),fl=0,Xs=!1,25<=h)throw Error(a(301));if(h+=1,Qt=yt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}J.H=my,d=i(s,l)}while(Xs);return d}function hA(){var t=J.H,i=t.useState()[0];return i=typeof i.then=="function"?dl(i):i,t=t.useState()[0],(yt!==null?yt.memoizedState:null)!==t&&(je.flags|=1024),i}function Nf(){var t=sc!==0;return sc=0,t}function Mf(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Vf(t){if(ac){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ac=!1}gr=0,Qt=yt=je=null,Xs=!1,fl=sc=0,Js=null}function kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?je.memoizedState=Qt=t:Qt=Qt.next=t,Qt}function qt(){if(yt===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var i=Qt===null?je.memoizedState:Qt.next;if(i!==null)Qt=i,yt=t;else{if(t===null)throw je.alternate===null?Error(a(467)):Error(a(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Qt===null?je.memoizedState=Qt=t:Qt=Qt.next=t}return Qt}function oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(t){var i=fl;return fl+=1,Js===null&&(Js=[]),t=Sg(Js,t,i),i=je,(Qt===null?i.memoizedState:Qt.next)===null&&(i=i.alternate,J.H=i===null||i.memoizedState===null?dy:Gf),t}function lc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===de)return pn(t)}throw Error(a(438,String(t)))}function xf(t){var i=null,s=je.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=oc(),je.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=O;return i.index++,s}function yr(t,i){return typeof i=="function"?i(t):i}function uc(t){var i=qt();return Lf(i,yt,t)}function Lf(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=v=null,N=null,q=i,$=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(Xe&Z)===Z:(gr&Z)===Z){var F=q.revertLane;if(F===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===Fs&&($=!0);else if((gr&F)===F){q=q.next,F===Fs&&($=!0);continue}else Z={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(S=N=Z,v=d):N=N.next=Z,je.lanes|=F,ua|=F;Z=q.action,as&&s(d,Z),d=q.hasEagerState?q.eagerState:s(d,Z)}else F={lane:Z,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(S=N=F,v=d):N=N.next=F,je.lanes|=Z,ua|=Z;q=q.next}while(q!==null&&q!==i);if(N===null?v=d:N.next=S,!ri(d,t.memoizedState)&&(Yt=!0,$&&(s=Gs,s!==null)))throw s;t.memoizedState=d,t.baseState=v,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Uf(t){var i=qt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=i.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);ri(d,i.memoizedState)||(Yt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function Vg(t,i,s){var l=je,h=qt(),d=Ze;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var v=!ri((yt||h).memoizedState,s);if(v&&(h.memoizedState=s,Yt=!0),h=h.queue,zf(Ug.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||Qt!==null&&Qt.memoizedState.tag&1){if(l.flags|=2048,$s(9,{destroy:void 0},Lg.bind(null,l,h,s,i),null),Tt===null)throw Error(a(349));d||(gr&127)!==0||xg(l,i,s)}return s}function xg(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=je.updateQueue,i===null?(i=oc(),je.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function Lg(t,i,s,l){i.value=s,i.getSnapshot=l,Pg(i)&&kg(t)}function Ug(t,i,s){return s(function(){Pg(i)&&kg(t)})}function Pg(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!ri(t,s)}catch{return!0}}function kg(t){var i=Ja(t,2);i!==null&&$n(i,t,2)}function Pf(t){var i=kn();if(typeof t=="function"){var s=t;if(t=s(),as){On(!0);try{s()}finally{On(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:t},i}function zg(t,i,s,l){return t.baseState=s,Lf(t,yt,typeof l=="function"?l:yr)}function fA(t,i,s,l,h){if(fc(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};J.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,jg(i,d)):(d.next=s.next,i.pending=s.next=d)}}function jg(t,i){var s=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=J.T,v={};J.T=v;try{var S=s(h,l),N=J.S;N!==null&&N(v,S),Bg(t,i,S)}catch(q){kf(t,i,q)}finally{d!==null&&v.types!==null&&(d.types=v.types),J.T=d}}else try{d=s(h,l),Bg(t,i,d)}catch(q){kf(t,i,q)}}function Bg(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){qg(t,i,l)},function(l){return kf(t,i,l)}):qg(t,i,s)}function qg(t,i,s){i.status="fulfilled",i.value=s,Hg(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,jg(t,s)))}function kf(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Hg(i),i=i.next;while(i!==l)}t.action=null}function Hg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Fg(t,i){return i}function Gg(t,i){if(Ze){var s=Tt.formState;if(s!==null){e:{var l=je;if(Ze){if(Rt){t:{for(var h=Rt,d=Ti;h.nodeType!==8;){if(!d){h=null;break t}if(h=Ai(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Rt=Ai(h.nextSibling),l=h.data==="F!";break e}}ea(l)}l=!1}l&&(i=s[0])}}return s=kn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fg,lastRenderedState:i},s.queue=l,s=cy.bind(null,je,l),l.dispatch=s,l=Pf(!1),d=Ff.bind(null,je,!1,l.queue),l=kn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,s=fA.bind(null,je,h,d,s),h.dispatch=s,l.memoizedState=t,[i,s,!1]}function Kg(t){var i=qt();return Qg(i,yt,t)}function Qg(t,i,s){if(i=Lf(t,i,Fg)[0],t=uc(yr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=dl(i)}catch(v){throw v===Ks?Zu:v}else l=i;i=qt();var h=i.queue,d=h.dispatch;return s!==i.memoizedState&&(je.flags|=2048,$s(9,{destroy:void 0},dA.bind(null,h,s),null)),[l,d,t]}function dA(t,i){t.action=i}function Yg(t){var i=qt(),s=yt;if(s!==null)return Qg(i,s,t);qt(),i=i.memoizedState,s=qt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function $s(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=je.updateQueue,i===null&&(i=oc(),je.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function Xg(){return qt().memoizedState}function cc(t,i,s,l){var h=kn();je.flags|=t,h.memoizedState=$s(1|i,{destroy:void 0},s,l===void 0?null:l)}function hc(t,i,s,l){var h=qt();l=l===void 0?null:l;var d=h.memoizedState.inst;yt!==null&&l!==null&&Df(l,yt.memoizedState.deps)?h.memoizedState=$s(i,d,s,l):(je.flags|=t,h.memoizedState=$s(1|i,d,s,l))}function Jg(t,i){cc(8390656,8,t,i)}function zf(t,i){hc(2048,8,t,i)}function mA(t){je.flags|=4;var i=je.updateQueue;if(i===null)i=oc(),je.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function $g(t){var i=qt().memoizedState;return mA({ref:i,nextImpl:t}),function(){if((lt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function Wg(t,i){return hc(4,2,t,i)}function Zg(t,i){return hc(4,4,t,i)}function ey(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ty(t,i,s){s=s!=null?s.concat([t]):null,hc(4,4,ey.bind(null,i,t),s)}function jf(){}function ny(t,i){var s=qt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Df(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function iy(t,i){var s=qt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Df(i,l[1]))return l[0];if(l=t(),as){On(!0);try{t()}finally{On(!1)}}return s.memoizedState=[l,i],l}function Bf(t,i,s){return s===void 0||(gr&1073741824)!==0&&(Xe&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=rv(),je.lanes|=t,ua|=t,s)}function ry(t,i,s,l){return ri(s,i)?s:Ys.current!==null?(t=Bf(t,s,l),ri(t,i)||(Yt=!0),t):(gr&42)===0||(gr&1073741824)!==0&&(Xe&261930)===0?(Yt=!0,t.memoizedState=s):(t=rv(),je.lanes|=t,ua|=t,i)}function ay(t,i,s,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var v=J.T,S={};J.T=S,Ff(t,!1,i,s);try{var N=h(),q=J.S;if(q!==null&&q(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=uA(N,l);ml(t,i,$,ci(t))}else ml(t,i,l,ci(t))}catch(Z){ml(t,i,{then:function(){},status:"rejected",reason:Z},ci())}finally{oe.p=d,v!==null&&S.types!==null&&(v.types=S.types),J.T=v}}function pA(){}function qf(t,i,s,l){if(t.tag!==5)throw Error(a(476));var h=sy(t).queue;ay(t,h,i,me,s===null?pA:function(){return oy(t),s(l)})}function sy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:me},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function oy(t){var i=sy(t);i.next===null&&(i=t.alternate.memoizedState),ml(t,i.next.queue,{},ci())}function Hf(){return pn(Nl)}function ly(){return qt().memoizedState}function uy(){return qt().memoizedState}function gA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=ci();t=ia(s);var l=ra(i,t,s);l!==null&&($n(l,i,s),ul(l,i,s)),i={cache:vf()},t.payload=i;return}i=i.return}}function yA(t,i,s){var l=ci();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},fc(t)?hy(i,s):(s=of(t,i,s,l),s!==null&&($n(s,t,l),fy(s,i,l)))}function cy(t,i,s){var l=ci();ml(t,i,s,l)}function ml(t,i,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(fc(t))hy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,S=d(v,s);if(h.hasEagerState=!0,h.eagerState=S,ri(S,v))return Ku(t,i,h,0),Tt===null&&Gu(),!1}catch{}finally{}if(s=of(t,i,h,l),s!==null)return $n(s,t,l),fy(s,i,l),!0}return!1}function Ff(t,i,s,l){if(l={lane:2,revertLane:Sd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},fc(t)){if(i)throw Error(a(479))}else i=of(t,s,l,2),i!==null&&$n(i,t,2)}function fc(t){var i=t.alternate;return t===je||i!==null&&i===je}function hy(t,i){Xs=ac=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function fy(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,k(t,s)}}var pl={readContext:pn,use:lc,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt};pl.useEffectEvent=zt;var dy={readContext:pn,use:lc,useCallback:function(t,i){return kn().memoizedState=[t,i===void 0?null:i],t},useContext:pn,useEffect:Jg,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,cc(4194308,4,ey.bind(null,i,t),s)},useLayoutEffect:function(t,i){return cc(4194308,4,t,i)},useInsertionEffect:function(t,i){cc(4,2,t,i)},useMemo:function(t,i){var s=kn();i=i===void 0?null:i;var l=t();if(as){On(!0);try{t()}finally{On(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=kn();if(s!==void 0){var h=s(i);if(as){On(!0);try{s(i)}finally{On(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=yA.bind(null,je,t),[l.memoizedState,t]},useRef:function(t){var i=kn();return t={current:t},i.memoizedState=t},useState:function(t){t=Pf(t);var i=t.queue,s=cy.bind(null,je,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:jf,useDeferredValue:function(t,i){var s=kn();return Bf(s,t,i)},useTransition:function(){var t=Pf(!1);return t=ay.bind(null,je,t.queue,!0,!1),kn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=je,h=kn();if(Ze){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),Tt===null)throw Error(a(349));(Xe&127)!==0||xg(l,i,s)}h.memoizedState=s;var d={value:s,getSnapshot:i};return h.queue=d,Jg(Ug.bind(null,l,d,t),[t]),l.flags|=2048,$s(9,{destroy:void 0},Lg.bind(null,l,d,s,i),null),s},useId:function(){var t=kn(),i=Tt.identifierPrefix;if(Ze){var s=Ki,l=Gi;s=(l&~(1<<32-an(l)-1)).toString(32)+s,i="_"+i+"R_"+s,s=sc++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=cA++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Hf,useFormState:Gg,useActionState:Gg,useOptimistic:function(t){var i=kn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Ff.bind(null,je,!0,s),s.dispatch=i,[t,i]},useMemoCache:xf,useCacheRefresh:function(){return kn().memoizedState=gA.bind(null,je)},useEffectEvent:function(t){var i=kn(),s={impl:t};return i.memoizedState=s,function(){if((lt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Gf={readContext:pn,use:lc,useCallback:ny,useContext:pn,useEffect:zf,useImperativeHandle:ty,useInsertionEffect:Wg,useLayoutEffect:Zg,useMemo:iy,useReducer:uc,useRef:Xg,useState:function(){return uc(yr)},useDebugValue:jf,useDeferredValue:function(t,i){var s=qt();return ry(s,yt.memoizedState,t,i)},useTransition:function(){var t=uc(yr)[0],i=qt().memoizedState;return[typeof t=="boolean"?t:dl(t),i]},useSyncExternalStore:Vg,useId:ly,useHostTransitionStatus:Hf,useFormState:Kg,useActionState:Kg,useOptimistic:function(t,i){var s=qt();return zg(s,yt,t,i)},useMemoCache:xf,useCacheRefresh:uy};Gf.useEffectEvent=$g;var my={readContext:pn,use:lc,useCallback:ny,useContext:pn,useEffect:zf,useImperativeHandle:ty,useInsertionEffect:Wg,useLayoutEffect:Zg,useMemo:iy,useReducer:Uf,useRef:Xg,useState:function(){return Uf(yr)},useDebugValue:jf,useDeferredValue:function(t,i){var s=qt();return yt===null?Bf(s,t,i):ry(s,yt.memoizedState,t,i)},useTransition:function(){var t=Uf(yr)[0],i=qt().memoizedState;return[typeof t=="boolean"?t:dl(t),i]},useSyncExternalStore:Vg,useId:ly,useHostTransitionStatus:Hf,useFormState:Yg,useActionState:Yg,useOptimistic:function(t,i){var s=qt();return yt!==null?zg(s,yt,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:xf,useCacheRefresh:uy};my.useEffectEvent=$g;function Kf(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:T({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Qf={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=ci(),h=ia(l);h.payload=i,s!=null&&(h.callback=s),i=ra(t,h,l),i!==null&&($n(i,t,l),ul(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=ci(),h=ia(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=ra(t,h,l),i!==null&&($n(i,t,l),ul(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=ci(),l=ia(s);l.tag=2,i!=null&&(l.callback=i),i=ra(t,l,s),i!==null&&($n(i,t,s),ul(i,t,s))}};function py(t,i,s,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!tl(s,l)||!tl(h,d):!0}function gy(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&Qf.enqueueReplaceState(i,i.state,null)}function ss(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=T({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function yy(t){Fu(t)}function vy(t){console.error(t)}function _y(t){Fu(t)}function dc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ey(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Yf(t,i,s){return s=ia(s),s.tag=3,s.payload={element:null},s.callback=function(){dc(t,i)},s}function Ty(t){return t=ia(t),t.tag=3,t}function Sy(t,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Ey(i,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Ey(i,s,l),typeof h!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function vA(t,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Hs(i,s,h,!0),s=si.current,s!==null){switch(s.tag){case 31:case 13:return Si===null?wc():s.alternate===null&&jt===0&&(jt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===ec?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),_d(t,l,h)),!1;case 22:return s.flags|=65536,l===ec?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),_d(t,l,h)),!1}throw Error(a(435,s.tag))}return _d(t,l,h),wc(),!1}if(Ze)return i=si.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==df&&(t=Error(a(422),{cause:l}),rl(vi(t,s)))):(l!==df&&(i=Error(a(423),{cause:l}),rl(vi(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=vi(l,s),h=Yf(t.stateNode,l,h),bf(t,h),jt!==4&&(jt=2)),!1;var d=Error(a(520),{cause:l});if(d=vi(d,s),Al===null?Al=[d]:Al.push(d),jt!==4&&(jt=2),i===null)return!0;l=vi(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Yf(s.stateNode,l,t),bf(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ca===null||!ca.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Ty(h),Sy(h,t,s,l),bf(s,h),!1}s=s.return}while(s!==null);return!1}var Xf=Error(a(461)),Yt=!1;function gn(t,i,s,l){i.child=t===null?Rg(i,null,s,l):rs(i,t.child,s,l)}function Ay(t,i,s,l,h){s=s.render;var d=i.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return es(i),l=Of(t,i,s,v,d,h),S=Nf(),t!==null&&!Yt?(Mf(t,i,h),vr(t,i,h)):(Ze&&S&&hf(i),i.flags|=1,gn(t,i,l,h),i.child)}function by(t,i,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!lf(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,wy(t,i,d,l,h)):(t=Yu(s.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!id(t,h)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:tl,s(v,l)&&t.ref===i.ref)return vr(t,i,h)}return i.flags|=1,t=fr(d,l),t.ref=i.ref,t.return=i,i.child=t}function wy(t,i,s,l,h){if(t!==null){var d=t.memoizedProps;if(tl(d,l)&&t.ref===i.ref)if(Yt=!1,i.pendingProps=l=d,id(t,h))(t.flags&131072)!==0&&(Yt=!0);else return i.lanes=t.lanes,vr(t,i,h)}return Jf(t,i,s,l,h)}function Ry(t,i,s,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Iy(t,i,d,s,l)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wu(i,d!==null?d.cachePool:null),d!==null?Dg(i,d):Rf(),Og(i);else return l=i.lanes=536870912,Iy(t,i,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(Wu(i,d.cachePool),Dg(i,d),sa(),i.memoizedState=null):(t!==null&&Wu(i,null),Rf(),sa());return gn(t,i,h,s),i.child}function gl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Iy(t,i,s,l,h){var d=Ef();return d=d===null?null:{parent:Kt._currentValue,pool:d},i.memoizedState={baseLanes:s,cachePool:d},t!==null&&Wu(i,null),Rf(),Og(i),t!==null&&Hs(t,i,l,!0),i.childLanes=h,null}function mc(t,i){return i=gc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Cy(t,i,s){return rs(i,t.child,null,s),t=mc(i,i.pendingProps),t.flags|=2,oi(i),i.memoizedState=null,t}function _A(t,i,s){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ze){if(l.mode==="hidden")return t=mc(i,l),i.lanes=536870912,gl(null,t);if(Cf(i),(t=Rt)?(t=jv(t,Ti),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Wr!==null?{id:Gi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},s=hg(t),s.return=i,i.child=s,mn=i,Rt=null)):t=null,t===null)throw ea(i);return i.lanes=536870912,null}return mc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Cf(i),h)if(i.flags&256)i.flags&=-257,i=Cy(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(Yt||Hs(t,i,s,!1),h=(s&t.childLanes)!==0,Yt||h){if(l=Tt,l!==null&&(v=G(l,s),v!==0&&v!==d.retryLane))throw d.retryLane=v,Ja(t,v),$n(l,t,v),Xf;wc(),i=Cy(t,i,s)}else t=d.treeContext,Rt=Ai(v.nextSibling),mn=i,Ze=!0,Zr=null,Ti=!1,t!==null&&mg(i,t),i=mc(i,l),i.flags|=4096;return i}return t=fr(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function pc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Jf(t,i,s,l,h){return es(i),s=Of(t,i,s,l,void 0,h),l=Nf(),t!==null&&!Yt?(Mf(t,i,h),vr(t,i,h)):(Ze&&l&&hf(i),i.flags|=1,gn(t,i,s,h),i.child)}function Dy(t,i,s,l,h,d){return es(i),i.updateQueue=null,s=Mg(i,l,s,h),Ng(t),l=Nf(),t!==null&&!Yt?(Mf(t,i,d),vr(t,i,d)):(Ze&&l&&hf(i),i.flags|=1,gn(t,i,s,d),i.child)}function Oy(t,i,s,l,h){if(es(i),i.stateNode===null){var d=zs,v=s.contextType;typeof v=="object"&&v!==null&&(d=pn(v)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Sf(i),v=s.contextType,d.context=typeof v=="object"&&v!==null?pn(v):zs,d.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Kf(i,s,v,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Qf.enqueueReplaceState(d,d.state,null),hl(i,l,d,h),cl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,N=ss(s,S);d.props=N;var q=d.context,$=s.contextType;v=zs,typeof $=="object"&&$!==null&&(v=pn($));var Z=s.getDerivedStateFromProps;$=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||q!==v)&&gy(i,d,l,v),na=!1;var F=i.memoizedState;d.state=F,hl(i,l,d,h),cl(),q=i.memoizedState,S||F!==q||na?(typeof Z=="function"&&(Kf(i,s,Z,l),q=i.memoizedState),(N=na||py(i,s,N,l,F,q,v))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=v,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Af(t,i),v=i.memoizedProps,$=ss(s,v),d.props=$,Z=i.pendingProps,F=d.context,q=s.contextType,N=zs,typeof q=="object"&&q!==null&&(N=pn(q)),S=s.getDerivedStateFromProps,(q=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||F!==N)&&gy(i,d,l,N),na=!1,F=i.memoizedState,d.state=F,hl(i,l,d,h),cl();var Q=i.memoizedState;v!==Z||F!==Q||na||t!==null&&t.dependencies!==null&&Ju(t.dependencies)?(typeof S=="function"&&(Kf(i,s,S,l),Q=i.memoizedState),($=na||py(i,s,$,l,F,Q,N)||t!==null&&t.dependencies!==null&&Ju(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=$):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,pc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=rs(i,t.child,null,h),i.child=rs(i,null,s,h)):gn(t,i,s,h),i.memoizedState=d.state,t=i.child):t=vr(t,i,h),t}function Ny(t,i,s,l){return Wa(),i.flags|=256,gn(t,i,s,l),i.child}var $f={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(t){return{baseLanes:t,cachePool:Eg()}}function Zf(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=ui),t}function My(t,i,s){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Bt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ze){if(h?aa(i):sa(),(t=Rt)?(t=jv(t,Ti),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Wr!==null?{id:Gi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},s=hg(t),s.return=i,i.child=s,mn=i,Rt=null)):t=null,t===null)throw ea(i);return Ld(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(sa(),h=i.mode,S=gc({mode:"hidden",children:S},h),l=$a(l,h,s,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Wf(s),l.childLanes=Zf(t,v,s),i.memoizedState=$f,gl(null,l)):(aa(i),ed(i,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(aa(i),i.flags&=-257,i=td(t,i,s)):i.memoizedState!==null?(sa(),i.child=t.child,i.flags|=128,i=null):(sa(),S=l.fallback,h=i.mode,l=gc({mode:"visible",children:l.children},h),S=$a(S,h,s,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,rs(i,t.child,null,s),l=i.child,l.memoizedState=Wf(s),l.childLanes=Zf(t,v,s),i.memoizedState=$f,i=gl(null,l));else if(aa(i),Ld(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(a(419)),l.stack="",l.digest=v,rl({value:l,source:null,stack:null}),i=td(t,i,s)}else if(Yt||Hs(t,i,s,!1),v=(s&t.childLanes)!==0,Yt||v){if(v=Tt,v!==null&&(l=G(v,s),l!==0&&l!==N.retryLane))throw N.retryLane=l,Ja(t,l),$n(v,t,l),Xf;xd(S)||wc(),i=td(t,i,s)}else xd(S)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,Rt=Ai(S.nextSibling),mn=i,Ze=!0,Zr=null,Ti=!1,t!==null&&mg(i,t),i=ed(i,l.children),i.flags|=4096);return i}return h?(sa(),S=l.fallback,h=i.mode,N=t.child,q=N.sibling,l=fr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,q!==null?S=fr(q,S):(S=$a(S,h,s,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,gl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=Wf(s):(h=S.cachePool,h!==null?(N=Kt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Eg(),S={baseLanes:S.baseLanes|s,cachePool:h}),l.memoizedState=S,l.childLanes=Zf(t,v,s),i.memoizedState=$f,gl(t.child,l)):(aa(i),s=t.child,t=s.sibling,s=fr(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=s,i.memoizedState=null,s)}function ed(t,i){return i=gc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function gc(t,i){return t=ai(22,t,null,i),t.lanes=0,t}function td(t,i,s){return rs(i,t.child,null,s),t=ed(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Vy(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),gf(t.return,i,s)}function nd(t,i,s,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=s,v.tailMode=h,v.treeForkCount=d)}function xy(t,i,s){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=Bt.current,S=(v&2)!==0;if(S?(v=v&1|2,i.flags|=128):v&=1,se(Bt,v),gn(t,i,l,s),l=Ze?il:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vy(t,s,i);else if(t.tag===19)Vy(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&rc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),nd(i,!1,h,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&rc(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}nd(i,!0,s,null,d,l);break;case"together":nd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function vr(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),ua|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(Hs(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=fr(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=fr(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function id(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ju(t)))}function EA(t,i,s){switch(i.tag){case 3:Vt(i,i.stateNode.containerInfo),ta(i,Kt,t.memoizedState.cache),Wa();break;case 27:case 5:fi(i);break;case 4:Vt(i,i.stateNode.containerInfo);break;case 10:ta(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Cf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(aa(i),i.flags|=128,null):(s&i.child.childLanes)!==0?My(t,i,s):(aa(i),t=vr(t,i,s),t!==null?t.sibling:null);aa(i);break;case 19:var h=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Hs(t,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return xy(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Bt,Bt.current),l)break;return null;case 22:return i.lanes=0,Ry(t,i,s,i.pendingProps);case 24:ta(i,Kt,t.memoizedState.cache)}return vr(t,i,s)}function Ly(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Yt=!0;else{if(!id(t,s)&&(i.flags&128)===0)return Yt=!1,EA(t,i,s);Yt=(t.flags&131072)!==0}else Yt=!1,Ze&&(i.flags&1048576)!==0&&dg(i,il,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=ns(i.elementType),i.type=t,typeof t=="function")lf(t)?(l=ss(t,l),i.tag=1,i=Oy(null,i,t,l,s)):(i.tag=0,i=Jf(null,i,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===be){i.tag=11,i=Ay(null,i,t,l,s);break e}else if(h===A){i.tag=14,i=by(null,i,t,l,s);break e}}throw i=tt(t)||t,Error(a(306,i,""))}}return i;case 0:return Jf(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=ss(l,i.pendingProps),Oy(t,i,l,h,s);case 3:e:{if(Vt(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Af(t,i),hl(i,l,null,s);var v=i.memoizedState;if(l=v.cache,ta(i,Kt,l),l!==d.cache&&yf(i,[Kt],s,!0),cl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ny(t,i,l,s);break e}else if(l!==h){h=vi(Error(a(424)),i),rl(h),i=Ny(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Rt=Ai(t.firstChild),mn=i,Ze=!0,Zr=null,Ti=!0,s=Rg(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Wa(),l===h){i=vr(t,i,s);break e}gn(t,i,l,s)}i=i.child}return i;case 26:return pc(t,i),t===null?(s=Kv(i.type,null,i.pendingProps,null))?i.memoizedState=s:Ze||(s=i.type,t=i.pendingProps,l=Mc(Ne.current).createElement(s),l[ue]=i,l[ce]=t,yn(l,s,t),bt(l),i.stateNode=l):i.memoizedState=Kv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return fi(i),t===null&&Ze&&(l=i.stateNode=Hv(i.type,i.pendingProps,Ne.current),mn=i,Ti=!0,h=Rt,ma(i.type)?(Ud=h,Rt=Ai(l.firstChild)):Rt=h),gn(t,i,i.pendingProps.children,s),pc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ze&&((h=l=Rt)&&(l=JA(l,i.type,i.pendingProps,Ti),l!==null?(i.stateNode=l,mn=i,Rt=Ai(l.firstChild),Ti=!1,h=!0):h=!1),h||ea(i)),fi(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Nd(h,d)?l=null:v!==null&&Nd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Of(t,i,hA,null,null,s),Nl._currentValue=h),pc(t,i),gn(t,i,l,s),i.child;case 6:return t===null&&Ze&&((t=s=Rt)&&(s=$A(s,i.pendingProps,Ti),s!==null?(i.stateNode=s,mn=i,Rt=null,t=!0):t=!1),t||ea(i)),null;case 13:return My(t,i,s);case 4:return Vt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=rs(i,null,l,s):gn(t,i,l,s),i.child;case 11:return Ay(t,i,i.type,i.pendingProps,s);case 7:return gn(t,i,i.pendingProps,s),i.child;case 8:return gn(t,i,i.pendingProps.children,s),i.child;case 12:return gn(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,ta(i,i.type,l.value),gn(t,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,es(i),h=pn(h),l=l(h),i.flags|=1,gn(t,i,l,s),i.child;case 14:return by(t,i,i.type,i.pendingProps,s);case 15:return wy(t,i,i.type,i.pendingProps,s);case 19:return xy(t,i,s);case 31:return _A(t,i,s);case 22:return Ry(t,i,s,i.pendingProps);case 24:return es(i),l=pn(Kt),t===null?(h=Ef(),h===null&&(h=Tt,d=vf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),i.memoizedState={parent:l,cache:h},Sf(i),ta(i,Kt,h)):((t.lanes&s)!==0&&(Af(t,i),hl(i,null,null,s),cl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ta(i,Kt,l)):(l=d.cache,ta(i,Kt,l),l!==h.cache&&yf(i,[Kt],s,!0))),gn(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function _r(t){t.flags|=4}function rd(t,i,s,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(lv())t.flags|=8192;else throw is=ec,Tf}else t.flags&=-16777217}function Uy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!$v(i))if(lv())t.flags|=8192;else throw is=ec,Tf}function yc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?zi():536870912,t.lanes|=i,to|=i)}function yl(t,i){if(!Ze)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function It(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function TA(t,i,s){var l=i.pendingProps;switch(ff(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(i),null;case 1:return It(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),pr(Kt),St(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(qs(i)?_r(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,mf())),It(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(_r(i),d!==null?(It(i),Uy(i,d)):(It(i),rd(i,h,null,l,s))):d?d!==t.memoizedState?(_r(i),It(i),Uy(i,d)):(It(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&_r(i),It(i),rd(i,h,t,l,s)),null;case 27:if(Ri(i),s=Ne.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&_r(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return It(i),null}t=ge.current,qs(i)?pg(i):(t=Hv(h,l,s),i.stateNode=t,_r(i))}return It(i),null;case 5:if(Ri(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&_r(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return It(i),null}if(d=ge.current,qs(i))pg(i);else{var v=Mc(Ne.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[ue]=i,d[ce]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(yn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&_r(i)}}return It(i),rd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&_r(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=Ne.current,qs(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,h=mn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[ue]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Mv(t.nodeValue,s)),t||ea(i,!0)}else t=Mc(t).createTextNode(l),t[ue]=i,i.stateNode=t}return It(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(l=qs(i),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[ue]=i}else Wa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;It(i),t=!1}else s=mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(oi(i),i):(oi(i),null);if((i.flags&128)!==0)throw Error(a(558))}return It(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=qs(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ue]=i}else Wa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;It(i),h=!1}else h=mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(oi(i),i):(oi(i),null)}return oi(i),(i.flags&128)!==0?(i.lanes=s,i):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),yc(i,i.updateQueue),It(i),null);case 4:return St(),t===null&&Rd(i.stateNode.containerInfo),It(i),null;case 10:return pr(i.type),It(i),null;case 19:if(X(Bt),l=i.memoizedState,l===null)return It(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)yl(l,!1);else{if(jt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=rc(t),d!==null){for(i.flags|=128,yl(l,!1),t=d.updateQueue,i.updateQueue=t,yc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)cg(s,t),s=s.sibling;return se(Bt,Bt.current&1|2),Ze&&dr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&At()>Sc&&(i.flags|=128,h=!0,yl(l,!1),i.lanes=4194304)}else{if(!h)if(t=rc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,yc(i,t),yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ze)return It(i),null}else 2*At()-l.renderingStartTime>Sc&&s!==536870912&&(i.flags|=128,h=!0,yl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=At(),t.sibling=null,s=Bt.current,se(Bt,h?s&1|2:s&1),Ze&&dr(i,l.treeForkCount),t):(It(i),null);case 22:case 23:return oi(i),If(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(It(i),i.subtreeFlags&6&&(i.flags|=8192)):It(i),s=i.updateQueue,s!==null&&yc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&X(ts),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),pr(Kt),It(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function SA(t,i){switch(ff(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return pr(Kt),St(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ri(i),null;case 31:if(i.memoizedState!==null){if(oi(i),i.alternate===null)throw Error(a(340));Wa()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(oi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Wa()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return X(Bt),null;case 4:return St(),null;case 10:return pr(i.type),null;case 22:case 23:return oi(i),If(),t!==null&&X(ts),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return pr(Kt),null;case 25:return null;default:return null}}function Py(t,i){switch(ff(i),i.tag){case 3:pr(Kt),St();break;case 26:case 27:case 5:Ri(i);break;case 4:St();break;case 31:i.memoizedState!==null&&oi(i);break;case 13:oi(i);break;case 19:X(Bt);break;case 10:pr(i.type);break;case 22:case 23:oi(i),If(),t!==null&&X(ts);break;case 24:pr(Kt)}}function vl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,v=s.inst;l=d(),v.destroy=l}s=s.next}while(s!==h)}}catch(S){dt(i,i.return,S)}}function oa(t,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,h=i;var N=s,q=S;try{q()}catch($){dt(h,N,$)}}}l=l.next}while(l!==d)}}catch($){dt(i,i.return,$)}}function ky(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Cg(i,s)}catch(l){dt(t,t.return,l)}}}function zy(t,i,s){s.props=ss(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){dt(t,i,l)}}function _l(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){dt(t,i,h)}}function Qi(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){dt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){dt(t,i,h)}else s.current=null}function jy(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){dt(t,t.return,h)}}function ad(t,i,s){try{var l=t.stateNode;FA(l,t.type,s,i),l[ce]=i}catch(h){dt(t,t.return,h)}}function By(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ma(t.type)||t.tag===4}function sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||By(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ma(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function od(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=sn));else if(l!==4&&(l===27&&ma(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(od(t,i,s),t=t.sibling;t!==null;)od(t,i,s),t=t.sibling}function vc(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&ma(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(vc(t,i,s),t=t.sibling;t!==null;)vc(t,i,s),t=t.sibling}function qy(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);yn(i,l,s),i[ue]=t,i[ce]=s}catch(d){dt(t,t.return,d)}}var Er=!1,Xt=!1,ld=!1,Hy=typeof WeakSet=="function"?WeakSet:Set,un=null;function AA(t,i){if(t=t.containerInfo,Dd=zc,t=tg(t),ef(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var v=0,S=-1,N=-1,q=0,$=0,Z=t,F=null;t:for(;;){for(var Q;Z!==s||h!==0&&Z.nodeType!==3||(S=v+h),Z!==d||l!==0&&Z.nodeType!==3||(N=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(Q=Z.firstChild)!==null;)F=Z,Z=Q;for(;;){if(Z===t)break t;if(F===s&&++q===h&&(S=v),F===d&&++$===l&&(N=v),(Q=Z.nextSibling)!==null)break;Z=F,F=Z.parentNode}Z=Q}s=S===-1||N===-1?null:{start:S,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(Od={focusedElem:t,selectionRange:s},zc=!1,un=i;un!==null;)if(i=un,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,un=t;else for(;un!==null;){switch(i=un,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var _e=ss(s.type,h);t=l.getSnapshotBeforeUpdate(_e,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ce){dt(s,s.return,Ce)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Vd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,un=t;break}un=i.return}}function Fy(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Sr(t,s),l&4&&vl(5,s);break;case 1:if(Sr(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(v){dt(s,s.return,v)}else{var h=ss(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){dt(s,s.return,v)}}l&64&&ky(s),l&512&&_l(s,s.return);break;case 3:if(Sr(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Cg(t,i)}catch(v){dt(s,s.return,v)}}break;case 27:i===null&&l&4&&qy(s);case 26:case 5:Sr(t,s),i===null&&l&4&&jy(s),l&512&&_l(s,s.return);break;case 12:Sr(t,s);break;case 31:Sr(t,s),l&4&&Qy(t,s);break;case 13:Sr(t,s),l&4&&Yy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=MA.bind(null,s),WA(t,s))));break;case 22:if(l=s.memoizedState!==null||Er,!l){i=i!==null&&i.memoizedState!==null||Xt,h=Er;var d=Xt;Er=l,(Xt=i)&&!d?Ar(t,s,(s.subtreeFlags&8772)!==0):Sr(t,s),Er=h,Xt=d}break;case 30:break;default:Sr(t,s)}}function Gy(t){var i=t.alternate;i!==null&&(t.alternate=null,Gy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ut(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Dt=null,Qn=!1;function Tr(t,i,s){for(s=s.child;s!==null;)Ky(t,i,s),s=s.sibling}function Ky(t,i,s){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(hn,s)}catch{}switch(s.tag){case 26:Xt||Qi(s,i),Tr(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Xt||Qi(s,i);var l=Dt,h=Qn;ma(s.type)&&(Dt=s.stateNode,Qn=!1),Tr(t,i,s),Cl(s.stateNode),Dt=l,Qn=h;break;case 5:Xt||Qi(s,i);case 6:if(l=Dt,h=Qn,Dt=null,Tr(t,i,s),Dt=l,Qn=h,Dt!==null)if(Qn)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(s.stateNode)}catch(d){dt(s,i,d)}else try{Dt.removeChild(s.stateNode)}catch(d){dt(s,i,d)}break;case 18:Dt!==null&&(Qn?(t=Dt,kv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),uo(t)):kv(Dt,s.stateNode));break;case 4:l=Dt,h=Qn,Dt=s.stateNode.containerInfo,Qn=!0,Tr(t,i,s),Dt=l,Qn=h;break;case 0:case 11:case 14:case 15:oa(2,s,i),Xt||oa(4,s,i),Tr(t,i,s);break;case 1:Xt||(Qi(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&zy(s,i,l)),Tr(t,i,s);break;case 21:Tr(t,i,s);break;case 22:Xt=(l=Xt)||s.memoizedState!==null,Tr(t,i,s),Xt=l;break;default:Tr(t,i,s)}}function Qy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{uo(t)}catch(s){dt(i,i.return,s)}}}function Yy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{uo(t)}catch(s){dt(i,i.return,s)}}function bA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Hy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Hy),i;default:throw Error(a(435,t.tag))}}function _c(t,i){var s=bA(t);i.forEach(function(l){if(!s.has(l)){s.add(l);var h=VA.bind(null,t,l);l.then(h,h)}})}function Yn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,v=i,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(ma(S.type)){Dt=S.stateNode,Qn=!1;break e}break;case 5:Dt=S.stateNode,Qn=!1;break e;case 3:case 4:Dt=S.stateNode.containerInfo,Qn=!0;break e}S=S.return}if(Dt===null)throw Error(a(160));Ky(d,v,h),Dt=null,Qn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Xy(i,t),i=i.sibling}var Di=null;function Xy(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Yn(i,t),Xn(t),l&4&&(oa(3,t,t.return),vl(3,t),oa(5,t,t.return));break;case 1:Yn(i,t),Xn(t),l&512&&(Xt||s===null||Qi(s,s.return)),l&64&&Er&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Di;if(Yn(i,t),Xn(t),l&512&&(Xt||s===null||Qi(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Be]||d[ue]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),yn(d,l,s),d[ue]=t,bt(d),l=d;break e;case"link":var v=Xv("link","href",h).get(l+(s.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(S,1);break t}}d=h.createElement(l),yn(d,l,s),h.head.appendChild(d);break;case"meta":if(v=Xv("meta","content",h).get(l+(s.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(S,1);break t}}d=h.createElement(l),yn(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[ue]=t,bt(d),l=d}t.stateNode=l}else Jv(h,t.type,t.stateNode);else t.stateNode=Yv(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?Jv(h,t.type,t.stateNode):Yv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ad(t,t.memoizedProps,s.memoizedProps)}break;case 27:Yn(i,t),Xn(t),l&512&&(Xt||s===null||Qi(s,s.return)),s!==null&&l&4&&ad(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Yn(i,t),Xn(t),l&512&&(Xt||s===null||Qi(s,s.return)),t.flags&32){h=t.stateNode;try{gi(h,"")}catch(_e){dt(t,t.return,_e)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ad(t,h,s!==null?s.memoizedProps:h)),l&1024&&(ld=!0);break;case 6:if(Yn(i,t),Xn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(_e){dt(t,t.return,_e)}}break;case 3:if(Lc=null,h=Di,Di=Vc(i.containerInfo),Yn(i,t),Di=h,Xn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{uo(i.containerInfo)}catch(_e){dt(t,t.return,_e)}ld&&(ld=!1,Jy(t));break;case 4:l=Di,Di=Vc(t.stateNode.containerInfo),Yn(i,t),Xn(t),Di=l;break;case 12:Yn(i,t),Xn(t);break;case 31:Yn(i,t),Xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_c(t,l)));break;case 13:Yn(i,t),Xn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Tc=At()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_c(t,l)));break;case 22:h=t.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,q=Er,$=Xt;if(Er=q||h,Xt=$||N,Yn(i,t),Xt=$,Er=q,Xn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||N||Er||Xt||os(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){N=s=i;try{if(d=N.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=N.stateNode;var Z=N.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(_e){dt(N,N.return,_e)}}}else if(i.tag===6){if(s===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(_e){dt(N,N.return,_e)}}}else if(i.tag===18){if(s===null){N=i;try{var Q=N.stateNode;h?zv(Q,!0):zv(N.stateNode,!1)}catch(_e){dt(N,N.return,_e)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,_c(t,s))));break;case 19:Yn(i,t),Xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_c(t,l)));break;case 30:break;case 21:break;default:Yn(i,t),Xn(t)}}function Xn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(By(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=sd(t);vc(t,d,h);break;case 5:var v=s.stateNode;s.flags&32&&(gi(v,""),s.flags&=-33);var S=sd(t);vc(t,S,v);break;case 3:case 4:var N=s.stateNode.containerInfo,q=sd(t);od(t,q,N);break;default:throw Error(a(161))}}catch($){dt(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Jy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Jy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Sr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Fy(t,i.alternate,i),i=i.sibling}function os(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:oa(4,i,i.return),os(i);break;case 1:Qi(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&zy(i,i.return,s),os(i);break;case 27:Cl(i.stateNode);case 26:case 5:Qi(i,i.return),os(i);break;case 22:i.memoizedState===null&&os(i);break;case 30:os(i);break;default:os(i)}t=t.sibling}}function Ar(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ar(h,d,s),vl(4,d);break;case 1:if(Ar(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){dt(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Ig(N[h],S)}catch(q){dt(l,l.return,q)}}s&&v&64&&ky(d),_l(d,d.return);break;case 27:qy(d);case 26:case 5:Ar(h,d,s),s&&l===null&&v&4&&jy(d),_l(d,d.return);break;case 12:Ar(h,d,s);break;case 31:Ar(h,d,s),s&&v&4&&Qy(h,d);break;case 13:Ar(h,d,s),s&&v&4&&Yy(h,d);break;case 22:d.memoizedState===null&&Ar(h,d,s),_l(d,d.return);break;case 30:break;default:Ar(h,d,s)}i=i.sibling}}function ud(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&al(s))}function cd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&al(t))}function Oi(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$y(t,i,s,l),i=i.sibling}function $y(t,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Oi(t,i,s,l),h&2048&&vl(9,i);break;case 1:Oi(t,i,s,l);break;case 3:Oi(t,i,s,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&al(t)));break;case 12:if(h&2048){Oi(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){dt(i,i.return,N)}}else Oi(t,i,s,l);break;case 31:Oi(t,i,s,l);break;case 13:Oi(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Oi(t,i,s,l):El(t,i):d._visibility&2?Oi(t,i,s,l):(d._visibility|=2,Ws(t,i,s,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&ud(v,i);break;case 24:Oi(t,i,s,l),h&2048&&cd(i.alternate,i);break;default:Oi(t,i,s,l)}}function Ws(t,i,s,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,S=s,N=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:Ws(d,v,S,N,h),vl(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?Ws(d,v,S,N,h):El(d,v):($._visibility|=2,Ws(d,v,S,N,h)),h&&q&2048&&ud(v.alternate,v);break;case 24:Ws(d,v,S,N,h),h&&q&2048&&cd(v.alternate,v);break;default:Ws(d,v,S,N,h)}i=i.sibling}}function El(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,h=l.flags;switch(l.tag){case 22:El(s,l),h&2048&&ud(l.alternate,l);break;case 24:El(s,l),h&2048&&cd(l.alternate,l);break;default:El(s,l)}i=i.sibling}}var Tl=8192;function Zs(t,i,s){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)Wy(t,i,s),t=t.sibling}function Wy(t,i,s){switch(t.tag){case 26:Zs(t,i,s),t.flags&Tl&&t.memoizedState!==null&&cb(s,Di,t.memoizedState,t.memoizedProps);break;case 5:Zs(t,i,s);break;case 3:case 4:var l=Di;Di=Vc(t.stateNode.containerInfo),Zs(t,i,s),Di=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Tl,Tl=16777216,Zs(t,i,s),Tl=l):Zs(t,i,s));break;default:Zs(t,i,s)}}function Zy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Sl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];un=l,tv(l,t)}Zy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ev(t),t=t.sibling}function ev(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&oa(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ec(t)):Sl(t);break;default:Sl(t)}}function Ec(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];un=l,tv(l,t)}Zy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:oa(8,i,i.return),Ec(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Ec(i));break;default:Ec(i)}t=t.sibling}}function tv(t,i){for(;un!==null;){var s=un;switch(s.tag){case 0:case 11:case 15:oa(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,un=l;else e:for(s=t;un!==null;){l=un;var h=l.sibling,d=l.return;if(Gy(l),l===s){un=null;break e}if(h!==null){h.return=d,un=h;break e}un=d}}}var wA={getCacheForType:function(t){var i=pn(Kt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return pn(Kt).controller.signal}},RA=typeof WeakMap=="function"?WeakMap:Map,lt=0,Tt=null,Ge=null,Xe=0,ft=0,li=null,la=!1,eo=!1,hd=!1,br=0,jt=0,ua=0,ls=0,fd=0,ui=0,to=0,Al=null,Jn=null,dd=!1,Tc=0,nv=0,Sc=1/0,Ac=null,ca=null,tn=0,ha=null,no=null,wr=0,md=0,pd=null,iv=null,bl=0,gd=null;function ci(){return(lt&2)!==0&&Xe!==0?Xe&-Xe:J.T!==null?Sd():Ee()}function rv(){if(ui===0)if((Xe&536870912)===0||Ze){var t=Hn;Hn<<=1,(Hn&3932160)===0&&(Hn=262144),ui=t}else ui=536870912;return t=si.current,t!==null&&(t.flags|=32),ui}function $n(t,i,s){(t===Tt&&(ft===2||ft===9)||t.cancelPendingCommit!==null)&&(io(t,0),fa(t,Xe,ui,!1)),ji(t,s),((lt&2)===0||t!==Tt)&&(t===Tt&&((lt&2)===0&&(ls|=s),jt===4&&fa(t,Xe,ui,!1)),Yi(t))}function av(t,i,s){if((lt&6)!==0)throw Error(a(327));var l=!s&&(i&127)===0&&(i&t.expiredLanes)===0||ki(t,i),h=l?DA(t,i):vd(t,i,!0),d=l;do{if(h===0){eo&&!l&&fa(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!IA(s)){h=vd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var S=t;h=Al;var N=S.current.memoizedState.isDehydrated;if(N&&(io(S,v).flags|=256),v=vd(S,v,!1),v!==2){if(hd&&!N){S.errorRecoveryDisabledLanes|=d,ls|=d,h=4;break e}d=Jn,Jn=h,d!==null&&(Jn===null?Jn=d:Jn.push.apply(Jn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){io(t,0),fa(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:fa(l,i,ui,!la);break e;case 2:Jn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=Tc+300-At(),10<h)){if(fa(l,i,ui,!la),Nn(l,0,!0)!==0)break e;wr=i,l.timeoutHandle=Uv(sv.bind(null,l,s,Jn,Ac,dd,i,ui,ls,to,la,d,"Throttled",-0,0),h);break e}sv(l,s,Jn,Ac,dd,i,ui,ls,to,la,d,null,-0,0)}}break}while(!0);Yi(t)}function sv(t,i,s,l,h,d,v,S,N,q,$,Z,F,Q){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sn},Wy(i,d,Z);var _e=(d&62914560)===d?Tc-At():(d&4194048)===d?nv-At():0;if(_e=hb(Z,_e),_e!==null){wr=d,t.cancelPendingCommit=_e(mv.bind(null,t,i,d,s,l,h,v,S,N,$,Z,null,F,Q)),fa(t,d,v,!q);return}}mv(t,i,d,s,l,h,v,S,N)}function IA(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!ri(d(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function fa(t,i,s,l){i&=~fd,i&=~ls,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-an(h),v=1<<d;l[d]=-1,h&=~v}s!==0&&M(t,s,i)}function bc(){return(lt&6)===0?(wl(0),!1):!0}function yd(){if(Ge!==null){if(ft===0)var t=Ge.return;else t=Ge,mr=Za=null,Vf(t),Qs=null,ol=0,t=Ge;for(;t!==null;)Py(t.alternate,t),t=t.return;Ge=null}}function io(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,QA(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),wr=0,yd(),Tt=t,Ge=s=fr(t.current,null),Xe=i,ft=0,li=null,la=!1,eo=ki(t,i),hd=!1,to=ui=fd=ls=ua=jt=0,Jn=Al=null,dd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-an(l),d=1<<h;i|=t[h],l&=~d}return br=i,Gu(),s}function ov(t,i){je=null,J.H=pl,i===Ks||i===Zu?(i=Ag(),ft=3):i===Tf?(i=Ag(),ft=4):ft=i===Xf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,li=i,Ge===null&&(jt=1,dc(t,vi(i,t.current)))}function lv(){var t=si.current;return t===null?!0:(Xe&4194048)===Xe?Si===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?t===Si:!1}function uv(){var t=J.H;return J.H=pl,t===null?pl:t}function cv(){var t=J.A;return J.A=wA,t}function wc(){jt=4,la||(Xe&4194048)!==Xe&&si.current!==null||(eo=!0),(ua&134217727)===0&&(ls&134217727)===0||Tt===null||fa(Tt,Xe,ui,!1)}function vd(t,i,s){var l=lt;lt|=2;var h=uv(),d=cv();(Tt!==t||Xe!==i)&&(Ac=null,io(t,i)),i=!1;var v=jt;e:do try{if(ft!==0&&Ge!==null){var S=Ge,N=li;switch(ft){case 8:yd(),v=6;break e;case 3:case 2:case 9:case 6:si.current===null&&(i=!0);var q=ft;if(ft=0,li=null,ro(t,S,N,q),s&&eo){v=0;break e}break;default:q=ft,ft=0,li=null,ro(t,S,N,q)}}CA(),v=jt;break}catch($){ov(t,$)}while(!0);return i&&t.shellSuspendCounter++,mr=Za=null,lt=l,J.H=h,J.A=d,Ge===null&&(Tt=null,Xe=0,Gu()),v}function CA(){for(;Ge!==null;)hv(Ge)}function DA(t,i){var s=lt;lt|=2;var l=uv(),h=cv();Tt!==t||Xe!==i?(Ac=null,Sc=At()+500,io(t,i)):eo=ki(t,i);e:do try{if(ft!==0&&Ge!==null){i=Ge;var d=li;t:switch(ft){case 1:ft=0,li=null,ro(t,i,d,1);break;case 2:case 9:if(Tg(d)){ft=0,li=null,fv(i);break}i=function(){ft!==2&&ft!==9||Tt!==t||(ft=7),Yi(t)},d.then(i,i);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:Tg(d)?(ft=0,li=null,fv(i)):(ft=0,li=null,ro(t,i,d,7));break;case 5:var v=null;switch(Ge.tag){case 26:v=Ge.memoizedState;case 5:case 27:var S=Ge;if(v?$v(v):S.stateNode.complete){ft=0,li=null;var N=S.sibling;if(N!==null)Ge=N;else{var q=S.return;q!==null?(Ge=q,Rc(q)):Ge=null}break t}}ft=0,li=null,ro(t,i,d,5);break;case 6:ft=0,li=null,ro(t,i,d,6);break;case 8:yd(),jt=6;break e;default:throw Error(a(462))}}OA();break}catch($){ov(t,$)}while(!0);return mr=Za=null,J.H=l,J.A=h,lt=s,Ge!==null?0:(Tt=null,Xe=0,Gu(),jt)}function OA(){for(;Ge!==null&&!qo();)hv(Ge)}function hv(t){var i=Ly(t.alternate,t,br);t.memoizedProps=t.pendingProps,i===null?Rc(t):Ge=i}function fv(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=Dy(s,i,i.pendingProps,i.type,void 0,Xe);break;case 11:i=Dy(s,i,i.pendingProps,i.type.render,i.ref,Xe);break;case 5:Vf(i);default:Py(s,i),i=Ge=cg(i,br),i=Ly(s,i,br)}t.memoizedProps=t.pendingProps,i===null?Rc(t):Ge=i}function ro(t,i,s,l){mr=Za=null,Vf(i),Qs=null,ol=0;var h=i.return;try{if(vA(t,h,i,s,Xe)){jt=1,dc(t,vi(s,t.current)),Ge=null;return}}catch(d){if(h!==null)throw Ge=h,d;jt=1,dc(t,vi(s,t.current)),Ge=null;return}i.flags&32768?(Ze||l===1?t=!0:eo||(Xe&536870912)!==0?t=!1:(la=t=!0,(l===2||l===9||l===3||l===6)&&(l=si.current,l!==null&&l.tag===13&&(l.flags|=16384))),dv(i,t)):Rc(i)}function Rc(t){var i=t;do{if((i.flags&32768)!==0){dv(i,la);return}t=i.return;var s=TA(i.alternate,i,br);if(s!==null){Ge=s;return}if(i=i.sibling,i!==null){Ge=i;return}Ge=i=t}while(i!==null);jt===0&&(jt=5)}function dv(t,i){do{var s=SA(t.alternate,t);if(s!==null){s.flags&=32767,Ge=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Ge=t;return}Ge=t=s}while(t!==null);jt=6,Ge=null}function mv(t,i,s,l,h,d,v,S,N){t.cancelPendingCommit=null;do Ic();while(tn!==0);if((lt&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=sf,en(t,s,d,v,S,N),t===Tt&&(Ge=Tt=null,Xe=0),no=i,ha=t,wr=s,md=d,pd=h,iv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,xA(rn,function(){return _v(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,h=oe.p,oe.p=2,v=lt,lt|=4;try{AA(t,i,s)}finally{lt=v,oe.p=h,J.T=l}}tn=1,pv(),gv(),yv()}}function pv(){if(tn===1){tn=0;var t=ha,i=no,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=J.T,J.T=null;var l=oe.p;oe.p=2;var h=lt;lt|=4;try{Xy(i,t);var d=Od,v=tg(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(v!==S&&S&&S.ownerDocument&&eg(S.ownerDocument.documentElement,S)){if(N!==null&&ef(S)){var q=N.start,$=N.end;if($===void 0&&($=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min($,S.value.length);else{var Z=S.ownerDocument||document,F=Z&&Z.defaultView||window;if(F.getSelection){var Q=F.getSelection(),_e=S.textContent.length,Ce=Math.min(N.start,_e),_t=N.end===void 0?Ce:Math.min(N.end,_e);!Q.extend&&Ce>_t&&(v=_t,_t=Ce,Ce=v);var z=Zp(S,Ce),x=Zp(S,_t);if(z&&x&&(Q.rangeCount!==1||Q.anchorNode!==z.node||Q.anchorOffset!==z.offset||Q.focusNode!==x.node||Q.focusOffset!==x.offset)){var B=Z.createRange();B.setStart(z.node,z.offset),Q.removeAllRanges(),Ce>_t?(Q.addRange(B),Q.extend(x.node,x.offset)):(B.setEnd(x.node,x.offset),Q.addRange(B))}}}}for(Z=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&Z.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var W=Z[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}zc=!!Dd,Od=Dd=null}finally{lt=h,oe.p=l,J.T=s}}t.current=i,tn=2}}function gv(){if(tn===2){tn=0;var t=ha,i=no,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=J.T,J.T=null;var l=oe.p;oe.p=2;var h=lt;lt|=4;try{Fy(t,i.alternate,i)}finally{lt=h,oe.p=l,J.T=s}}tn=3}}function yv(){if(tn===4||tn===3){tn=0,za();var t=ha,i=no,s=wr,l=iv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?tn=5:(tn=0,no=ha=null,vv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ca=null),fe(s),i=i.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(hn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=J.T,h=oe.p,oe.p=2,J.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var S=l[v];d(S.value,{componentStack:S.stack})}}finally{J.T=i,oe.p=h}}(wr&3)!==0&&Ic(),Yi(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===gd?bl++:(bl=0,gd=t):bl=0,wl(0)}}function vv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,al(i)))}function Ic(){return pv(),gv(),yv(),_v()}function _v(){if(tn!==5)return!1;var t=ha,i=md;md=0;var s=fe(wr),l=J.T,h=oe.p;try{oe.p=32>s?32:s,J.T=null,s=pd,pd=null;var d=ha,v=wr;if(tn=0,no=ha=null,wr=0,(lt&6)!==0)throw Error(a(331));var S=lt;if(lt|=4,ev(d.current),$y(d,d.current,v,s),lt=S,wl(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(hn,d)}catch{}return!0}finally{oe.p=h,J.T=l,vv(t,i)}}function Ev(t,i,s){i=vi(s,i),i=Yf(t.stateNode,i,2),t=ra(t,i,2),t!==null&&(ji(t,2),Yi(t))}function dt(t,i,s){if(t.tag===3)Ev(t,t,s);else for(;i!==null;){if(i.tag===3){Ev(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ca===null||!ca.has(l))){t=vi(s,t),s=Ty(2),l=ra(i,s,2),l!==null&&(Sy(s,l,i,t),ji(l,2),Yi(l));break}}i=i.return}}function _d(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new RA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(hd=!0,h.add(s),t=NA.bind(null,t,i,s),i.then(t,t))}function NA(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Tt===t&&(Xe&s)===s&&(jt===4||jt===3&&(Xe&62914560)===Xe&&300>At()-Tc?(lt&2)===0&&io(t,0):fd|=s,to===Xe&&(to=0)),Yi(t)}function Tv(t,i){i===0&&(i=zi()),t=Ja(t,i),t!==null&&(ji(t,i),Yi(t))}function MA(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),Tv(t,s)}function VA(t,i){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Tv(t,s)}function xA(t,i){return ir(t,i)}var Cc=null,ao=null,Ed=!1,Dc=!1,Td=!1,da=0;function Yi(t){t!==ao&&t.next===null&&(ao===null?Cc=ao=t:ao=ao.next=t),Dc=!0,Ed||(Ed=!0,UA())}function wl(t,i){if(!Td&&Dc){Td=!0;do for(var s=!1,l=Cc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-an(42|t)+1)-1,d&=h&~(v&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,wv(l,d))}else d=Xe,d=Nn(l,l===Tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ki(l,d)||(s=!0,wv(l,d));l=l.next}while(s);Td=!1}}function LA(){Sv()}function Sv(){Dc=Ed=!1;var t=0;da!==0&&KA()&&(t=da);for(var i=At(),s=null,l=Cc;l!==null;){var h=l.next,d=Av(l,i);d===0?(l.next=null,s===null?Cc=h:s.next=h,h===null&&(ao=s)):(s=l,(t!==0||(d&3)!==0)&&(Dc=!0)),l=h}tn!==0&&tn!==5||wl(t),da!==0&&(da=0)}function Av(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-an(d),S=1<<v,N=h[v];N===-1?((S&s)===0||(S&l)!==0)&&(h[v]=sr(S,i)):N<=i&&(t.expiredLanes|=S),d&=~S}if(i=Tt,s=Xe,s=Nn(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(ft===2||ft===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&kr(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ki(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&kr(l),fe(s)){case 2:case 8:s=Lt;break;case 32:s=rn;break;case 268435456:s=zr;break;default:s=rn}return l=bv.bind(null,t),s=ir(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&kr(l),t.callbackPriority=2,t.callbackNode=null,2}function bv(t,i){if(tn!==0&&tn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Ic()&&t.callbackNode!==s)return null;var l=Xe;return l=Nn(t,t===Tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(av(t,l,i),Av(t,At()),t.callbackNode!=null&&t.callbackNode===s?bv.bind(null,t):null)}function wv(t,i){if(Ic())return null;av(t,i,!0)}function UA(){YA(function(){(lt&6)!==0?ir(xt,LA):Sv()})}function Sd(){if(da===0){var t=Fs;t===0&&(t=Pi,Pi<<=1,(Pi&261888)===0&&(Pi=256)),da=t}return da}function Rv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qi(""+t)}function Iv(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function PA(t,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var d=Rv((h[ce]||null).action),v=l.submitter;v&&(i=(i=v[ce]||null)?Rv(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var S=new Ha("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(da!==0){var N=v?Iv(h,v):new FormData(h);qf(s,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=v?Iv(h,v):new FormData(h),qf(s,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Ad=0;Ad<af.length;Ad++){var bd=af[Ad],kA=bd.toLowerCase(),zA=bd[0].toUpperCase()+bd.slice(1);Ci(kA,"on"+zA)}Ci(rg,"onAnimationEnd"),Ci(ag,"onAnimationIteration"),Ci(sg,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(tA,"onTransitionRun"),Ci(nA,"onTransitionStart"),Ci(iA,"onTransitionCancel"),Ci(og,"onTransitionEnd"),Vn("onMouseEnter",["mouseout","mouseover"]),Vn("onMouseLeave",["mouseout","mouseover"]),Vn("onPointerEnter",["pointerout","pointerover"]),Vn("onPointerLeave",["pointerout","pointerover"]),Ft("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ft("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ft("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ft("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ft("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ft("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function Cv(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var S=l[v],N=S.instance,q=S.currentTarget;if(S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=q;try{d(h)}catch($){Fu($)}h.currentTarget=null,d=N}else for(v=0;v<l.length;v++){if(S=l[v],N=S.instance,q=S.currentTarget,S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=q;try{d(h)}catch($){Fu($)}h.currentTarget=null,d=N}}}}function Ke(t,i){var s=i[De];s===void 0&&(s=i[De]=new Set);var l=t+"__bubble";s.has(l)||(Dv(i,t,2,!1),s.add(l))}function wd(t,i,s){var l=0;i&&(l|=4),Dv(s,t,l,i)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Rd(t){if(!t[Oc]){t[Oc]=!0,mi.forEach(function(s){s!=="selectionchange"&&(jA.has(s)||wd(s,!1,t),wd(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Oc]||(i[Oc]=!0,wd("selectionchange",!1,i))}}function Dv(t,i,s,l){switch(r_(i)){case 2:var h=mb;break;case 8:h=pb;break;default:h=Bd}s=h.bind(null,i,s,t),h=void 0,!Yo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function Id(t,i,s,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===h)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;S!==null;){if(v=Sn(S),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=d=v;continue e}S=S.parentNode}}l=l.return}Cu(function(){var q=d,$=Ns(s),Z=[];e:{var F=lg.get(t);if(F!==void 0){var Q=Ha,_e=t;switch(t){case"keypress":if(qa(s)===0)break e;case"keydown":case"keyup":Q=Pu;break;case"focusin":_e="focus",Q=Yr;break;case"focusout":_e="blur",Q=Yr;break;case"beforeblur":case"afterblur":Q=Yr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ou;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=zu;break;case rg:case ag:case sg:Q=xs;break;case og:Q=Ls;break;case"scroll":case"scrollend":Q=Du;break;case"wheel":Q=Bu;break;case"copy":case"cut":case"paste":Q=Vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Zo;break;case"toggle":case"beforetoggle":Q=Jr}var Ce=(i&4)!==0,_t=!Ce&&(t==="scroll"||t==="scrollend"),z=Ce?F!==null?F+"Capture":null:F;Ce=[];for(var x=q,B;x!==null;){var W=x;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||z===null||(W=Gn(x,z),W!=null&&Ce.push(Il(x,W,B))),_t)break;x=x.return}0<Ce.length&&(F=new Q(F,_e,null,s,$),Z.push({event:F,listeners:Ce}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",F&&s!==Os&&(_e=s.relatedTarget||s.fromElement)&&(Sn(_e)||_e[ye]))break e;if((Q||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(_e=s.relatedTarget||s.toElement,Q=q,_e=_e?Sn(_e):null,_e!==null&&(_t=u(_e),Ce=_e.tag,_e!==_t||Ce!==5&&Ce!==27&&Ce!==6)&&(_e=null)):(Q=null,_e=q),Q!==_e)){if(Ce=Ou,W="onMouseLeave",z="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(Ce=Zo,W="onPointerLeave",z="onPointerEnter",x="pointer"),_t=Q==null?F:fn(Q),B=_e==null?F:fn(_e),F=new Ce(W,x+"leave",Q,s,$),F.target=_t,F.relatedTarget=B,W=null,Sn($)===q&&(Ce=new Ce(z,x+"enter",_e,s,$),Ce.target=B,Ce.relatedTarget=_t,W=Ce),_t=W,Q&&_e)t:{for(Ce=BA,z=Q,x=_e,B=0,W=z;W;W=Ce(W))B++;W=0;for(var we=x;we;we=Ce(we))W++;for(;0<B-W;)z=Ce(z),B--;for(;0<W-B;)x=Ce(x),W--;for(;B--;){if(z===x||x!==null&&z===x.alternate){Ce=z;break t}z=Ce(z),x=Ce(x)}Ce=null}else Ce=null;Q!==null&&Ov(Z,F,Q,Ce,!1),_e!==null&&_t!==null&&Ov(Z,_t,_e,Ce,!0)}}e:{if(F=q?fn(q):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var at=Qp;else if(Kn(F))if(Yp)at=WS;else{at=JS;var Se=XS}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&Ko(q.elementType)&&(at=Qp):at=$S;if(at&&(at=at(t,q))){Qa(Z,at,s,$);break e}Se&&Se(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Ds(F,"number",F.value)}switch(Se=q?fn(q):window,t){case"focusin":(Kn(Se)||Se.contentEditable==="true")&&(Us=Se,tf=q,nl=null);break;case"focusout":nl=tf=Us=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,ng(Z,s,$);break;case"selectionchange":if(eA)break;case"keydown":case"keyup":ng(Z,s,$)}var qe;if(g)e:{switch(t){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else He?ct(t,s)&&(Je="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Je="onCompositionStart");Je&&(j&&s.locale!=="ko"&&(He||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&He&&(qe=Fr()):(ii=$,Ms="value"in ii?ii.value:ii.textContent,He=!0)),Se=Nc(q,Je),0<Se.length&&(Je=new Jo(Je,t,null,s,$),Z.push({event:Je,listeners:Se}),qe?Je.data=qe:(qe=Gt(s),qe!==null&&(Je.data=qe)))),(qe=b?on(t,s):ln(t,s))&&(Je=Nc(q,"onBeforeInput"),0<Je.length&&(Se=new Jo("onBeforeInput","beforeinput",null,s,$),Z.push({event:Se,listeners:Je}),Se.data=qe)),PA(Z,t,q,s,$)}Cv(Z,i)})}function Il(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Nc(t,i){for(var s=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Gn(t,s),h!=null&&l.unshift(Il(t,h,d)),h=Gn(t,i),h!=null&&l.push(Il(t,h,d))),t.tag===3)return l;t=t.return}return[]}function BA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ov(t,i,s,l,h){for(var d=i._reactName,v=[];s!==null&&s!==l;){var S=s,N=S.alternate,q=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||q===null||(N=q,h?(q=Gn(s,d),q!=null&&v.unshift(Il(s,q,N))):h||(q=Gn(s,d),q!=null&&v.push(Il(s,q,N)))),s=s.return}v.length!==0&&t.push({event:i,listeners:v})}var qA=/\r\n?/g,HA=/\u0000|\uFFFD/g;function Nv(t){return(typeof t=="string"?t:""+t).replace(qA,`
`).replace(HA,"")}function Mv(t,i){return i=Nv(i),Nv(t)===i}function vt(t,i,s,l,h,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||gi(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&gi(t,""+l);break;case"className":xn(t,"class",l);break;case"tabIndex":xn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":xn(t,s,l);break;case"style":Ru(t,l,d);break;case"data":if(i!=="object"){xn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=qi(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&vt(t,i,"name",h.name,h,null),vt(t,i,"formEncType",h.formEncType,h,null),vt(t,i,"formMethod",h.formMethod,h,null),vt(t,i,"formTarget",h.formTarget,h,null)):(vt(t,i,"encType",h.encType,h,null),vt(t,i,"method",h.method,h,null),vt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=qi(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=sn);break;case"onScroll":l!=null&&Ke("scroll",t);break;case"onScrollEnd":l!=null&&Ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=qi(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ke("beforetoggle",t),Ke("toggle",t),ht(t,"popover",l);break;case"xlinkActuate":Ln(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ln(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ln(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ln(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ln(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ln(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ln(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ln(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ln(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ht(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Xh.get(s)||s,ht(t,s,l))}}function Cd(t,i,s,l,h,d){switch(s){case"style":Ru(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?gi(t,l):(typeof l=="number"||typeof l=="bigint")&&gi(t,""+l);break;case"onScroll":l!=null&&Ke("scroll",t);break;case"onScrollEnd":l!=null&&Ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!An.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),d=t[ce]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):ht(t,s,l)}}}function yn(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",t),Ke("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:vt(t,i,d,v,s,null)}}h&&vt(t,i,"srcSet",s.srcSet,s,null),l&&vt(t,i,"src",s.src,s,null);return;case"input":Ke("invalid",t);var S=d=v=h=null,N=null,q=null;for(l in s)if(s.hasOwnProperty(l)){var $=s[l];if($!=null)switch(l){case"name":h=$;break;case"type":v=$;break;case"checked":N=$;break;case"defaultChecked":q=$;break;case"value":d=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,i));break;default:vt(t,i,l,$,s,null)}}ja(t,d,S,N,q,v,h,!1);return;case"select":Ke("invalid",t),l=v=d=null;for(h in s)if(s.hasOwnProperty(h)&&(S=s[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:vt(t,i,h,S,s,null)}i=d,s=v,t.multiple=!!l,i!=null?rt(t,!!l,i,!1):s!=null&&rt(t,!!l,s,!0);return;case"textarea":Ke("invalid",t),d=h=l=null;for(v in s)if(s.hasOwnProperty(v)&&(S=s[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:vt(t,i,v,S,s,null)}Hr(t,l,h,d);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(l=s[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:vt(t,i,N,l,s,null)}return;case"dialog":Ke("beforetoggle",t),Ke("toggle",t),Ke("cancel",t),Ke("close",t);break;case"iframe":case"object":Ke("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Ke(Rl[l],t);break;case"image":Ke("error",t),Ke("load",t);break;case"details":Ke("toggle",t);break;case"embed":case"source":case"link":Ke("error",t),Ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(l=s[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:vt(t,i,q,l,s,null)}return;default:if(Ko(i)){for($ in s)s.hasOwnProperty($)&&(l=s[$],l!==void 0&&Cd(t,i,$,l,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(l=s[S],l!=null&&vt(t,i,S,l,s,null))}function FA(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,S=null,N=null,q=null,$=null;for(Q in s){var Z=s[Q];if(s.hasOwnProperty(Q)&&Z!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=Z;default:l.hasOwnProperty(Q)||vt(t,i,Q,null,l,Z)}}for(var F in l){var Q=l[F];if(Z=s[F],l.hasOwnProperty(F)&&(Q!=null||Z!=null))switch(F){case"type":d=Q;break;case"name":h=Q;break;case"checked":q=Q;break;case"defaultChecked":$=Q;break;case"value":v=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,i));break;default:Q!==Z&&vt(t,i,F,Q,l,Z)}}qr(t,v,S,N,q,$,d,h);return;case"select":Q=v=S=F=null;for(d in s)if(N=s[d],s.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||vt(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=s[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":F=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==N&&vt(t,i,h,d,l,N)}i=S,s=v,l=Q,F!=null?rt(t,!!s,F,!1):!!l!=!!s&&(i!=null?rt(t,!!s,i,!0):rt(t,!!s,s?[]:"",!1));return;case"textarea":Q=F=null;for(S in s)if(h=s[S],s.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:vt(t,i,S,null,l,h)}for(v in l)if(h=l[v],d=s[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&vt(t,i,v,h,l,d)}Ba(t,F,Q);return;case"option":for(var _e in s)if(F=s[_e],s.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e))switch(_e){case"selected":t.selected=!1;break;default:vt(t,i,_e,null,l,F)}for(N in l)if(F=l[N],Q=s[N],l.hasOwnProperty(N)&&F!==Q&&(F!=null||Q!=null))switch(N){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:vt(t,i,N,F,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in s)F=s[Ce],s.hasOwnProperty(Ce)&&F!=null&&!l.hasOwnProperty(Ce)&&vt(t,i,Ce,null,l,F);for(q in l)if(F=l[q],Q=s[q],l.hasOwnProperty(q)&&F!==Q&&(F!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,i));break;default:vt(t,i,q,F,l,Q)}return;default:if(Ko(i)){for(var _t in s)F=s[_t],s.hasOwnProperty(_t)&&F!==void 0&&!l.hasOwnProperty(_t)&&Cd(t,i,_t,void 0,l,F);for($ in l)F=l[$],Q=s[$],!l.hasOwnProperty($)||F===Q||F===void 0&&Q===void 0||Cd(t,i,$,F,l,Q);return}}for(var z in s)F=s[z],s.hasOwnProperty(z)&&F!=null&&!l.hasOwnProperty(z)&&vt(t,i,z,null,l,F);for(Z in l)F=l[Z],Q=s[Z],!l.hasOwnProperty(Z)||F===Q||F==null&&Q==null||vt(t,i,Z,F,l,Q)}function Vv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],d=h.transferSize,v=h.initiatorType,S=h.duration;if(d&&S&&Vv(v)){for(v=0,S=h.responseEnd,l+=1;l<s.length;l++){var N=s[l],q=N.startTime;if(q>S)break;var $=N.transferSize,Z=N.initiatorType;$&&Vv(Z)&&(N=N.responseEnd,v+=$*(N<S?1:(S-q)/(N-q)))}if(--l,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Dd=null,Od=null;function Mc(t){return t.nodeType===9?t:t.ownerDocument}function xv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Nd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Md=null;function KA(){var t=window.event;return t&&t.type==="popstate"?t===Md?!1:(Md=t,!0):(Md=null,!1)}var Uv=typeof setTimeout=="function"?setTimeout:void 0,QA=typeof clearTimeout=="function"?clearTimeout:void 0,Pv=typeof Promise=="function"?Promise:void 0,YA=typeof queueMicrotask=="function"?queueMicrotask:typeof Pv<"u"?function(t){return Pv.resolve(null).then(t).catch(XA)}:Uv;function XA(t){setTimeout(function(){throw t})}function ma(t){return t==="head"}function kv(t,i){var s=i,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),uo(i);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Cl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Cl(s);for(var d=s.firstChild;d;){var v=d.nextSibling,S=d.nodeName;d[Be]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=v}}else s==="body"&&Cl(t.ownerDocument.body);s=h}while(s);uo(i)}function zv(t,i){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Vd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Vd(s),ut(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function JA(t,i,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Be])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ai(t.nextSibling),t===null)break}return null}function $A(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Ai(t.nextSibling),t===null))return null;return t}function jv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ai(t.nextSibling),t===null))return null;return t}function xd(t){return t.data==="$?"||t.data==="$~"}function Ld(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function WA(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ai(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Ud=null;function Bv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return Ai(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function qv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function Hv(t,i,s){switch(i=Mc(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Cl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ut(t)}var bi=new Map,Fv=new Set;function Vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Rr=oe.d;oe.d={f:ZA,r:eb,D:tb,C:nb,L:ib,m:rb,X:sb,S:ab,M:ob};function ZA(){var t=Rr.f(),i=bc();return t||i}function eb(t){var i=Mn(t);i!==null&&i.tag===5&&i.type==="form"?oy(i):Rr.r(t)}var so=typeof document>"u"?null:document;function Gv(t,i,s){var l=so;if(l&&typeof i=="string"&&i){var h=kt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Fv.has(h)||(Fv.add(h),t={rel:t,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),yn(i,"link",t),bt(i),l.head.appendChild(i)))}}function tb(t){Rr.D(t),Gv("dns-prefetch",t,null)}function nb(t,i){Rr.C(t,i),Gv("preconnect",t,i)}function ib(t,i,s){Rr.L(t,i,s);var l=so;if(l&&t&&i){var h='link[rel="preload"][as="'+kt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+kt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+kt(s.imageSizes)+'"]')):h+='[href="'+kt(t)+'"]';var d=h;switch(i){case"style":d=oo(t);break;case"script":d=lo(t)}bi.has(d)||(t=T({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),bi.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Dl(d))||i==="script"&&l.querySelector(Ol(d))||(i=l.createElement("link"),yn(i,"link",t),bt(i),l.head.appendChild(i)))}}function rb(t,i){Rr.m(t,i);var s=so;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+kt(l)+'"][href="'+kt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=lo(t)}if(!bi.has(d)&&(t=T({rel:"modulepreload",href:t},i),bi.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ol(d)))return}l=s.createElement("link"),yn(l,"link",t),bt(l),s.head.appendChild(l)}}}function ab(t,i,s){Rr.S(t,i,s);var l=so;if(l&&t){var h=Pt(l).hoistableStyles,d=oo(t);i=i||"default";var v=h.get(d);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(Dl(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},s),(s=bi.get(d))&&Pd(t,s);var N=v=l.createElement("link");bt(N),yn(N,"link",t),N._p=new Promise(function(q,$){N.onload=q,N.onerror=$}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,xc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:S},h.set(d,v)}}}function sb(t,i){Rr.X(t,i);var s=so;if(s&&t){var l=Pt(s).hoistableScripts,h=lo(t),d=l.get(h);d||(d=s.querySelector(Ol(h)),d||(t=T({src:t,async:!0},i),(i=bi.get(h))&&kd(t,i),d=s.createElement("script"),bt(d),yn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ob(t,i){Rr.M(t,i);var s=so;if(s&&t){var l=Pt(s).hoistableScripts,h=lo(t),d=l.get(h);d||(d=s.querySelector(Ol(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=bi.get(h))&&kd(t,i),d=s.createElement("script"),bt(d),yn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Kv(t,i,s,l){var h=(h=Ne.current)?Vc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=oo(s.href),s=Pt(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=oo(s.href);var d=Pt(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Dl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),bi.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},bi.set(t,s),d||lb(h,t,s,v.state))),i&&l===null)throw Error(a(528,""));return v}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=lo(s),s=Pt(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function oo(t){return'href="'+kt(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function Qv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function lb(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),yn(i,"link",s),bt(i),t.head.appendChild(i))}function lo(t){return'[src="'+kt(t)+'"]'}function Ol(t){return"script[async]"+t}function Yv(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+kt(s.href)+'"]');if(l)return i.instance=l,bt(l),l;var h=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),bt(l),yn(l,"style",h),xc(l,s.precedence,t),i.instance=l;case"stylesheet":h=oo(s.href);var d=t.querySelector(Dl(h));if(d)return i.state.loading|=4,i.instance=d,bt(d),d;l=Qv(s),(h=bi.get(h))&&Pd(l,h),d=(t.ownerDocument||t).createElement("link"),bt(d);var v=d;return v._p=new Promise(function(S,N){v.onload=S,v.onerror=N}),yn(d,"link",l),i.state.loading|=4,xc(d,s.precedence,t),i.instance=d;case"script":return d=lo(s.src),(h=t.querySelector(Ol(d)))?(i.instance=h,bt(h),h):(l=s,(h=bi.get(d))&&(l=T({},s),kd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),bt(h),yn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,xc(l,s.precedence,t));return i.instance}function xc(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Pd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function kd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Lc=null;function Xv(t,i,s){if(Lc===null){var l=new Map,h=Lc=new Map;h.set(s,l)}else h=Lc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[Be]||d[ue]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var S=l.get(v);S?S.push(d):l.set(v,[d])}}return l}function Jv(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function ub(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function $v(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function cb(t,i,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=oo(l.href),d=i.querySelector(Dl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Uc.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=d,bt(d);return}d=i.ownerDocument||i,l=Qv(l),(h=bi.get(h))&&Pd(l,h),d=d.createElement("link"),bt(d);var v=d;v._p=new Promise(function(S,N){v.onload=S,v.onerror=N}),yn(d,"link",l),s.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Uc.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var zd=0;function hb(t,i){return t.stylesheets&&t.count===0&&kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&kc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&zd===0&&(zd=62500*GA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&kc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>zd?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Pc=null;function kc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Pc=new Map,i.forEach(fb,t),Pc=null,Uc.call(t))}function fb(t,i){if(!(i.state.loading&4)){var s=Pc.get(t);if(s)var l=s.get(null);else{s=new Map,Pc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=s.get(v)||l,d===l&&s.set(null,h),s.set(v,h),this.count++,l=Uc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Nl={$$typeof:de,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function db(t,i,s,l,h,d,v,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fn(0),this.hiddenUpdates=Fn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Wv(t,i,s,l,h,d,v,S,N,q,$,Z){return t=new db(t,i,s,v,N,q,$,Z,S),i=1,d===!0&&(i|=24),d=ai(3,null,null,i),t.current=d,d.stateNode=t,i=vf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},Sf(d),t}function Zv(t){return t?(t=zs,t):zs}function e_(t,i,s,l,h,d){h=Zv(h),l.context===null?l.context=h:l.pendingContext=h,l=ia(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=ra(t,l,i),s!==null&&($n(s,t,i),ul(s,t,i))}function t_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function jd(t,i){t_(t,i),(t=t.alternate)&&t_(t,i)}function n_(t){if(t.tag===13||t.tag===31){var i=Ja(t,67108864);i!==null&&$n(i,t,67108864),jd(t,67108864)}}function i_(t){if(t.tag===13||t.tag===31){var i=ci();i=ie(i);var s=Ja(t,i);s!==null&&$n(s,t,i),jd(t,i)}}var zc=!0;function mb(t,i,s,l){var h=J.T;J.T=null;var d=oe.p;try{oe.p=2,Bd(t,i,s,l)}finally{oe.p=d,J.T=h}}function pb(t,i,s,l){var h=J.T;J.T=null;var d=oe.p;try{oe.p=8,Bd(t,i,s,l)}finally{oe.p=d,J.T=h}}function Bd(t,i,s,l){if(zc){var h=qd(l);if(h===null)Id(t,i,l,jc,s),a_(t,l);else if(yb(h,t,i,s,l))l.stopPropagation();else if(a_(t,l),i&4&&-1<gb.indexOf(t)){for(;h!==null;){var d=Mn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ti(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var N=1<<31-an(v);S.entanglements[1]|=N,v&=~N}Yi(d),(lt&6)===0&&(Sc=At()+500,wl(0))}}break;case 31:case 13:S=Ja(d,2),S!==null&&$n(S,d,2),bc(),jd(d,2)}if(d=qd(l),d===null&&Id(t,i,l,jc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else Id(t,i,l,null,s)}}function qd(t){return t=Ns(t),Hd(t)}var jc=null;function Hd(t){if(jc=null,t=Sn(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=f(i),t!==null)return t;t=null}else if(s===31){if(t=m(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return jc=t,null}function r_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ui()){case xt:return 2;case Lt:return 8;case rn:case qn:return 32;case zr:return 268435456;default:return 32}default:return 32}}var Fd=!1,pa=null,ga=null,ya=null,Ml=new Map,Vl=new Map,va=[],gb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a_(t,i){switch(t){case"focusin":case"focusout":pa=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":Ml.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(i.pointerId)}}function xl(t,i,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Mn(i),i!==null&&n_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function yb(t,i,s,l,h){switch(i){case"focusin":return pa=xl(pa,t,i,s,l,h),!0;case"dragenter":return ga=xl(ga,t,i,s,l,h),!0;case"mouseover":return ya=xl(ya,t,i,s,l,h),!0;case"pointerover":var d=h.pointerId;return Ml.set(d,xl(Ml.get(d)||null,t,i,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Vl.set(d,xl(Vl.get(d)||null,t,i,s,l,h)),!0}return!1}function s_(t){var i=Sn(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=f(s),i!==null){t.blockedOn=i,Ie(t.priority,function(){i_(s)});return}}else if(i===31){if(i=m(s),i!==null){t.blockedOn=i,Ie(t.priority,function(){i_(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=qd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Os=l,s.target.dispatchEvent(l),Os=null}else return i=Mn(s),i!==null&&n_(i),t.blockedOn=s,!1;i.shift()}return!0}function o_(t,i,s){Bc(t)&&s.delete(i)}function vb(){Fd=!1,pa!==null&&Bc(pa)&&(pa=null),ga!==null&&Bc(ga)&&(ga=null),ya!==null&&Bc(ya)&&(ya=null),Ml.forEach(o_),Vl.forEach(o_)}function qc(t,i){t.blockedOn===i&&(t.blockedOn=null,Fd||(Fd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,vb)))}var Hc=null;function l_(t){Hc!==t&&(Hc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hc===t&&(Hc=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Hd(l||s)===null)continue;break}var d=Mn(s);d!==null&&(t.splice(i,3),i-=3,qf(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function uo(t){function i(N){return qc(N,t)}pa!==null&&qc(pa,t),ga!==null&&qc(ga,t),ya!==null&&qc(ya,t),Ml.forEach(i),Vl.forEach(i);for(var s=0;s<va.length;s++){var l=va[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<va.length&&(s=va[0],s.blockedOn===null);)s_(s),s.blockedOn===null&&va.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],v=h[ce]||null;if(typeof d=="function")v||l_(s);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[ce]||null)S=v.formAction;else if(Hd(h)!==null)continue}else S=v.action;typeof S=="function"?s[l+1]=S:(s.splice(l,3),l-=3),l_(s)}}}function u_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Gd(t){this._internalRoot=t}Fc.prototype.render=Gd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=ci();e_(s,l,t,i,null,null)},Fc.prototype.unmount=Gd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;e_(t.current,2,null,t,null,null),bc(),i[ye]=null}};function Fc(t){this._internalRoot=t}Fc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ee();t={blockedOn:null,target:t,priority:i};for(var s=0;s<va.length&&i!==0&&i<va[s].priority;s++);va.splice(s,0,t),s===0&&s_(t)}};var c_=e.version;if(c_!=="19.2.0")throw Error(a(527,c_,"19.2.0"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var _b={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{hn=Gc.inject(_b),Zt=Gc}catch{}}return Ul.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",h=yy,d=vy,v=_y;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=Wv(t,1,!1,null,null,s,l,null,h,d,v,u_),t[ye]=i.current,Rd(t),new Gd(i)},Ul.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=yy,v=vy,S=_y,N=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.formState!==void 0&&(N=s.formState)),i=Wv(t,1,!0,i,s??null,l,h,N,d,v,S,u_),i.context=Zv(null),s=i.current,l=ci(),l=ie(l),h=ia(l),h.callback=null,ra(s,h,l),s=l,i.current.lanes=s,ji(i,s),Yi(i),t[ye]=i.current,Rd(t),new Fc(i)},Ul.version="19.2.0",Ul}var E_;function Ob(){if(E_)return Yd.exports;E_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Yd.exports=Db(),Yd.exports}var Nb=Ob(),u0=l0();const Mb=o0(u0),Vb=s0({__proto__:null,default:Mb},[u0]);function Ot(){return Ot=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Ot.apply(this,arguments)}var $t;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})($t||($t={}));const T_="popstate";function xb(r){r===void 0&&(r={});function e(a,o){let{pathname:u,search:f,hash:m}=a.location;return Zl("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:ps(o)}return Ub(e,n,null,r)}function $e(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function To(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Lb(){return Math.random().toString(36).substr(2,8)}function S_(r,e){return{usr:r.state,key:r.key,idx:e}}function Zl(r,e,n,a){return n===void 0&&(n=null),Ot({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Ua(e):e,{state:n,key:e&&e.key||a||Lb()})}function ps(r){let{pathname:e="/",search:n="",hash:a=""}=r;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function Ua(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substr(n),r=r.substr(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substr(a),r=r.substr(0,a)),r&&(e.pathname=r)}return e}function Ub(r,e,n,a){a===void 0&&(a={});let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m=$t.Pop,p=null,y=E();y==null&&(y=0,f.replaceState(Ot({},f.state,{idx:y}),""));function E(){return(f.state||{idx:null}).idx}function T(){m=$t.Pop;let K=E(),he=K==null?null:K-y;y=K,p&&p({action:m,location:H.location,delta:he})}function R(K,he){m=$t.Push;let ae=Zl(H.location,K,he);y=E()+1;let de=S_(ae,y),be=H.createHref(ae);try{f.pushState(de,"",be)}catch(Ve){if(Ve instanceof DOMException&&Ve.name==="DataCloneError")throw Ve;o.location.assign(be)}u&&p&&p({action:m,location:H.location,delta:1})}function D(K,he){m=$t.Replace;let ae=Zl(H.location,K,he);y=E();let de=S_(ae,y),be=H.createHref(ae);f.replaceState(de,"",be),u&&p&&p({action:m,location:H.location,delta:0})}function U(K){let he=o.location.origin!=="null"?o.location.origin:o.location.href,ae=typeof K=="string"?K:ps(K);return ae=ae.replace(/ $/,"%20"),$e(he,"No window.location.(origin|href) available to create URL for href: "+ae),new URL(ae,he)}let H={get action(){return m},get location(){return r(o,f)},listen(K){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(T_,T),p=K,()=>{o.removeEventListener(T_,T),p=null}},createHref(K){return e(o,K)},createURL:U,encodeLocation(K){let he=U(K);return{pathname:he.pathname,search:he.search,hash:he.hash}},push:R,replace:D,go(K){return f.go(K)}};return H}var mt;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(mt||(mt={}));const Pb=new Set(["lazy","caseSensitive","path","id","index","children"]);function kb(r){return r.index===!0}function lh(r,e,n,a){return n===void 0&&(n=[]),a===void 0&&(a={}),r.map((o,u)=>{let f=[...n,String(u)],m=typeof o.id=="string"?o.id:f.join("-");if($e(o.index!==!0||!o.children,"Cannot specify children on an index route"),$e(!a[m],'Found a route id collision on id "'+m+`".  Route id's must be globally unique within Data Router usages`),kb(o)){let p=Ot({},o,e(o),{id:m});return a[m]=p,p}else{let p=Ot({},o,e(o),{id:m,children:void 0});return a[m]=p,o.children&&(p.children=lh(o.children,e,f,a)),p}})}function cs(r,e,n){return n===void 0&&(n="/"),Wc(r,e,n,!1)}function Wc(r,e,n,a){let o=typeof e=="string"?Ua(e):e,u=No(o.pathname||"/",n);if(u==null)return null;let f=c0(r);jb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=$b(u);m=Xb(f[p],y,a)}return m}function zb(r,e){let{route:n,pathname:a,params:o}=r;return{id:n.id,pathname:a,params:o,data:e[n.id],handle:n.handle}}function c0(r,e,n,a){e===void 0&&(e=[]),n===void 0&&(n=[]),a===void 0&&(a="");let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&($e(p.relativePath.startsWith(a),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(a.length));let y=Nr([a,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&($e(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),c0(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:Qb(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of h0(u.path))o(u,f,p)}),e}function h0(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=h0(a.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function jb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Yb(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const Bb=/^:[\w-]+$/,qb=3,Hb=2,Fb=1,Gb=10,Kb=-2,A_=r=>r==="*";function Qb(r,e){let n=r.split("/"),a=n.length;return n.some(A_)&&(a+=Kb),e&&(a+=Hb),n.filter(o=>!A_(o)).reduce((o,u)=>o+(Bb.test(u)?qb:u===""?Fb:Gb),a)}function Yb(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function Xb(r,e,n){n===void 0&&(n=!1);let{routesMeta:a}=r,o={},u="/",f=[];for(let m=0;m<a.length;++m){let p=a[m],y=m===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=b_({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),R=p.route;if(!T&&y&&n&&!a[a.length-1].route.index&&(T=b_({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:Nr([u,T.pathname]),pathnameBase:ew(Nr([u,T.pathnameBase])),route:R}),T.pathnameBase!=="/"&&(u=Nr([u,T.pathnameBase]))}return f}function b_(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=Jb(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((y,E,T)=>{let{paramName:R,isOptional:D}=E;if(R==="*"){let H=m[T]||"";f=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const U=m[T];return D&&!U?y[R]=void 0:y[R]=(U||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function Jb(r,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),To(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function $b(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return To(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function No(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function Wb(r,e){e===void 0&&(e="/");let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?Ua(r):r;return{pathname:n?n.startsWith("/")?n:Zb(n,e):e,search:tw(a),hash:nw(o)}}function Zb(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Wd(r,e,n,a){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function f0(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hm(r,e){let n=f0(r);return e?n.map((a,o)=>o===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function Fm(r,e,n,a){a===void 0&&(a=!1);let o;typeof r=="string"?o=Ua(r):(o=Ot({},r),$e(!o.pathname||!o.pathname.includes("?"),Wd("?","pathname","search",o)),$e(!o.pathname||!o.pathname.includes("#"),Wd("#","pathname","hash",o)),$e(!o.search||!o.search.includes("#"),Wd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!a&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),T-=1;o.pathname=R.join("/")}m=T>=0?e[T]:"/"}let p=Wb(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}const Nr=r=>r.join("/").replace(/\/\/+/g,"/"),ew=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),tw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,nw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;class uh{constructor(e,n,a,o){o===void 0&&(o=!1),this.status=e,this.statusText=n||"",this.internal=o,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}}function eu(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const d0=["post","put","patch","delete"],iw=new Set(d0),rw=["get",...d0],aw=new Set(rw),sw=new Set([301,302,303,307,308]),ow=new Set([307,308]),Zd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lw={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Pl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Gm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uw=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),m0="remix-router-transitions";function cw(r){const e=r.window?r.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",a=!n;$e(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(r.mapRouteProperties)o=r.mapRouteProperties;else if(r.detectErrorBoundary){let M=r.detectErrorBoundary;o=k=>({hasErrorBoundary:M(k)})}else o=uw;let u={},f=lh(r.routes,o,void 0,u),m,p=r.basename||"/",y=r.dataStrategy||mw,E=r.patchRoutesOnNavigation,T=Ot({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},r.future),R=null,D=new Set,U=null,H=null,K=null,he=r.hydrationData!=null,ae=cs(f,r.history.location,p),de=!1,be=null;if(ae==null&&!E){let M=Wn(404,{pathname:r.history.location.pathname}),{matches:k,route:G}=L_(f);ae=k,be={[G.id]:M}}ae&&!r.hydrationData&&zi(ae,f,r.history.location.pathname).active&&(ae=null);let Ve;if(ae)if(ae.some(M=>M.route.lazy))Ve=!1;else if(!ae.some(M=>M.route.loader))Ve=!0;else if(T.v7_partialHydration){let M=r.hydrationData?r.hydrationData.loaderData:null,k=r.hydrationData?r.hydrationData.errors:null;if(k){let G=ae.findIndex(ie=>k[ie.route.id]!==void 0);Ve=ae.slice(0,G+1).every(ie=>!pm(ie.route,M,k))}else Ve=ae.every(G=>!pm(G.route,M,k))}else Ve=r.hydrationData!=null;else if(Ve=!1,ae=[],T.v7_partialHydration){let M=zi(null,f,r.history.location.pathname);M.active&&M.matches&&(de=!0,ae=M.matches)}let Le,A={historyAction:r.history.action,location:r.history.location,matches:ae,initialized:Ve,navigation:Zd,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||be,fetchers:new Map,blockers:new Map},w=$t.Pop,I=!1,O,L=!1,P=new Map,C=null,tt=!1,Et=!1,J=[],oe=new Set,me=new Map,Fe=0,Qe=-1,V=new Map,X=new Set,se=new Map,ge=new Map,Ae=new Set,Ne=new Map,ze=new Map,Vt;function St(){if(R=r.history.listen(M=>{let{action:k,location:G,delta:ie}=M;if(Vt){Vt(),Vt=void 0;return}To(ze.size===0||ie!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let fe=Pi({currentLocation:A.location,nextLocation:G,historyAction:k});if(fe&&ie!=null){let Ee=new Promise(Ie=>{Vt=Ie});r.history.go(ie*-1),ar(fe,{state:"blocked",location:G,proceed(){ar(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),Ee.then(()=>r.history.go(ie))},reset(){let Ie=new Map(A.blockers);Ie.set(fe,Pl),Nt({blockers:Ie})}});return}return Bn(k,G)}),n){Cw(e,P);let M=()=>Dw(e,P);e.addEventListener("pagehide",M),C=()=>e.removeEventListener("pagehide",M)}return A.initialized||Bn($t.Pop,A.location,{initialHydration:!0}),Le}function fi(){R&&R(),C&&C(),D.clear(),O&&O.abort(),A.fetchers.forEach((M,k)=>jr(k)),A.blockers.forEach((M,k)=>Br(k))}function Ri(M){return D.add(M),()=>D.delete(M)}function Nt(M,k){k===void 0&&(k={}),A=Ot({},A,M);let G=[],ie=[];T.v7_fetcherPersist&&A.fetchers.forEach((fe,Ee)=>{fe.state==="idle"&&(Ae.has(Ee)?ie.push(Ee):G.push(Ee))}),Ae.forEach(fe=>{!A.fetchers.has(fe)&&!me.has(fe)&&ie.push(fe)}),[...D].forEach(fe=>fe(A,{deletedFetchers:ie,viewTransitionOpts:k.viewTransitionOpts,flushSync:k.flushSync===!0})),T.v7_fetcherPersist?(G.forEach(fe=>A.fetchers.delete(fe)),ie.forEach(fe=>jr(fe))):ie.forEach(fe=>Ae.delete(fe))}function ei(M,k,G){var ie,fe;let{flushSync:Ee}=G===void 0?{}:G,Ie=A.actionData!=null&&A.navigation.formMethod!=null&&Ni(A.navigation.formMethod)&&A.navigation.state==="loading"&&((ie=M.state)==null?void 0:ie._isRedirect)!==!0,pe;k.actionData?Object.keys(k.actionData).length>0?pe=k.actionData:pe=null:Ie?pe=A.actionData:pe=null;let ue=k.loaderData?V_(A.loaderData,k.loaderData,k.matches||[],k.errors):A.loaderData,ce=A.blockers;ce.size>0&&(ce=new Map(ce),ce.forEach((xe,Ut)=>ce.set(Ut,Pl)));let ye=I===!0||A.navigation.formMethod!=null&&Ni(A.navigation.formMethod)&&((fe=M.state)==null?void 0:fe._isRedirect)!==!0;m&&(f=m,m=void 0),tt||w===$t.Pop||(w===$t.Push?r.history.push(M,M.state):w===$t.Replace&&r.history.replace(M,M.state));let De;if(w===$t.Pop){let xe=P.get(A.location.pathname);xe&&xe.has(M.pathname)?De={currentLocation:A.location,nextLocation:M}:P.has(M.pathname)&&(De={currentLocation:M,nextLocation:A.location})}else if(L){let xe=P.get(A.location.pathname);xe?xe.add(M.pathname):(xe=new Set([M.pathname]),P.set(A.location.pathname,xe)),De={currentLocation:A.location,nextLocation:M}}Nt(Ot({},k,{actionData:pe,loaderData:ue,historyAction:w,location:M,initialized:!0,navigation:Zd,revalidation:"idle",restoreScrollPosition:sr(M,k.matches||A.matches),preventScrollReset:ye,blockers:ce}),{viewTransitionOpts:De,flushSync:Ee===!0}),w=$t.Pop,I=!1,L=!1,tt=!1,Et=!1,J=[]}async function jn(M,k){if(typeof M=="number"){r.history.go(M);return}let G=mm(A.location,A.matches,p,T.v7_prependBasename,M,T.v7_relativeSplatPath,k?.fromRouteId,k?.relative),{path:ie,submission:fe,error:Ee}=w_(T.v7_normalizeFormMethod,!1,G,k),Ie=A.location,pe=Zl(A.location,ie,k&&k.state);pe=Ot({},pe,r.history.encodeLocation(pe));let ue=k&&k.replace!=null?k.replace:void 0,ce=$t.Push;ue===!0?ce=$t.Replace:ue===!1||fe!=null&&Ni(fe.formMethod)&&fe.formAction===A.location.pathname+A.location.search&&(ce=$t.Replace);let ye=k&&"preventScrollReset"in k?k.preventScrollReset===!0:void 0,De=(k&&k.flushSync)===!0,xe=Pi({currentLocation:Ie,nextLocation:pe,historyAction:ce});if(xe){ar(xe,{state:"blocked",location:pe,proceed(){ar(xe,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),jn(M,k)},reset(){let Ut=new Map(A.blockers);Ut.set(xe,Pl),Nt({blockers:Ut})}});return}return await Bn(ce,pe,{submission:fe,pendingError:Ee,preventScrollReset:ye,replace:k&&k.replace,enableViewTransition:k&&k.viewTransition,flushSync:De})}function tr(){if(Lt(),Nt({revalidation:"loading"}),A.navigation.state!=="submitting"){if(A.navigation.state==="idle"){Bn(A.historyAction,A.location,{startUninterruptedRevalidation:!0});return}Bn(w||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:L===!0})}}async function Bn(M,k,G){O&&O.abort(),O=null,w=M,tt=(G&&G.startUninterruptedRevalidation)===!0,ki(A.location,A.matches),I=(G&&G.preventScrollReset)===!0,L=(G&&G.enableViewTransition)===!0;let ie=m||f,fe=G&&G.overrideNavigation,Ee=G!=null&&G.initialHydration&&A.matches&&A.matches.length>0&&!de?A.matches:cs(ie,k,p),Ie=(G&&G.flushSync)===!0;if(Ee&&A.initialized&&!Et&&Ew(A.location,k)&&!(G&&G.submission&&Ni(G.submission.formMethod))){ei(k,{matches:Ee},{flushSync:Ie});return}let pe=zi(Ee,ie,k.pathname);if(pe.active&&pe.matches&&(Ee=pe.matches),!Ee){let{error:it,notFoundMatches:Be,route:ut}=Hn(k.pathname);ei(k,{matches:Be,loaderData:{},errors:{[ut.id]:it}},{flushSync:Ie});return}O=new AbortController;let ue=co(r.history,k,O.signal,G&&G.submission),ce;if(G&&G.pendingError)ce=[hs(Ee).route.id,{type:mt.error,error:G.pendingError}];else if(G&&G.submission&&Ni(G.submission.formMethod)){let it=await Bo(ue,k,G.submission,Ee,pe.active,{replace:G.replace,flushSync:Ie});if(it.shortCircuited)return;if(it.pendingActionResult){let[Be,ut]=it.pendingActionResult;if(hi(ut)&&eu(ut.error)&&ut.error.status===404){O=null,ei(k,{matches:it.matches,loaderData:{},errors:{[Be]:ut.error}});return}}Ee=it.matches||Ee,ce=it.pendingActionResult,fe=em(k,G.submission),Ie=!1,pe.active=!1,ue=co(r.history,ue.url,ue.signal)}let{shortCircuited:ye,matches:De,loaderData:xe,errors:Ut}=await Rs(ue,k,Ee,pe.active,fe,G&&G.submission,G&&G.fetcherSubmission,G&&G.replace,G&&G.initialHydration===!0,Ie,ce);ye||(O=null,ei(k,Ot({matches:De||Ee},x_(ce),{loaderData:xe,errors:Ut})))}async function Bo(M,k,G,ie,fe,Ee){Ee===void 0&&(Ee={}),Lt();let Ie=Rw(k,G);if(Nt({navigation:Ie},{flushSync:Ee.flushSync===!0}),fe){let ce=await Fn(ie,k.pathname,M.signal);if(ce.type==="aborted")return{shortCircuited:!0};if(ce.type==="error"){let ye=hs(ce.partialMatches).route.id;return{matches:ce.partialMatches,pendingActionResult:[ye,{type:mt.error,error:ce.error}]}}else if(ce.matches)ie=ce.matches;else{let{notFoundMatches:ye,error:De,route:xe}=Hn(k.pathname);return{matches:ye,pendingActionResult:[xe.id,{type:mt.error,error:De}]}}}let pe,ue=Bl(ie,k);if(!ue.route.action&&!ue.route.lazy)pe={type:mt.error,error:Wn(405,{method:M.method,pathname:k.pathname,routeId:ue.route.id})};else if(pe=(await Ui("action",A,M,[ue],ie,null))[ue.route.id],M.signal.aborted)return{shortCircuited:!0};if(fs(pe)){let ce;return Ee&&Ee.replace!=null?ce=Ee.replace:ce=O_(pe.response.headers.get("Location"),new URL(M.url),p)===A.location.pathname+A.location.search,await At(M,pe,!0,{submission:G,replace:ce}),{shortCircuited:!0}}if(Ra(pe))throw Wn(400,{type:"defer-action"});if(hi(pe)){let ce=hs(ie,ue.route.id);return(Ee&&Ee.replace)!==!0&&(w=$t.Push),{matches:ie,pendingActionResult:[ce.route.id,pe]}}return{matches:ie,pendingActionResult:[ue.route.id,pe]}}async function Rs(M,k,G,ie,fe,Ee,Ie,pe,ue,ce,ye){let De=fe||em(k,Ee),xe=Ee||Ie||P_(De),Ut=!tt&&(!T.v7_partialHydration||!ue);if(ie){if(Ut){let gt=nr(ye);Nt(Ot({navigation:De},gt!==void 0?{actionData:gt}:{}),{flushSync:ce})}let Ye=await Fn(G,k.pathname,M.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){let gt=hs(Ye.partialMatches).route.id;return{matches:Ye.partialMatches,loaderData:{},errors:{[gt]:Ye.error}}}else if(Ye.matches)G=Ye.matches;else{let{error:gt,notFoundMatches:pi,route:Bi}=Hn(k.pathname);return{matches:pi,loaderData:{},errors:{[Bi.id]:gt}}}}let it=m||f,[Be,ut]=I_(r.history,A,G,xe,k,T.v7_partialHydration&&ue===!0,T.v7_skipActionErrorRevalidation,Et,J,oe,Ae,se,X,it,p,ye);if(di(Ye=>!(G&&G.some(gt=>gt.route.id===Ye))||Be&&Be.some(gt=>gt.route.id===Ye)),Qe=++Fe,Be.length===0&&ut.length===0){let Ye=On();return ei(k,Ot({matches:G,loaderData:{},errors:ye&&hi(ye[1])?{[ye[0]]:ye[1].error}:null},x_(ye),Ye?{fetchers:new Map(A.fetchers)}:{}),{flushSync:ce}),{shortCircuited:!0}}if(Ut){let Ye={};if(!ie){Ye.navigation=De;let gt=nr(ye);gt!==void 0&&(Ye.actionData=gt)}ut.length>0&&(Ye.fetchers=ir(ut)),Nt(Ye,{flushSync:ce})}ut.forEach(Ye=>{hn(Ye.key),Ye.controller&&me.set(Ye.key,Ye.controller)});let Sn=()=>ut.forEach(Ye=>hn(Ye.key));O&&O.signal.addEventListener("abort",Sn);let{loaderResults:Mn,fetcherResults:fn}=await xt(A,G,Be,ut,M);if(M.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",Sn),ut.forEach(Ye=>me.delete(Ye.key));let Pt=Kc(Mn);if(Pt)return await At(M,Pt.result,!0,{replace:pe}),{shortCircuited:!0};if(Pt=Kc(fn),Pt)return X.add(Pt.key),await At(M,Pt.result,!0,{replace:pe}),{shortCircuited:!0};let{loaderData:bt,errors:mi}=M_(A,G,Mn,ye,ut,fn,Ne);Ne.forEach((Ye,gt)=>{Ye.subscribe(pi=>{(pi||Ye.done)&&Ne.delete(gt)})}),T.v7_partialHydration&&ue&&A.errors&&(mi=Ot({},A.errors,mi));let An=On(),Ft=an(Qe),Vn=An||Ft||ut.length>0;return Ot({matches:G,loaderData:bt,errors:mi},Vn?{fetchers:new Map(A.fetchers)}:{})}function nr(M){if(M&&!hi(M[1]))return{[M[0]]:M[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function ir(M){return M.forEach(k=>{let G=A.fetchers.get(k.key),ie=kl(void 0,G?G.data:void 0);A.fetchers.set(k.key,ie)}),new Map(A.fetchers)}function kr(M,k,G,ie){if(a)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");hn(M);let fe=(ie&&ie.flushSync)===!0,Ee=m||f,Ie=mm(A.location,A.matches,p,T.v7_prependBasename,G,T.v7_relativeSplatPath,k,ie?.relative),pe=cs(Ee,Ie,p),ue=zi(pe,Ee,Ie);if(ue.active&&ue.matches&&(pe=ue.matches),!pe){qn(M,k,Wn(404,{pathname:Ie}),{flushSync:fe});return}let{path:ce,submission:ye,error:De}=w_(T.v7_normalizeFormMethod,!0,Ie,ie);if(De){qn(M,k,De,{flushSync:fe});return}let xe=Bl(pe,ce),Ut=(ie&&ie.preventScrollReset)===!0;if(ye&&Ni(ye.formMethod)){qo(M,k,ce,xe,pe,ue.active,fe,Ut,ye);return}se.set(M,{routeId:k,path:ce}),za(M,k,ce,xe,pe,ue.active,fe,Ut,ye)}async function qo(M,k,G,ie,fe,Ee,Ie,pe,ue){Lt(),se.delete(M);function ce(ht){if(!ht.route.action&&!ht.route.lazy){let xn=Wn(405,{method:ue.formMethod,pathname:G,routeId:k});return qn(M,k,xn,{flushSync:Ie}),!0}return!1}if(!Ee&&ce(ie))return;let ye=A.fetchers.get(M);rn(M,Iw(ue,ye),{flushSync:Ie});let De=new AbortController,xe=co(r.history,G,De.signal,ue);if(Ee){let ht=await Fn(fe,new URL(xe.url).pathname,xe.signal,M);if(ht.type==="aborted")return;if(ht.type==="error"){qn(M,k,ht.error,{flushSync:Ie});return}else if(ht.matches){if(fe=ht.matches,ie=Bl(fe,G),ce(ie))return}else{qn(M,k,Wn(404,{pathname:G}),{flushSync:Ie});return}}me.set(M,De);let Ut=Fe,Be=(await Ui("action",A,xe,[ie],fe,M))[ie.route.id];if(xe.signal.aborted){me.get(M)===De&&me.delete(M);return}if(T.v7_fetcherPersist&&Ae.has(M)){if(fs(Be)||hi(Be)){rn(M,Ta(void 0));return}}else{if(fs(Be))if(me.delete(M),Qe>Ut){rn(M,Ta(void 0));return}else return X.add(M),rn(M,kl(ue)),At(xe,Be,!1,{fetcherSubmission:ue,preventScrollReset:pe});if(hi(Be)){qn(M,k,Be.error);return}}if(Ra(Be))throw Wn(400,{type:"defer-action"});let ut=A.navigation.location||A.location,Sn=co(r.history,ut,De.signal),Mn=m||f,fn=A.navigation.state!=="idle"?cs(Mn,A.navigation.location,p):A.matches;$e(fn,"Didn't find any matches after fetcher action");let Pt=++Fe;V.set(M,Pt);let bt=kl(ue,Be.data);A.fetchers.set(M,bt);let[mi,An]=I_(r.history,A,fn,ue,ut,!1,T.v7_skipActionErrorRevalidation,Et,J,oe,Ae,se,X,Mn,p,[ie.route.id,Be]);An.filter(ht=>ht.key!==M).forEach(ht=>{let xn=ht.key,Ln=A.fetchers.get(xn),dn=kl(void 0,Ln?Ln.data:void 0);A.fetchers.set(xn,dn),hn(xn),ht.controller&&me.set(xn,ht.controller)}),Nt({fetchers:new Map(A.fetchers)});let Ft=()=>An.forEach(ht=>hn(ht.key));De.signal.addEventListener("abort",Ft);let{loaderResults:Vn,fetcherResults:Ye}=await xt(A,fn,mi,An,Sn);if(De.signal.aborted)return;De.signal.removeEventListener("abort",Ft),V.delete(M),me.delete(M),An.forEach(ht=>me.delete(ht.key));let gt=Kc(Vn);if(gt)return At(Sn,gt.result,!1,{preventScrollReset:pe});if(gt=Kc(Ye),gt)return X.add(gt.key),At(Sn,gt.result,!1,{preventScrollReset:pe});let{loaderData:pi,errors:Bi}=M_(A,fn,Vn,void 0,An,Ye,Ne);if(A.fetchers.has(M)){let ht=Ta(Be.data);A.fetchers.set(M,ht)}an(Pt),A.navigation.state==="loading"&&Pt>Qe?($e(w,"Expected pending action"),O&&O.abort(),ei(A.navigation.location,{matches:fn,loaderData:pi,errors:Bi,fetchers:new Map(A.fetchers)})):(Nt({errors:Bi,loaderData:V_(A.loaderData,pi,fn,Bi),fetchers:new Map(A.fetchers)}),Et=!1)}async function za(M,k,G,ie,fe,Ee,Ie,pe,ue){let ce=A.fetchers.get(M);rn(M,kl(ue,ce?ce.data:void 0),{flushSync:Ie});let ye=new AbortController,De=co(r.history,G,ye.signal);if(Ee){let Be=await Fn(fe,new URL(De.url).pathname,De.signal,M);if(Be.type==="aborted")return;if(Be.type==="error"){qn(M,k,Be.error,{flushSync:Ie});return}else if(Be.matches)fe=Be.matches,ie=Bl(fe,G);else{qn(M,k,Wn(404,{pathname:G}),{flushSync:Ie});return}}me.set(M,ye);let xe=Fe,it=(await Ui("loader",A,De,[ie],fe,M))[ie.route.id];if(Ra(it)&&(it=await Km(it,De.signal,!0)||it),me.get(M)===ye&&me.delete(M),!De.signal.aborted){if(Ae.has(M)){rn(M,Ta(void 0));return}if(fs(it))if(Qe>xe){rn(M,Ta(void 0));return}else{X.add(M),await At(De,it,!1,{preventScrollReset:pe});return}if(hi(it)){qn(M,k,it.error);return}$e(!Ra(it),"Unhandled fetcher deferred data"),rn(M,Ta(it.data))}}async function At(M,k,G,ie){let{submission:fe,fetcherSubmission:Ee,preventScrollReset:Ie,replace:pe}=ie===void 0?{}:ie;k.response.headers.has("X-Remix-Revalidate")&&(Et=!0);let ue=k.response.headers.get("Location");$e(ue,"Expected a Location header on the redirect Response"),ue=O_(ue,new URL(M.url),p);let ce=Zl(A.location,ue,{_isRedirect:!0});if(n){let Be=!1;if(k.response.headers.has("X-Remix-Reload-Document"))Be=!0;else if(Gm.test(ue)){const ut=r.history.createURL(ue);Be=ut.origin!==e.location.origin||No(ut.pathname,p)==null}if(Be){pe?e.location.replace(ue):e.location.assign(ue);return}}O=null;let ye=pe===!0||k.response.headers.has("X-Remix-Replace")?$t.Replace:$t.Push,{formMethod:De,formAction:xe,formEncType:Ut}=A.navigation;!fe&&!Ee&&De&&xe&&Ut&&(fe=P_(A.navigation));let it=fe||Ee;if(ow.has(k.response.status)&&it&&Ni(it.formMethod))await Bn(ye,ce,{submission:Ot({},it,{formAction:ue}),preventScrollReset:Ie||I,enableViewTransition:G?L:void 0});else{let Be=em(ce,fe);await Bn(ye,ce,{overrideNavigation:Be,fetcherSubmission:Ee,preventScrollReset:Ie||I,enableViewTransition:G?L:void 0})}}async function Ui(M,k,G,ie,fe,Ee){let Ie,pe={};try{Ie=await pw(y,M,k,G,ie,fe,Ee,u,o)}catch(ue){return ie.forEach(ce=>{pe[ce.route.id]={type:mt.error,error:ue}}),pe}for(let[ue,ce]of Object.entries(Ie))if(Tw(ce)){let ye=ce.result;pe[ue]={type:mt.redirect,response:vw(ye,G,ue,fe,p,T.v7_relativeSplatPath)}}else pe[ue]=await yw(ce);return pe}async function xt(M,k,G,ie,fe){let Ee=M.matches,Ie=Ui("loader",M,fe,G,k,null),pe=Promise.all(ie.map(async ye=>{if(ye.matches&&ye.match&&ye.controller){let xe=(await Ui("loader",M,co(r.history,ye.path,ye.controller.signal),[ye.match],ye.matches,ye.key))[ye.match.route.id];return{[ye.key]:xe}}else return Promise.resolve({[ye.key]:{type:mt.error,error:Wn(404,{pathname:ye.path})}})})),ue=await Ie,ce=(await pe).reduce((ye,De)=>Object.assign(ye,De),{});return await Promise.all([bw(k,ue,fe.signal,Ee,M.loaderData),ww(k,ce,ie)]),{loaderResults:ue,fetcherResults:ce}}function Lt(){Et=!0,J.push(...di()),se.forEach((M,k)=>{me.has(k)&&oe.add(k),hn(k)})}function rn(M,k,G){G===void 0&&(G={}),A.fetchers.set(M,k),Nt({fetchers:new Map(A.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function qn(M,k,G,ie){ie===void 0&&(ie={});let fe=hs(A.matches,k);jr(M),Nt({errors:{[fe.route.id]:G},fetchers:new Map(A.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function zr(M){return ge.set(M,(ge.get(M)||0)+1),Ae.has(M)&&Ae.delete(M),A.fetchers.get(M)||lw}function jr(M){let k=A.fetchers.get(M);me.has(M)&&!(k&&k.state==="loading"&&V.has(M))&&hn(M),se.delete(M),V.delete(M),X.delete(M),T.v7_fetcherPersist&&Ae.delete(M),oe.delete(M),A.fetchers.delete(M)}function rr(M){let k=(ge.get(M)||0)-1;k<=0?(ge.delete(M),Ae.add(M),T.v7_fetcherPersist||jr(M)):ge.set(M,k),Nt({fetchers:new Map(A.fetchers)})}function hn(M){let k=me.get(M);k&&(k.abort(),me.delete(M))}function Zt(M){for(let k of M){let G=zr(k),ie=Ta(G.data);A.fetchers.set(k,ie)}}function On(){let M=[],k=!1;for(let G of X){let ie=A.fetchers.get(G);$e(ie,"Expected fetcher: "+G),ie.state==="loading"&&(X.delete(G),M.push(G),k=!0)}return Zt(M),k}function an(M){let k=[];for(let[G,ie]of V)if(ie<M){let fe=A.fetchers.get(G);$e(fe,"Expected fetcher: "+G),fe.state==="loading"&&(hn(G),V.delete(G),k.push(G))}return Zt(k),k.length>0}function Ho(M,k){let G=A.blockers.get(M)||Pl;return ze.get(M)!==k&&ze.set(M,k),G}function Br(M){A.blockers.delete(M),ze.delete(M)}function ar(M,k){let G=A.blockers.get(M)||Pl;$e(G.state==="unblocked"&&k.state==="blocked"||G.state==="blocked"&&k.state==="blocked"||G.state==="blocked"&&k.state==="proceeding"||G.state==="blocked"&&k.state==="unblocked"||G.state==="proceeding"&&k.state==="unblocked","Invalid blocker state transition: "+G.state+" -> "+k.state);let ie=new Map(A.blockers);ie.set(M,k),Nt({blockers:ie})}function Pi(M){let{currentLocation:k,nextLocation:G,historyAction:ie}=M;if(ze.size===0)return;ze.size>1&&To(!1,"A router only supports one blocker at a time");let fe=Array.from(ze.entries()),[Ee,Ie]=fe[fe.length-1],pe=A.blockers.get(Ee);if(!(pe&&pe.state==="proceeding")&&Ie({currentLocation:k,nextLocation:G,historyAction:ie}))return Ee}function Hn(M){let k=Wn(404,{pathname:M}),G=m||f,{matches:ie,route:fe}=L_(G);return di(),{notFoundMatches:ie,route:fe,error:k}}function di(M){let k=[];return Ne.forEach((G,ie)=>{(!M||M(ie))&&(G.cancel(),k.push(ie),Ne.delete(ie))}),k}function ti(M,k,G){if(U=M,K=k,H=G||null,!he&&A.navigation===Zd){he=!0;let ie=sr(A.location,A.matches);ie!=null&&Nt({restoreScrollPosition:ie})}return()=>{U=null,K=null,H=null}}function Nn(M,k){return H&&H(M,k.map(ie=>zb(ie,A.loaderData)))||M.key}function ki(M,k){if(U&&K){let G=Nn(M,k);U[G]=K()}}function sr(M,k){if(U){let G=Nn(M,k),ie=U[G];if(typeof ie=="number")return ie}return null}function zi(M,k,G){if(E)if(M){if(Object.keys(M[0].params).length>0)return{active:!0,matches:Wc(k,G,p,!0)}}else return{active:!0,matches:Wc(k,G,p,!0)||[]};return{active:!1,matches:null}}async function Fn(M,k,G,ie){if(!E)return{type:"success",matches:M};let fe=M;for(;;){let Ee=m==null,Ie=m||f,pe=u;try{await E({signal:G,path:k,matches:fe,fetcherKey:ie,patch:(ye,De)=>{G.aborted||D_(ye,De,Ie,pe,o)}})}catch(ye){return{type:"error",error:ye,partialMatches:fe}}finally{Ee&&!G.aborted&&(f=[...f])}if(G.aborted)return{type:"aborted"};let ue=cs(Ie,k,p);if(ue)return{type:"success",matches:ue};let ce=Wc(Ie,k,p,!0);if(!ce||fe.length===ce.length&&fe.every((ye,De)=>ye.route.id===ce[De].route.id))return{type:"success",matches:null};fe=ce}}function ji(M){u={},m=lh(M,o,void 0,u)}function en(M,k){let G=m==null;D_(M,k,m||f,u,o),G&&(f=[...f],Nt({}))}return Le={get basename(){return p},get future(){return T},get state(){return A},get routes(){return f},get window(){return e},initialize:St,subscribe:Ri,enableScrollRestoration:ti,navigate:jn,fetch:kr,revalidate:tr,createHref:M=>r.history.createHref(M),encodeLocation:M=>r.history.encodeLocation(M),getFetcher:zr,deleteFetcher:rr,dispose:fi,getBlocker:Ho,deleteBlocker:Br,patchRoutes:en,_internalFetchControllers:me,_internalActiveDeferreds:Ne,_internalSetRoutes:ji},Le}function hw(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function mm(r,e,n,a,o,u,f,m){let p,y;if(f){p=[];for(let T of e)if(p.push(T),T.route.id===f){y=T;break}}else p=e,y=e[e.length-1];let E=Fm(o||".",Hm(p,u),No(r.pathname,n)||r.pathname,m==="path");if(o==null&&(E.search=r.search,E.hash=r.hash),(o==null||o===""||o===".")&&y){let T=Qm(E.search);if(y.route.index&&!T)E.search=E.search?E.search.replace(/^\?/,"?index&"):"?index";else if(!y.route.index&&T){let R=new URLSearchParams(E.search),D=R.getAll("index");R.delete("index"),D.filter(H=>H).forEach(H=>R.append("index",H));let U=R.toString();E.search=U?"?"+U:""}}return a&&n!=="/"&&(E.pathname=E.pathname==="/"?n:Nr([n,E.pathname])),ps(E)}function w_(r,e,n,a){if(!a||!hw(a))return{path:n};if(a.formMethod&&!Aw(a.formMethod))return{path:n,error:Wn(405,{method:a.formMethod})};let o=()=>({path:n,error:Wn(400,{type:"invalid-body"})}),u=a.formMethod||"get",f=r?u.toUpperCase():u.toLowerCase(),m=y0(n);if(a.body!==void 0){if(a.formEncType==="text/plain"){if(!Ni(f))return o();let R=typeof a.body=="string"?a.body:a.body instanceof FormData||a.body instanceof URLSearchParams?Array.from(a.body.entries()).reduce((D,U)=>{let[H,K]=U;return""+D+H+"="+K+`
`},""):String(a.body);return{path:n,submission:{formMethod:f,formAction:m,formEncType:a.formEncType,formData:void 0,json:void 0,text:R}}}else if(a.formEncType==="application/json"){if(!Ni(f))return o();try{let R=typeof a.body=="string"?JSON.parse(a.body):a.body;return{path:n,submission:{formMethod:f,formAction:m,formEncType:a.formEncType,formData:void 0,json:R,text:void 0}}}catch{return o()}}}$e(typeof FormData=="function","FormData is not available in this environment");let p,y;if(a.formData)p=gm(a.formData),y=a.formData;else if(a.body instanceof FormData)p=gm(a.body),y=a.body;else if(a.body instanceof URLSearchParams)p=a.body,y=N_(p);else if(a.body==null)p=new URLSearchParams,y=new FormData;else try{p=new URLSearchParams(a.body),y=N_(p)}catch{return o()}let E={formMethod:f,formAction:m,formEncType:a&&a.formEncType||"application/x-www-form-urlencoded",formData:y,json:void 0,text:void 0};if(Ni(E.formMethod))return{path:n,submission:E};let T=Ua(n);return e&&T.search&&Qm(T.search)&&p.append("index",""),T.search="?"+p,{path:ps(T),submission:E}}function R_(r,e,n){n===void 0&&(n=!1);let a=r.findIndex(o=>o.route.id===e);return a>=0?r.slice(0,n?a+1:a):r}function I_(r,e,n,a,o,u,f,m,p,y,E,T,R,D,U,H){let K=H?hi(H[1])?H[1].error:H[1].data:void 0,he=r.createURL(e.location),ae=r.createURL(o),de=n;u&&e.errors?de=R_(n,Object.keys(e.errors)[0],!0):H&&hi(H[1])&&(de=R_(n,H[0]));let be=H?H[1].statusCode:void 0,Ve=f&&be&&be>=400,Le=de.filter((w,I)=>{let{route:O}=w;if(O.lazy)return!0;if(O.loader==null)return!1;if(u)return pm(O,e.loaderData,e.errors);if(fw(e.loaderData,e.matches[I],w)||p.some(C=>C===w.route.id))return!0;let L=e.matches[I],P=w;return C_(w,Ot({currentUrl:he,currentParams:L.params,nextUrl:ae,nextParams:P.params},a,{actionResult:K,actionStatus:be,defaultShouldRevalidate:Ve?!1:m||he.pathname+he.search===ae.pathname+ae.search||he.search!==ae.search||p0(L,P)}))}),A=[];return T.forEach((w,I)=>{if(u||!n.some(tt=>tt.route.id===w.routeId)||E.has(I))return;let O=cs(D,w.path,U);if(!O){A.push({key:I,routeId:w.routeId,path:w.path,matches:null,match:null,controller:null});return}let L=e.fetchers.get(I),P=Bl(O,w.path),C=!1;R.has(I)?C=!1:y.has(I)?(y.delete(I),C=!0):L&&L.state!=="idle"&&L.data===void 0?C=m:C=C_(P,Ot({currentUrl:he,currentParams:e.matches[e.matches.length-1].params,nextUrl:ae,nextParams:n[n.length-1].params},a,{actionResult:K,actionStatus:be,defaultShouldRevalidate:Ve?!1:m})),C&&A.push({key:I,routeId:w.routeId,path:w.path,matches:O,match:P,controller:new AbortController})}),[Le,A]}function pm(r,e,n){if(r.lazy)return!0;if(!r.loader)return!1;let a=e!=null&&e[r.id]!==void 0,o=n!=null&&n[r.id]!==void 0;return!a&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!a&&!o}function fw(r,e,n){let a=!e||n.route.id!==e.route.id,o=r[n.route.id]===void 0;return a||o}function p0(r,e){let n=r.route.path;return r.pathname!==e.pathname||n!=null&&n.endsWith("*")&&r.params["*"]!==e.params["*"]}function C_(r,e){if(r.route.shouldRevalidate){let n=r.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function D_(r,e,n,a,o){var u;let f;if(r){let y=a[r];$e(y,"No route found to patch children into: routeId = "+r),y.children||(y.children=[]),f=y.children}else f=n;let m=e.filter(y=>!f.some(E=>g0(y,E))),p=lh(m,o,[r||"_","patch",String(((u=f)==null?void 0:u.length)||"0")],a);f.push(...p)}function g0(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((n,a)=>{var o;return(o=e.children)==null?void 0:o.some(u=>g0(n,u))}):!1}async function dw(r,e,n){if(!r.lazy)return;let a=await r.lazy();if(!r.lazy)return;let o=n[r.id];$e(o,"No route found in manifest");let u={};for(let f in a){let p=o[f]!==void 0&&f!=="hasErrorBoundary";To(!p,'Route "'+o.id+'" has a static property "'+f+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+f+'" will be ignored.')),!p&&!Pb.has(f)&&(u[f]=a[f])}Object.assign(o,u),Object.assign(o,Ot({},e(o),{lazy:void 0}))}async function mw(r){let{matches:e}=r,n=e.filter(o=>o.shouldLoad);return(await Promise.all(n.map(o=>o.resolve()))).reduce((o,u,f)=>Object.assign(o,{[n[f].route.id]:u}),{})}async function pw(r,e,n,a,o,u,f,m,p,y){let E=u.map(D=>D.route.lazy?dw(D.route,p,m):void 0),T=u.map((D,U)=>{let H=E[U],K=o.some(ae=>ae.route.id===D.route.id);return Ot({},D,{shouldLoad:K,resolve:async ae=>(ae&&a.method==="GET"&&(D.route.lazy||D.route.loader)&&(K=!0),K?gw(e,a,D,H,ae,y):Promise.resolve({type:mt.data,result:void 0}))})}),R=await r({matches:T,request:a,params:u[0].params,fetcherKey:f,context:y});try{await Promise.all(E)}catch{}return R}async function gw(r,e,n,a,o,u){let f,m,p=y=>{let E,T=new Promise((U,H)=>E=H);m=()=>E(),e.signal.addEventListener("abort",m);let R=U=>typeof y!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+r+'" [routeId: '+n.route.id+"]"))):y({request:e,params:n.params,context:u},...U!==void 0?[U]:[]),D=(async()=>{try{return{type:"data",result:await(o?o(H=>R(H)):R())}}catch(U){return{type:"error",result:U}}})();return Promise.race([D,T])};try{let y=n.route[r];if(a)if(y){let E,[T]=await Promise.all([p(y).catch(R=>{E=R}),a]);if(E!==void 0)throw E;f=T}else if(await a,y=n.route[r],y)f=await p(y);else if(r==="action"){let E=new URL(e.url),T=E.pathname+E.search;throw Wn(405,{method:e.method,pathname:T,routeId:n.route.id})}else return{type:mt.data,result:void 0};else if(y)f=await p(y);else{let E=new URL(e.url),T=E.pathname+E.search;throw Wn(404,{pathname:T})}$e(f.result!==void 0,"You defined "+(r==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+r+"` ")+"function. Please return a value or `null`.")}catch(y){return{type:mt.error,result:y}}finally{m&&e.signal.removeEventListener("abort",m)}return f}async function yw(r){let{result:e,type:n}=r;if(v0(e)){let T;try{let R=e.headers.get("Content-Type");R&&/\bapplication\/json\b/.test(R)?e.body==null?T=null:T=await e.json():T=await e.text()}catch(R){return{type:mt.error,error:R}}return n===mt.error?{type:mt.error,error:new uh(e.status,e.statusText,T),statusCode:e.status,headers:e.headers}:{type:mt.data,data:T,statusCode:e.status,headers:e.headers}}if(n===mt.error){if(U_(e)){var a,o;if(e.data instanceof Error){var u,f;return{type:mt.error,error:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}}return{type:mt.error,error:new uh(((a=e.init)==null?void 0:a.status)||500,void 0,e.data),statusCode:eu(e)?e.status:void 0,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:mt.error,error:e,statusCode:eu(e)?e.status:void 0}}if(Sw(e)){var m,p;return{type:mt.deferred,deferredData:e,statusCode:(m=e.init)==null?void 0:m.status,headers:((p=e.init)==null?void 0:p.headers)&&new Headers(e.init.headers)}}if(U_(e)){var y,E;return{type:mt.data,data:e.data,statusCode:(y=e.init)==null?void 0:y.status,headers:(E=e.init)!=null&&E.headers?new Headers(e.init.headers):void 0}}return{type:mt.data,data:e}}function vw(r,e,n,a,o,u){let f=r.headers.get("Location");if($e(f,"Redirects returned/thrown from loaders/actions must have a Location header"),!Gm.test(f)){let m=a.slice(0,a.findIndex(p=>p.route.id===n)+1);f=mm(new URL(e.url),m,o,!0,f,u),r.headers.set("Location",f)}return r}function O_(r,e,n){if(Gm.test(r)){let a=r,o=a.startsWith("//")?new URL(e.protocol+a):new URL(a),u=No(o.pathname,n)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return r}function co(r,e,n,a){let o=r.createURL(y0(e)).toString(),u={signal:n};if(a&&Ni(a.formMethod)){let{formMethod:f,formEncType:m}=a;u.method=f.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(a.json)):m==="text/plain"?u.body=a.text:m==="application/x-www-form-urlencoded"&&a.formData?u.body=gm(a.formData):u.body=a.formData}return new Request(o,u)}function gm(r){let e=new URLSearchParams;for(let[n,a]of r.entries())e.append(n,typeof a=="string"?a:a.name);return e}function N_(r){let e=new FormData;for(let[n,a]of r.entries())e.append(n,a);return e}function _w(r,e,n,a,o){let u={},f=null,m,p=!1,y={},E=n&&hi(n[1])?n[1].error:void 0;return r.forEach(T=>{if(!(T.route.id in e))return;let R=T.route.id,D=e[R];if($e(!fs(D),"Cannot handle redirect results in processLoaderData"),hi(D)){let U=D.error;E!==void 0&&(U=E,E=void 0),f=f||{};{let H=hs(r,R);f[H.route.id]==null&&(f[H.route.id]=U)}u[R]=void 0,p||(p=!0,m=eu(D.error)?D.error.status:500),D.headers&&(y[R]=D.headers)}else Ra(D)?(a.set(R,D.deferredData),u[R]=D.deferredData.data,D.statusCode!=null&&D.statusCode!==200&&!p&&(m=D.statusCode),D.headers&&(y[R]=D.headers)):(u[R]=D.data,D.statusCode&&D.statusCode!==200&&!p&&(m=D.statusCode),D.headers&&(y[R]=D.headers))}),E!==void 0&&n&&(f={[n[0]]:E},u[n[0]]=void 0),{loaderData:u,errors:f,statusCode:m||200,loaderHeaders:y}}function M_(r,e,n,a,o,u,f){let{loaderData:m,errors:p}=_w(e,n,a,f);return o.forEach(y=>{let{key:E,match:T,controller:R}=y,D=u[E];if($e(D,"Did not find corresponding fetcher result"),!(R&&R.signal.aborted))if(hi(D)){let U=hs(r.matches,T?.route.id);p&&p[U.route.id]||(p=Ot({},p,{[U.route.id]:D.error})),r.fetchers.delete(E)}else if(fs(D))$e(!1,"Unhandled fetcher revalidation redirect");else if(Ra(D))$e(!1,"Unhandled fetcher deferred data");else{let U=Ta(D.data);r.fetchers.set(E,U)}}),{loaderData:m,errors:p}}function V_(r,e,n,a){let o=Ot({},e);for(let u of n){let f=u.route.id;if(e.hasOwnProperty(f)?e[f]!==void 0&&(o[f]=e[f]):r[f]!==void 0&&u.route.loader&&(o[f]=r[f]),a&&a.hasOwnProperty(f))break}return o}function x_(r){return r?hi(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function hs(r,e){return(e?r.slice(0,r.findIndex(a=>a.route.id===e)+1):[...r]).reverse().find(a=>a.route.hasErrorBoundary===!0)||r[0]}function L_(r){let e=r.length===1?r[0]:r.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Wn(r,e){let{pathname:n,routeId:a,method:o,type:u,message:f}=e===void 0?{}:e,m="Unknown Server Error",p="Unknown @remix-run/router error";return r===400?(m="Bad Request",o&&n&&a?p="You made a "+o+' request to "'+n+'" but '+('did not provide a `loader` for route "'+a+'", ')+"so there is no way to handle the request.":u==="defer-action"?p="defer() is not supported in actions":u==="invalid-body"&&(p="Unable to encode submission body")):r===403?(m="Forbidden",p='Route "'+a+'" does not match URL "'+n+'"'):r===404?(m="Not Found",p='No route matches URL "'+n+'"'):r===405&&(m="Method Not Allowed",o&&n&&a?p="You made a "+o.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+a+'", ')+"so there is no way to handle the request.":o&&(p='Invalid request method "'+o.toUpperCase()+'"')),new uh(r||500,m,new Error(p),!0)}function Kc(r){let e=Object.entries(r);for(let n=e.length-1;n>=0;n--){let[a,o]=e[n];if(fs(o))return{key:a,result:o}}}function y0(r){let e=typeof r=="string"?Ua(r):r;return ps(Ot({},e,{hash:""}))}function Ew(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function Tw(r){return v0(r.result)&&sw.has(r.result.status)}function Ra(r){return r.type===mt.deferred}function hi(r){return r.type===mt.error}function fs(r){return(r&&r.type)===mt.redirect}function U_(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function Sw(r){let e=r;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function v0(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function Aw(r){return aw.has(r.toLowerCase())}function Ni(r){return iw.has(r.toLowerCase())}async function bw(r,e,n,a,o){let u=Object.entries(e);for(let f=0;f<u.length;f++){let[m,p]=u[f],y=r.find(R=>R?.route.id===m);if(!y)continue;let E=a.find(R=>R.route.id===y.route.id),T=E!=null&&!p0(E,y)&&(o&&o[y.route.id])!==void 0;Ra(p)&&T&&await Km(p,n,!1).then(R=>{R&&(e[m]=R)})}}async function ww(r,e,n){for(let a=0;a<n.length;a++){let{key:o,routeId:u,controller:f}=n[a],m=e[o];r.find(y=>y?.route.id===u)&&Ra(m)&&($e(f,"Expected an AbortController for revalidating fetcher deferred result"),await Km(m,f.signal,!0).then(y=>{y&&(e[o]=y)}))}}async function Km(r,e,n){if(n===void 0&&(n=!1),!await r.deferredData.resolveData(e)){if(n)try{return{type:mt.data,data:r.deferredData.unwrappedData}}catch(o){return{type:mt.error,error:o}}return{type:mt.data,data:r.deferredData.data}}}function Qm(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function Bl(r,e){let n=typeof e=="string"?Ua(e).search:e.search;if(r[r.length-1].route.index&&Qm(n||""))return r[r.length-1];let a=f0(r);return a[a.length-1]}function P_(r){let{formMethod:e,formAction:n,formEncType:a,text:o,formData:u,json:f}=r;if(!(!e||!n||!a)){if(o!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:a,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:f,text:void 0}}}function em(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Rw(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function kl(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Iw(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function Ta(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function Cw(r,e){try{let n=r.sessionStorage.getItem(m0);if(n){let a=JSON.parse(n);for(let[o,u]of Object.entries(a||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function Dw(r,e){if(e.size>0){let n={};for(let[a,o]of e)n[a]=[...o];try{r.sessionStorage.setItem(m0,JSON.stringify(n))}catch(a){To(!1,"Failed to save applied view transitions in sessionStorage ("+a+").")}}}function ch(){return ch=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},ch.apply(this,arguments)}const Dh=ee.createContext(null),_0=ee.createContext(null),Ts=ee.createContext(null),Ym=ee.createContext(null),Pa=ee.createContext({outlet:null,matches:[],isDataRoute:!1}),E0=ee.createContext(null);function Ow(r,e){let{relative:n}=e===void 0?{}:e;du()||$e(!1);let{basename:a,navigator:o}=ee.useContext(Ts),{hash:u,pathname:f,search:m}=S0(r,{relative:n}),p=f;return a!=="/"&&(p=f==="/"?a:Nr([a,f])),o.createHref({pathname:p,search:m,hash:u})}function du(){return ee.useContext(Ym)!=null}function Oh(){return du()||$e(!1),ee.useContext(Ym).location}function T0(r){ee.useContext(Ts).static||ee.useLayoutEffect(r)}function Xm(){let{isDataRoute:r}=ee.useContext(Pa);return r?Fw():Nw()}function Nw(){du()||$e(!1);let r=ee.useContext(Dh),{basename:e,future:n,navigator:a}=ee.useContext(Ts),{matches:o}=ee.useContext(Pa),{pathname:u}=Oh(),f=JSON.stringify(Hm(o,n.v7_relativeSplatPath)),m=ee.useRef(!1);return T0(()=>{m.current=!0}),ee.useCallback(function(y,E){if(E===void 0&&(E={}),!m.current)return;if(typeof y=="number"){a.go(y);return}let T=Fm(y,JSON.parse(f),u,E.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Nr([e,T.pathname])),(E.replace?a.replace:a.push)(T,E.state,E)},[e,a,f,u,r])}const Mw=ee.createContext(null);function Vw(r){let e=ee.useContext(Pa).outlet;return e&&ee.createElement(Mw.Provider,{value:r},e)}function S0(r,e){let{relative:n}=e===void 0?{}:e,{future:a}=ee.useContext(Ts),{matches:o}=ee.useContext(Pa),{pathname:u}=Oh(),f=JSON.stringify(Hm(o,a.v7_relativeSplatPath));return ee.useMemo(()=>Fm(r,JSON.parse(f),u,n==="path"),[r,f,u,n])}function xw(r,e,n,a){du()||$e(!1);let{navigator:o}=ee.useContext(Ts),{matches:u}=ee.useContext(Pa),f=u[u.length-1],m=f?f.params:{};f&&f.pathname;let p=f?f.pathnameBase:"/";f&&f.route;let y=Oh(),E;E=y;let T=E.pathname||"/",R=T;if(p!=="/"){let H=p.replace(/^\//,"").split("/");R="/"+T.replace(/^\//,"").split("/").slice(H.length).join("/")}let D=cs(r,{pathname:R});return zw(D&&D.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:Nr([p,o.encodeLocation?o.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?p:Nr([p,o.encodeLocation?o.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),u,n,a)}function Lw(){let r=Hw(),e=eu(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),n?ee.createElement("pre",{style:o},n):null,null)}const Uw=ee.createElement(Lw,null);class Pw extends ee.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?ee.createElement(Pa.Provider,{value:this.props.routeContext},ee.createElement(E0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kw(r){let{routeContext:e,match:n,children:a}=r,o=ee.useContext(Dh);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),ee.createElement(Pa.Provider,{value:e},a)}function zw(r,e,n,a){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),a===void 0&&(a=null),r==null){var u;if(!n)return null;if(n.errors)r=n.matches;else if((u=a)!=null&&u.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let f=r,m=(o=n)==null?void 0:o.errors;if(m!=null){let E=f.findIndex(T=>T.route.id&&m?.[T.route.id]!==void 0);E>=0||$e(!1),f=f.slice(0,Math.min(f.length,E+1))}let p=!1,y=-1;if(n&&a&&a.v7_partialHydration)for(let E=0;E<f.length;E++){let T=f[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(y=E),T.route.id){let{loaderData:R,errors:D}=n,U=T.route.loader&&R[T.route.id]===void 0&&(!D||D[T.route.id]===void 0);if(T.route.lazy||U){p=!0,y>=0?f=f.slice(0,y+1):f=[f[0]];break}}}return f.reduceRight((E,T,R)=>{let D,U=!1,H=null,K=null;n&&(D=m&&T.route.id?m[T.route.id]:void 0,H=T.route.errorElement||Uw,p&&(y<0&&R===0?(Gw("route-fallback"),U=!0,K=null):y===R&&(U=!0,K=T.route.hydrateFallbackElement||null)));let he=e.concat(f.slice(0,R+1)),ae=()=>{let de;return D?de=H:U?de=K:T.route.Component?de=ee.createElement(T.route.Component,null):T.route.element?de=T.route.element:de=E,ee.createElement(kw,{match:T,routeContext:{outlet:E,matches:he,isDataRoute:n!=null},children:de})};return n&&(T.route.ErrorBoundary||T.route.errorElement||R===0)?ee.createElement(Pw,{location:n.location,revalidation:n.revalidation,component:H,error:D,children:ae(),routeContext:{outlet:null,matches:he,isDataRoute:!0}}):ae()},null)}var A0=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(A0||{}),b0=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(b0||{});function jw(r){let e=ee.useContext(Dh);return e||$e(!1),e}function Bw(r){let e=ee.useContext(_0);return e||$e(!1),e}function qw(r){let e=ee.useContext(Pa);return e||$e(!1),e}function w0(r){let e=qw(),n=e.matches[e.matches.length-1];return n.route.id||$e(!1),n.route.id}function Hw(){var r;let e=ee.useContext(E0),n=Bw(),a=w0();return e!==void 0?e:(r=n.errors)==null?void 0:r[a]}function Fw(){let{router:r}=jw(A0.UseNavigateStable),e=w0(b0.UseNavigateStable),n=ee.useRef(!1);return T0(()=>{n.current=!0}),ee.useCallback(function(o,u){u===void 0&&(u={}),n.current&&(typeof o=="number"?r.navigate(o):r.navigate(o,ch({fromRouteId:e},u)))},[r,e])}const k_={};function Gw(r,e,n){k_[r]||(k_[r]=!0)}function Kw(r,e){r?.v7_startTransition,r?.v7_relativeSplatPath===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Qw(r){return Vw(r.context)}function Yw(r){let{basename:e="/",children:n=null,location:a,navigationType:o=$t.Pop,navigator:u,static:f=!1,future:m}=r;du()&&$e(!1);let p=e.replace(/^\/*/,"/"),y=ee.useMemo(()=>({basename:p,navigator:u,static:f,future:ch({v7_relativeSplatPath:!1},m)}),[p,m,u,f]);typeof a=="string"&&(a=Ua(a));let{pathname:E="/",search:T="",hash:R="",state:D=null,key:U="default"}=a,H=ee.useMemo(()=>{let K=No(E,p);return K==null?null:{location:{pathname:K,search:T,hash:R,state:D,key:U},navigationType:o}},[p,E,T,R,D,U,o]);return H==null?null:ee.createElement(Ts.Provider,{value:y},ee.createElement(Ym.Provider,{children:n,value:H}))}new Promise(()=>{});function Xw(r){let e={hasErrorBoundary:r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&Object.assign(e,{element:ee.createElement(r.Component),Component:void 0}),r.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:ee.createElement(r.HydrateFallback),HydrateFallback:void 0}),r.ErrorBoundary&&Object.assign(e,{errorElement:ee.createElement(r.ErrorBoundary),ErrorBoundary:void 0}),e}function tu(){return tu=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},tu.apply(this,arguments)}function Jw(r,e){if(r==null)return{};var n={},a=Object.keys(r),o,u;for(u=0;u<a.length;u++)o=a[u],!(e.indexOf(o)>=0)&&(n[o]=r[o]);return n}function $w(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Ww(r,e){return r.button===0&&(!e||e==="_self")&&!$w(r)}const Zw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],eR="6";try{window.__reactRouterVersion=eR}catch{}function tR(r,e){return cw({basename:e?.basename,future:tu({},e?.future,{v7_prependBasename:!0}),history:xb({window:e?.window}),hydrationData:e?.hydrationData||nR(),routes:r,mapRouteProperties:Xw,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function nR(){var r;let e=(r=window)==null?void 0:r.__staticRouterHydrationData;return e&&e.errors&&(e=tu({},e,{errors:iR(e.errors)})),e}function iR(r){if(!r)return null;let e=Object.entries(r),n={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")n[a]=new uh(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let f=new u(o.message);f.stack="",n[a]=f}catch{}}if(n[a]==null){let u=new Error(o.message);u.stack="",n[a]=u}}else n[a]=o;return n}const rR=ee.createContext({isTransitioning:!1}),aR=ee.createContext(new Map),sR="startTransition",z_=wb[sR],oR="flushSync",j_=Vb[oR];function lR(r){z_?z_(r):r()}function zl(r){j_?j_(r):r()}let uR=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function cR(r){let{fallbackElement:e,router:n,future:a}=r,[o,u]=ee.useState(n.state),[f,m]=ee.useState(),[p,y]=ee.useState({isTransitioning:!1}),[E,T]=ee.useState(),[R,D]=ee.useState(),[U,H]=ee.useState(),K=ee.useRef(new Map),{v7_startTransition:he}=a||{},ae=ee.useCallback(w=>{he?lR(w):w()},[he]),de=ee.useCallback((w,I)=>{let{deletedFetchers:O,flushSync:L,viewTransitionOpts:P}=I;w.fetchers.forEach((tt,Et)=>{tt.data!==void 0&&K.current.set(Et,tt.data)}),O.forEach(tt=>K.current.delete(tt));let C=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!P||C){L?zl(()=>u(w)):ae(()=>u(w));return}if(L){zl(()=>{R&&(E&&E.resolve(),R.skipTransition()),y({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let tt=n.window.document.startViewTransition(()=>{zl(()=>u(w))});tt.finished.finally(()=>{zl(()=>{T(void 0),D(void 0),m(void 0),y({isTransitioning:!1})})}),zl(()=>D(tt));return}R?(E&&E.resolve(),R.skipTransition(),H({state:w,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(m(w),y({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[n.window,R,E,K,ae]);ee.useLayoutEffect(()=>n.subscribe(de),[n,de]),ee.useEffect(()=>{p.isTransitioning&&!p.flushSync&&T(new uR)},[p]),ee.useEffect(()=>{if(E&&f&&n.window){let w=f,I=E.promise,O=n.window.document.startViewTransition(async()=>{ae(()=>u(w)),await I});O.finished.finally(()=>{T(void 0),D(void 0),m(void 0),y({isTransitioning:!1})}),D(O)}},[ae,f,E,n.window]),ee.useEffect(()=>{E&&f&&o.location.key===f.location.key&&E.resolve()},[E,R,o.location,f]),ee.useEffect(()=>{!p.isTransitioning&&U&&(m(U.state),y({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}),H(void 0))},[p.isTransitioning,U]),ee.useEffect(()=>{},[]);let be=ee.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:w=>n.navigate(w),push:(w,I,O)=>n.navigate(w,{state:I,preventScrollReset:O?.preventScrollReset}),replace:(w,I,O)=>n.navigate(w,{replace:!0,state:I,preventScrollReset:O?.preventScrollReset})}),[n]),Ve=n.basename||"/",Le=ee.useMemo(()=>({router:n,navigator:be,static:!1,basename:Ve}),[n,be,Ve]),A=ee.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return ee.useEffect(()=>Kw(a,n.future),[a,n.future]),ee.createElement(ee.Fragment,null,ee.createElement(Dh.Provider,{value:Le},ee.createElement(_0.Provider,{value:o},ee.createElement(aR.Provider,{value:K.current},ee.createElement(rR.Provider,{value:p},ee.createElement(Yw,{basename:Ve,location:o.location,navigationType:o.historyAction,navigator:be,future:A},o.initialized||n.future.v7_partialHydration?ee.createElement(hR,{routes:n.routes,future:n.future,state:o}):e))))),null)}const hR=ee.memo(fR);function fR(r){let{routes:e,future:n,state:a}=r;return xw(e,void 0,a,n)}const dR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tm=ee.forwardRef(function(e,n){let{onClick:a,relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:T}=e,R=Jw(e,Zw),{basename:D}=ee.useContext(Ts),U,H=!1;if(typeof y=="string"&&mR.test(y)&&(U=y,dR))try{let de=new URL(window.location.href),be=y.startsWith("//")?new URL(de.protocol+y):new URL(y),Ve=No(be.pathname,D);be.origin===de.origin&&Ve!=null?y=Ve+be.search+be.hash:H=!0}catch{}let K=Ow(y,{relative:o}),he=pR(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T});function ae(de){a&&a(de),de.defaultPrevented||he(de)}return ee.createElement("a",tu({},R,{href:U||K,onClick:H||u?a:ae,ref:n,target:p}))});var B_;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(B_||(B_={}));var q_;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(q_||(q_={}));function pR(r,e){let{target:n,replace:a,state:o,preventScrollReset:u,relative:f,viewTransition:m}=e===void 0?{}:e,p=Xm(),y=Oh(),E=S0(r,{relative:f});return ee.useCallback(T=>{if(Ww(T,n)){T.preventDefault();let R=a!==void 0?a:ps(y)===ps(E);p(r,{replace:R,state:o,preventScrollReset:u,relative:f,viewTransition:m})}},[y,p,E,a,o,n,r,u,f,m])}var H_={};const R0=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},gR=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},I0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let R=(m&15)<<2|y>>6,D=y&63;p||(D=64,f||(R=64)),a.push(n[E],n[T],n[R],n[D])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(R0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):gR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new yR;const R=u<<2|m>>4;if(a.push(R),y!==64){const D=m<<4&240|y>>2;if(a.push(D),T!==64){const U=y<<6&192|T;a.push(U)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class yR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vR=function(r){const e=R0(r);return I0.encodeByteArray(e,!0)},hh=function(r){return vR(r).replace(/\./g,"")},C0=function(r){try{return I0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _R(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ER=()=>_R().__FIREBASE_DEFAULTS__,TR=()=>{if(typeof process>"u"||typeof H_>"u")return;const r=H_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},SR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&C0(r[1]);return e&&JSON.parse(e)},Nh=()=>{try{return ER()||TR()||SR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},D0=r=>{var e,n;return(n=(e=Nh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},AR=r=>{const e=D0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},O0=()=>{var r;return(r=Nh())===null||r===void 0?void 0:r.config},N0=r=>{var e;return(e=Nh())===null||e===void 0?void 0:e[`_${r}`]};class bR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function wR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[hh(JSON.stringify(n)),hh(JSON.stringify(f)),""].join(".")}function Dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dn())}function IR(){var r;const e=(r=Nh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function OR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NR(){const r=Dn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function MR(){return!IR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VR(){try{return typeof indexedDB=="object"}catch{return!1}}function xR(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}const LR="FirebaseError";class er extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=LR,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mu.prototype.create)}}class mu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?UR(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new er(o,m,a)}}function UR(r,e){return r.replace(PR,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const PR=/\{\$([^}]+)}/g;function kR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function fh(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],f=e[o];if(F_(u)&&F_(f)){if(!fh(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function F_(r){return r!==null&&typeof r=="object"}function pu(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function ql(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Hl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function zR(r,e){const n=new jR(r,e);return n.subscribe.bind(n)}class jR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");BR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=nm),o.error===void 0&&(o.error=nm),o.complete===void 0&&(o.complete=nm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function nm(){}function zn(r){return r&&r._delegate?r._delegate:r}class gs{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const us="[DEFAULT]";class qR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new bR;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e?.identifier),o=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FR(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:HR(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HR(r){return r===us?void 0:r}function FR(r){return r.instantiationMode==="EAGER"}class GR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var et;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(et||(et={}));const KR={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},QR=et.INFO,YR={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},XR=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=YR[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jm{constructor(e){this.name=e,this._logLevel=QR,this._logHandler=XR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const JR=(r,e)=>e.some(n=>r instanceof n);let G_,K_;function $R(){return G_||(G_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WR(){return K_||(K_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M0=new WeakMap,ym=new WeakMap,V0=new WeakMap,im=new WeakMap,$m=new WeakMap;function ZR(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Ca(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&M0.set(n,r)}).catch(()=>{}),$m.set(e,r),e}function eI(r){if(ym.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});ym.set(r,e)}let vm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return ym.get(r);if(e==="objectStoreNames")return r.objectStoreNames||V0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ca(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function tI(r){vm=r(vm)}function nI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(rm(this),e,...n);return V0.set(a,e.sort?e.sort():[e]),Ca(a)}:WR().includes(r)?function(...e){return r.apply(rm(this),e),Ca(M0.get(this))}:function(...e){return Ca(r.apply(rm(this),e))}}function iI(r){return typeof r=="function"?nI(r):(r instanceof IDBTransaction&&eI(r),JR(r,$R())?new Proxy(r,vm):r)}function Ca(r){if(r instanceof IDBRequest)return ZR(r);if(im.has(r))return im.get(r);const e=iI(r);return e!==r&&(im.set(r,e),$m.set(e,r)),e}const rm=r=>$m.get(r);function rI(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Ca(f);return a&&f.addEventListener("upgradeneeded",p=>{a(Ca(f.result),p.oldVersion,p.newVersion,Ca(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const aI=["get","getKey","getAll","getAllKeys","count"],sI=["put","add","delete","clear"],am=new Map;function Q_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(am.get(e))return am.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=sI.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||aI.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return am.set(e,u),u}tI(r=>({...r,get:(e,n,a)=>Q_(e,n)||r.get(e,n,a),has:(e,n)=>!!Q_(e,n)||r.has(e,n)}));class oI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lI(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function lI(r){const e=r.getComponent();return e?.type==="VERSION"}const _m="@firebase/app",Y_="0.10.13";const Vr=new Jm("@firebase/app"),uI="@firebase/app-compat",cI="@firebase/analytics-compat",hI="@firebase/analytics",fI="@firebase/app-check-compat",dI="@firebase/app-check",mI="@firebase/auth",pI="@firebase/auth-compat",gI="@firebase/database",yI="@firebase/data-connect",vI="@firebase/database-compat",_I="@firebase/functions",EI="@firebase/functions-compat",TI="@firebase/installations",SI="@firebase/installations-compat",AI="@firebase/messaging",bI="@firebase/messaging-compat",wI="@firebase/performance",RI="@firebase/performance-compat",II="@firebase/remote-config",CI="@firebase/remote-config-compat",DI="@firebase/storage",OI="@firebase/storage-compat",NI="@firebase/firestore",MI="@firebase/vertexai-preview",VI="@firebase/firestore-compat",xI="firebase",LI="10.14.1";const Em="[DEFAULT]",UI={[_m]:"fire-core",[uI]:"fire-core-compat",[hI]:"fire-analytics",[cI]:"fire-analytics-compat",[dI]:"fire-app-check",[fI]:"fire-app-check-compat",[mI]:"fire-auth",[pI]:"fire-auth-compat",[gI]:"fire-rtdb",[yI]:"fire-data-connect",[vI]:"fire-rtdb-compat",[_I]:"fire-fn",[EI]:"fire-fn-compat",[TI]:"fire-iid",[SI]:"fire-iid-compat",[AI]:"fire-fcm",[bI]:"fire-fcm-compat",[wI]:"fire-perf",[RI]:"fire-perf-compat",[II]:"fire-rc",[CI]:"fire-rc-compat",[DI]:"fire-gcs",[OI]:"fire-gcs-compat",[NI]:"fire-fst",[VI]:"fire-fst-compat",[MI]:"fire-vertex","fire-js":"fire-js",[xI]:"fire-js-all"};const dh=new Map,PI=new Map,Tm=new Map;function X_(r,e){try{r.container.addComponent(e)}catch(n){Vr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function So(r){const e=r.name;if(Tm.has(e))return Vr.debug(`There were multiple attempts to register component ${e}.`),!1;Tm.set(e,r);for(const n of dh.values())X_(n,r);for(const n of PI.values())X_(n,r);return!0}function Wm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ir(r){return r.settings!==void 0}const kI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Da=new mu("app","Firebase",kI);class zI{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Da.create("app-deleted",{appName:this._name})}}const Mo=LI;function x0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Em,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw Da.create("bad-app-name",{appName:String(o)});if(n||(n=O0()),!n)throw Da.create("no-options");const u=dh.get(o);if(u){if(fh(n,u.options)&&fh(a,u.config))return u;throw Da.create("duplicate-app",{appName:o})}const f=new GR(o);for(const p of Tm.values())f.addComponent(p);const m=new zI(n,a,f);return dh.set(o,m),m}function L0(r=Em){const e=dh.get(r);if(!e&&r===Em&&O0())return x0();if(!e)throw Da.create("no-app",{appName:r});return e}function Oa(r,e,n){var a;let o=(a=UI[r])!==null&&a!==void 0?a:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vr.warn(m.join(" "));return}So(new gs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const jI="firebase-heartbeat-database",BI=1,nu="firebase-heartbeat-store";let sm=null;function U0(){return sm||(sm=rI(jI,BI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(nu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Da.create("idb-open",{originalErrorMessage:r.message})})),sm}async function qI(r){try{const n=(await U0()).transaction(nu),a=await n.objectStore(nu).get(P0(r));return await n.done,a}catch(e){if(e instanceof er)Vr.warn(e.message);else{const n=Da.create("idb-get",{originalErrorMessage:e?.message});Vr.warn(n.message)}}}async function J_(r,e){try{const a=(await U0()).transaction(nu,"readwrite");await a.objectStore(nu).put(e,P0(r)),await a.done}catch(n){if(n instanceof er)Vr.warn(n.message);else{const a=Da.create("idb-set",{originalErrorMessage:n?.message});Vr.warn(a.message)}}}function P0(r){return`${r.name}!${r.options.appId}`}const HI=1024,FI=720*60*60*1e3;class GI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QI(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=$_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=FI}),this._storage.overwrite(this._heartbeatsCache))}catch(a){Vr.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$_(),{heartbeatsToSend:a,unsentEntries:o}=KI(this._heartbeatsCache.heartbeats),u=hh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Vr.warn(n),""}}}function $_(){return new Date().toISOString().substring(0,10)}function KI(r,e=HI){const n=[];let a=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),W_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),W_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class QI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VR()?xR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return J_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return J_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function W_(r){return hh(JSON.stringify({version:2,heartbeats:r})).length}function YI(r){So(new gs("platform-logger",e=>new oI(e),"PRIVATE")),So(new gs("heartbeat",e=>new GI(e),"PRIVATE")),Oa(_m,Y_,r),Oa(_m,Y_,"esm2017"),Oa("fire-js","")}YI("");var XI="firebase",JI="10.14.1";Oa(XI,JI,"app");var Z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ms,k0;(function(){var r;function e(A,w){function I(){}I.prototype=w.prototype,A.D=w.prototype,A.prototype=new I,A.prototype.constructor=A,A.C=function(O,L,P){for(var C=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)C[tt-2]=arguments[tt];return w.prototype[L].apply(O,C)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(A,w,I){I||(I=0);var O=Array(16);if(typeof w=="string")for(var L=0;16>L;++L)O[L]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(L=0;16>L;++L)O[L]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=A.g[0],I=A.g[1],L=A.g[2];var P=A.g[3],C=w+(P^I&(L^P))+O[0]+3614090360&4294967295;w=I+(C<<7&4294967295|C>>>25),C=P+(L^w&(I^L))+O[1]+3905402710&4294967295,P=w+(C<<12&4294967295|C>>>20),C=L+(I^P&(w^I))+O[2]+606105819&4294967295,L=P+(C<<17&4294967295|C>>>15),C=I+(w^L&(P^w))+O[3]+3250441966&4294967295,I=L+(C<<22&4294967295|C>>>10),C=w+(P^I&(L^P))+O[4]+4118548399&4294967295,w=I+(C<<7&4294967295|C>>>25),C=P+(L^w&(I^L))+O[5]+1200080426&4294967295,P=w+(C<<12&4294967295|C>>>20),C=L+(I^P&(w^I))+O[6]+2821735955&4294967295,L=P+(C<<17&4294967295|C>>>15),C=I+(w^L&(P^w))+O[7]+4249261313&4294967295,I=L+(C<<22&4294967295|C>>>10),C=w+(P^I&(L^P))+O[8]+1770035416&4294967295,w=I+(C<<7&4294967295|C>>>25),C=P+(L^w&(I^L))+O[9]+2336552879&4294967295,P=w+(C<<12&4294967295|C>>>20),C=L+(I^P&(w^I))+O[10]+4294925233&4294967295,L=P+(C<<17&4294967295|C>>>15),C=I+(w^L&(P^w))+O[11]+2304563134&4294967295,I=L+(C<<22&4294967295|C>>>10),C=w+(P^I&(L^P))+O[12]+1804603682&4294967295,w=I+(C<<7&4294967295|C>>>25),C=P+(L^w&(I^L))+O[13]+4254626195&4294967295,P=w+(C<<12&4294967295|C>>>20),C=L+(I^P&(w^I))+O[14]+2792965006&4294967295,L=P+(C<<17&4294967295|C>>>15),C=I+(w^L&(P^w))+O[15]+1236535329&4294967295,I=L+(C<<22&4294967295|C>>>10),C=w+(L^P&(I^L))+O[1]+4129170786&4294967295,w=I+(C<<5&4294967295|C>>>27),C=P+(I^L&(w^I))+O[6]+3225465664&4294967295,P=w+(C<<9&4294967295|C>>>23),C=L+(w^I&(P^w))+O[11]+643717713&4294967295,L=P+(C<<14&4294967295|C>>>18),C=I+(P^w&(L^P))+O[0]+3921069994&4294967295,I=L+(C<<20&4294967295|C>>>12),C=w+(L^P&(I^L))+O[5]+3593408605&4294967295,w=I+(C<<5&4294967295|C>>>27),C=P+(I^L&(w^I))+O[10]+38016083&4294967295,P=w+(C<<9&4294967295|C>>>23),C=L+(w^I&(P^w))+O[15]+3634488961&4294967295,L=P+(C<<14&4294967295|C>>>18),C=I+(P^w&(L^P))+O[4]+3889429448&4294967295,I=L+(C<<20&4294967295|C>>>12),C=w+(L^P&(I^L))+O[9]+568446438&4294967295,w=I+(C<<5&4294967295|C>>>27),C=P+(I^L&(w^I))+O[14]+3275163606&4294967295,P=w+(C<<9&4294967295|C>>>23),C=L+(w^I&(P^w))+O[3]+4107603335&4294967295,L=P+(C<<14&4294967295|C>>>18),C=I+(P^w&(L^P))+O[8]+1163531501&4294967295,I=L+(C<<20&4294967295|C>>>12),C=w+(L^P&(I^L))+O[13]+2850285829&4294967295,w=I+(C<<5&4294967295|C>>>27),C=P+(I^L&(w^I))+O[2]+4243563512&4294967295,P=w+(C<<9&4294967295|C>>>23),C=L+(w^I&(P^w))+O[7]+1735328473&4294967295,L=P+(C<<14&4294967295|C>>>18),C=I+(P^w&(L^P))+O[12]+2368359562&4294967295,I=L+(C<<20&4294967295|C>>>12),C=w+(I^L^P)+O[5]+4294588738&4294967295,w=I+(C<<4&4294967295|C>>>28),C=P+(w^I^L)+O[8]+2272392833&4294967295,P=w+(C<<11&4294967295|C>>>21),C=L+(P^w^I)+O[11]+1839030562&4294967295,L=P+(C<<16&4294967295|C>>>16),C=I+(L^P^w)+O[14]+4259657740&4294967295,I=L+(C<<23&4294967295|C>>>9),C=w+(I^L^P)+O[1]+2763975236&4294967295,w=I+(C<<4&4294967295|C>>>28),C=P+(w^I^L)+O[4]+1272893353&4294967295,P=w+(C<<11&4294967295|C>>>21),C=L+(P^w^I)+O[7]+4139469664&4294967295,L=P+(C<<16&4294967295|C>>>16),C=I+(L^P^w)+O[10]+3200236656&4294967295,I=L+(C<<23&4294967295|C>>>9),C=w+(I^L^P)+O[13]+681279174&4294967295,w=I+(C<<4&4294967295|C>>>28),C=P+(w^I^L)+O[0]+3936430074&4294967295,P=w+(C<<11&4294967295|C>>>21),C=L+(P^w^I)+O[3]+3572445317&4294967295,L=P+(C<<16&4294967295|C>>>16),C=I+(L^P^w)+O[6]+76029189&4294967295,I=L+(C<<23&4294967295|C>>>9),C=w+(I^L^P)+O[9]+3654602809&4294967295,w=I+(C<<4&4294967295|C>>>28),C=P+(w^I^L)+O[12]+3873151461&4294967295,P=w+(C<<11&4294967295|C>>>21),C=L+(P^w^I)+O[15]+530742520&4294967295,L=P+(C<<16&4294967295|C>>>16),C=I+(L^P^w)+O[2]+3299628645&4294967295,I=L+(C<<23&4294967295|C>>>9),C=w+(L^(I|~P))+O[0]+4096336452&4294967295,w=I+(C<<6&4294967295|C>>>26),C=P+(I^(w|~L))+O[7]+1126891415&4294967295,P=w+(C<<10&4294967295|C>>>22),C=L+(w^(P|~I))+O[14]+2878612391&4294967295,L=P+(C<<15&4294967295|C>>>17),C=I+(P^(L|~w))+O[5]+4237533241&4294967295,I=L+(C<<21&4294967295|C>>>11),C=w+(L^(I|~P))+O[12]+1700485571&4294967295,w=I+(C<<6&4294967295|C>>>26),C=P+(I^(w|~L))+O[3]+2399980690&4294967295,P=w+(C<<10&4294967295|C>>>22),C=L+(w^(P|~I))+O[10]+4293915773&4294967295,L=P+(C<<15&4294967295|C>>>17),C=I+(P^(L|~w))+O[1]+2240044497&4294967295,I=L+(C<<21&4294967295|C>>>11),C=w+(L^(I|~P))+O[8]+1873313359&4294967295,w=I+(C<<6&4294967295|C>>>26),C=P+(I^(w|~L))+O[15]+4264355552&4294967295,P=w+(C<<10&4294967295|C>>>22),C=L+(w^(P|~I))+O[6]+2734768916&4294967295,L=P+(C<<15&4294967295|C>>>17),C=I+(P^(L|~w))+O[13]+1309151649&4294967295,I=L+(C<<21&4294967295|C>>>11),C=w+(L^(I|~P))+O[4]+4149444226&4294967295,w=I+(C<<6&4294967295|C>>>26),C=P+(I^(w|~L))+O[11]+3174756917&4294967295,P=w+(C<<10&4294967295|C>>>22),C=L+(w^(P|~I))+O[2]+718787259&4294967295,L=P+(C<<15&4294967295|C>>>17),C=I+(P^(L|~w))+O[9]+3951481745&4294967295,A.g[0]=A.g[0]+w&4294967295,A.g[1]=A.g[1]+(L+(C<<21&4294967295|C>>>11))&4294967295,A.g[2]=A.g[2]+L&4294967295,A.g[3]=A.g[3]+P&4294967295}a.prototype.u=function(A,w){w===void 0&&(w=A.length);for(var I=w-this.blockSize,O=this.B,L=this.h,P=0;P<w;){if(L==0)for(;P<=I;)o(this,A,P),P+=this.blockSize;if(typeof A=="string"){for(;P<w;)if(O[L++]=A.charCodeAt(P++),L==this.blockSize){o(this,O),L=0;break}}else for(;P<w;)if(O[L++]=A[P++],L==this.blockSize){o(this,O),L=0;break}}this.h=L,this.o+=w},a.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var w=1;w<A.length-8;++w)A[w]=0;var I=8*this.o;for(w=A.length-8;w<A.length;++w)A[w]=I&255,I/=256;for(this.u(A),A=Array(16),w=I=0;4>w;++w)for(var O=0;32>O;O+=8)A[I++]=this.g[w]>>>O&255;return A};function u(A,w){var I=m;return Object.prototype.hasOwnProperty.call(I,A)?I[A]:I[A]=w(A)}function f(A,w){this.h=w;for(var I=[],O=!0,L=A.length-1;0<=L;L--){var P=A[L]|0;O&&P==w||(I[L]=P,O=!1)}this.g=I}var m={};function p(A){return-128<=A&&128>A?u(A,function(w){return new f([w|0],0>w?-1:0)}):new f([A|0],0>A?-1:0)}function y(A){if(isNaN(A)||!isFinite(A))return T;if(0>A)return K(y(-A));for(var w=[],I=1,O=0;A>=I;O++)w[O]=A/I|0,I*=4294967296;return new f(w,0)}function E(A,w){if(A.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(A.charAt(0)=="-")return K(E(A.substring(1),w));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=y(Math.pow(w,8)),O=T,L=0;L<A.length;L+=8){var P=Math.min(8,A.length-L),C=parseInt(A.substring(L,L+P),w);8>P?(P=y(Math.pow(w,P)),O=O.j(P).add(y(C))):(O=O.j(I),O=O.add(y(C)))}return O}var T=p(0),R=p(1),D=p(16777216);r=f.prototype,r.m=function(){if(H(this))return-K(this).m();for(var A=0,w=1,I=0;I<this.g.length;I++){var O=this.i(I);A+=(0<=O?O:4294967296+O)*w,w*=4294967296}return A},r.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(U(this))return"0";if(H(this))return"-"+K(this).toString(A);for(var w=y(Math.pow(A,6)),I=this,O="";;){var L=be(I,w).g;I=he(I,L.j(w));var P=((0<I.g.length?I.g[0]:I.h)>>>0).toString(A);if(I=L,U(I))return P+O;for(;6>P.length;)P="0"+P;O=P+O}},r.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function U(A){if(A.h!=0)return!1;for(var w=0;w<A.g.length;w++)if(A.g[w]!=0)return!1;return!0}function H(A){return A.h==-1}r.l=function(A){return A=he(this,A),H(A)?-1:U(A)?0:1};function K(A){for(var w=A.g.length,I=[],O=0;O<w;O++)I[O]=~A.g[O];return new f(I,~A.h).add(R)}r.abs=function(){return H(this)?K(this):this},r.add=function(A){for(var w=Math.max(this.g.length,A.g.length),I=[],O=0,L=0;L<=w;L++){var P=O+(this.i(L)&65535)+(A.i(L)&65535),C=(P>>>16)+(this.i(L)>>>16)+(A.i(L)>>>16);O=C>>>16,P&=65535,C&=65535,I[L]=C<<16|P}return new f(I,I[I.length-1]&-2147483648?-1:0)};function he(A,w){return A.add(K(w))}r.j=function(A){if(U(this)||U(A))return T;if(H(this))return H(A)?K(this).j(K(A)):K(K(this).j(A));if(H(A))return K(this.j(K(A)));if(0>this.l(D)&&0>A.l(D))return y(this.m()*A.m());for(var w=this.g.length+A.g.length,I=[],O=0;O<2*w;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<A.g.length;L++){var P=this.i(O)>>>16,C=this.i(O)&65535,tt=A.i(L)>>>16,Et=A.i(L)&65535;I[2*O+2*L]+=C*Et,ae(I,2*O+2*L),I[2*O+2*L+1]+=P*Et,ae(I,2*O+2*L+1),I[2*O+2*L+1]+=C*tt,ae(I,2*O+2*L+1),I[2*O+2*L+2]+=P*tt,ae(I,2*O+2*L+2)}for(O=0;O<w;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=w;O<2*w;O++)I[O]=0;return new f(I,0)};function ae(A,w){for(;(A[w]&65535)!=A[w];)A[w+1]+=A[w]>>>16,A[w]&=65535,w++}function de(A,w){this.g=A,this.h=w}function be(A,w){if(U(w))throw Error("division by zero");if(U(A))return new de(T,T);if(H(A))return w=be(K(A),w),new de(K(w.g),K(w.h));if(H(w))return w=be(A,K(w)),new de(K(w.g),w.h);if(30<A.g.length){if(H(A)||H(w))throw Error("slowDivide_ only works with positive integers.");for(var I=R,O=w;0>=O.l(A);)I=Ve(I),O=Ve(O);var L=Le(I,1),P=Le(O,1);for(O=Le(O,2),I=Le(I,2);!U(O);){var C=P.add(O);0>=C.l(A)&&(L=L.add(I),P=C),O=Le(O,1),I=Le(I,1)}return w=he(A,L.j(w)),new de(L,w)}for(L=T;0<=A.l(w);){for(I=Math.max(1,Math.floor(A.m()/w.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),P=y(I),C=P.j(w);H(C)||0<C.l(A);)I-=O,P=y(I),C=P.j(w);U(P)&&(P=R),L=L.add(P),A=he(A,C)}return new de(L,A)}r.A=function(A){return be(this,A).h},r.and=function(A){for(var w=Math.max(this.g.length,A.g.length),I=[],O=0;O<w;O++)I[O]=this.i(O)&A.i(O);return new f(I,this.h&A.h)},r.or=function(A){for(var w=Math.max(this.g.length,A.g.length),I=[],O=0;O<w;O++)I[O]=this.i(O)|A.i(O);return new f(I,this.h|A.h)},r.xor=function(A){for(var w=Math.max(this.g.length,A.g.length),I=[],O=0;O<w;O++)I[O]=this.i(O)^A.i(O);return new f(I,this.h^A.h)};function Ve(A){for(var w=A.g.length+1,I=[],O=0;O<w;O++)I[O]=A.i(O)<<1|A.i(O-1)>>>31;return new f(I,A.h)}function Le(A,w){var I=w>>5;w%=32;for(var O=A.g.length-I,L=[],P=0;P<O;P++)L[P]=0<w?A.i(P+I)>>>w|A.i(P+I+1)<<32-w:A.i(P+I);return new f(L,A.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,k0=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,ms=f}).apply(typeof Z_<"u"?Z_:typeof self<"u"?self:typeof window<"u"?window:{});var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var z0,Fl,j0,Zc,Sm,B0,q0,H0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qc=="object"&&Qc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(c,g){if(g)e:{var _=a;c=c.split(".");for(var b=0;b<c.length-1;b++){var j=c[b];if(!(j in _))break e;_=_[j]}c=c[c.length-1],b=_[c],g=g(b),g!=b&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,b=!1,j={next:function(){if(!b&&_<c.length){var Y=_++;return{value:g(Y,c[Y]),done:!1}}return b=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function T(c,g,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,b),c.apply(g,j)}}return function(){return c.apply(g,arguments)}}function R(c,g,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,R.apply(null,arguments)}function D(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function U(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,j,Y){for(var le=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)le[ct-2]=arguments[ct];return g.prototype[j].apply(b,le)}}function H(c){const g=c.length;if(0<g){const _=Array(g);for(let b=0;b<g;b++)_[b]=c[b];return _}return[]}function K(c,g){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const j=c.length||0,Y=b.length||0;c.length=j+Y;for(let le=0;le<Y;le++)c[j+le]=b[le]}else c.push(b)}}class he{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ae(c){return/^[\s\xa0]*$/.test(c)}function de(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function be(c){return be[" "](c),c}be[" "]=function(){};var Ve=de().indexOf("Gecko")!=-1&&!(de().toLowerCase().indexOf("webkit")!=-1&&de().indexOf("Edge")==-1)&&!(de().indexOf("Trident")!=-1||de().indexOf("MSIE")!=-1)&&de().indexOf("Edge")==-1;function Le(c,g,_){for(const b in c)g.call(_,c[b],b,c)}function A(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function w(c){const g={};for(const _ in c)g[_]=c[_];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let _,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(_ in b)c[_]=b[_];for(let Y=0;Y<I.length;Y++)_=I[Y],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function L(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function P(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Fe;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class tt{constructor(){this.h=this.g=null}add(g,_){const b=Et.get();b.set(g,_),this.h?this.h.next=b:this.g=b,this.h=b}}var Et=new he(()=>new J,c=>c.reset());class J{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,me=!1,Fe=new tt,Qe=()=>{const c=m.Promise.resolve(void 0);oe=()=>{c.then(V)}};var V=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){P(_)}var g=Et;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}me=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ge=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c})();function Ae(c,g){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(Ve){e:{try{be(g.nodeName);var j=!0;break e}catch{}j=!1}j||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ne[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ae.aa.h.call(this)}}U(Ae,se);var Ne={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),Vt=0;function St(c,g,_,b,j){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!b,this.ha=j,this.key=++Vt,this.da=this.fa=!1}function fi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ri(c){this.src=c,this.g={},this.h=0}Ri.prototype.add=function(c,g,_,b,j){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var le=ei(c,g,b,j);return-1<le?(g=c[le],_||(g.fa=!1)):(g=new St(g,this.src,Y,!!b,j),g.fa=_,c.push(g)),g};function Nt(c,g){var _=g.type;if(_ in c.g){var b=c.g[_],j=Array.prototype.indexOf.call(b,g,void 0),Y;(Y=0<=j)&&Array.prototype.splice.call(b,j,1),Y&&(fi(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ei(c,g,_,b){for(var j=0;j<c.length;++j){var Y=c[j];if(!Y.da&&Y.listener==g&&Y.capture==!!_&&Y.ha==b)return j}return-1}var jn="closure_lm_"+(1e6*Math.random()|0),tr={};function Bn(c,g,_,b,j){if(Array.isArray(g)){for(var Y=0;Y<g.length;Y++)Bn(c,g[Y],_,b,j);return null}return _=Ui(_),c&&c[ze]?c.K(g,_,y(b)?!!b.capture:!1,j):Bo(c,g,_,!1,b,j)}function Bo(c,g,_,b,j,Y){if(!g)throw Error("Invalid event type");var le=y(j)?!!j.capture:!!j,ct=za(c);if(ct||(c[jn]=ct=new Ri(c)),_=ct.add(g,_,b,le,Y),_.proxy)return _;if(b=Rs(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)ge||(j=le),j===void 0&&(j=!1),c.addEventListener(g.toString(),b,j);else if(c.attachEvent)c.attachEvent(kr(g.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Rs(){function c(_){return g.call(c.src,c.listener,_)}const g=qo;return c}function nr(c,g,_,b,j){if(Array.isArray(g))for(var Y=0;Y<g.length;Y++)nr(c,g[Y],_,b,j);else b=y(b)?!!b.capture:!!b,_=Ui(_),c&&c[ze]?(c=c.i,g=String(g).toString(),g in c.g&&(Y=c.g[g],_=ei(Y,_,b,j),-1<_&&(fi(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[g],c.h--)))):c&&(c=za(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ei(g,_,b,j)),(_=-1<c?g[c]:null)&&ir(_))}function ir(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ze])Nt(g.i,c);else{var _=c.type,b=c.proxy;g.removeEventListener?g.removeEventListener(_,b,c.capture):g.detachEvent?g.detachEvent(kr(_),b):g.addListener&&g.removeListener&&g.removeListener(b),(_=za(g))?(Nt(_,c),_.h==0&&(_.src=null,g[jn]=null)):fi(c)}}}function kr(c){return c in tr?tr[c]:tr[c]="on"+c}function qo(c,g){if(c.da)c=!0;else{g=new Ae(g,this);var _=c.listener,b=c.ha||c.src;c.fa&&ir(c),c=_.call(b,g)}return c}function za(c){return c=c[jn],c instanceof Ri?c:null}var At="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ui(c){return typeof c=="function"?c:(c[At]||(c[At]=function(g){return c.handleEvent(g)}),c[At])}function xt(){X.call(this),this.i=new Ri(this),this.M=this,this.F=null}U(xt,X),xt.prototype[ze]=!0,xt.prototype.removeEventListener=function(c,g,_,b){nr(this,c,g,_,b)};function Lt(c,g){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=g.type||g,typeof g=="string")g=new se(g,c);else if(g instanceof se)g.target=g.target||c;else{var j=g;g=new se(b,c),O(g,j)}if(j=!0,_)for(var Y=_.length-1;0<=Y;Y--){var le=g.g=_[Y];j=rn(le,b,!0,g)&&j}if(le=g.g=c,j=rn(le,b,!0,g)&&j,j=rn(le,b,!1,g)&&j,_)for(Y=0;Y<_.length;Y++)le=g.g=_[Y],j=rn(le,b,!1,g)&&j}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],b=0;b<_.length;b++)fi(_[b]);delete c.g[g],c.h--}}this.F=null},xt.prototype.K=function(c,g,_,b){return this.i.add(String(c),g,!1,_,b)},xt.prototype.L=function(c,g,_,b){return this.i.add(String(c),g,!0,_,b)};function rn(c,g,_,b){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var j=!0,Y=0;Y<g.length;++Y){var le=g[Y];if(le&&!le.da&&le.capture==_){var ct=le.listener,Gt=le.ha||le.src;le.fa&&Nt(c.i,le),j=ct.call(Gt,b)!==!1&&j}}return j&&!b.defaultPrevented}function qn(c,g,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function zr(c){c.g=qn(()=>{c.g=null,c.i&&(c.i=!1,zr(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class jr extends X{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:zr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rr(c){X.call(this),this.h=c,this.g={}}U(rr,X);var hn=[];function Zt(c){Le(c.g,function(g,_){this.g.hasOwnProperty(_)&&ir(g)},c),c.g={}}rr.prototype.N=function(){rr.aa.N.call(this),Zt(this)},rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=m.JSON.stringify,an=m.JSON.parse,Ho=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Br(){}Br.prototype.h=null;function ar(c){return c.h||(c.h=c.i())}function Pi(){}var Hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function di(){se.call(this,"d")}U(di,se);function ti(){se.call(this,"c")}U(ti,se);var Nn={},ki=null;function sr(){return ki=ki||new xt}Nn.La="serverreachability";function zi(c){se.call(this,Nn.La,c)}U(zi,se);function Fn(c){const g=sr();Lt(g,new zi(g))}Nn.STAT_EVENT="statevent";function ji(c,g){se.call(this,Nn.STAT_EVENT,c),this.stat=g}U(ji,se);function en(c){const g=sr();Lt(g,new ji(g,c))}Nn.Ma="timingevent";function M(c,g){se.call(this,Nn.Ma,c),this.size=g}U(M,se);function k(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function G(){this.g=!0}G.prototype.xa=function(){this.g=!1};function ie(c,g,_,b,j,Y){c.info(function(){if(c.g)if(Y)for(var le="",ct=Y.split("&"),Gt=0;Gt<ct.length;Gt++){var He=ct[Gt].split("=");if(1<He.length){var on=He[0];He=He[1];var ln=on.split("_");le=2<=ln.length&&ln[1]=="type"?le+(on+"="+He+"&"):le+(on+"=redacted&")}}else le=null;else le=Y;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+g+`
`+_+`
`+le})}function fe(c,g,_,b,j,Y,le){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+g+`
`+_+`
`+Y+" "+le})}function Ee(c,g,_,b){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+pe(c,_)+(b?" "+b:"")})}function Ie(c,g){c.info(function(){return"TIMEOUT: "+g})}G.prototype.info=function(){};function pe(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var j=b[1];if(Array.isArray(j)&&!(1>j.length)){var Y=j[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var le=1;le<j.length;le++)j[le]=""}}}}return On(_)}catch{return g}}var ue={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ce={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ye;function De(){}U(De,Br),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},ye=new De;function xe(c,g,_,b){this.j=c,this.i=g,this.l=_,this.R=b||1,this.U=new rr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ut}function Ut(){this.i=null,this.g="",this.h=!1}var it={},Be={};function ut(c,g,_){c.L=1,c.v=Ba(kt(g)),c.m=_,c.P=!0,Sn(c,null)}function Sn(c,g){c.F=Date.now(),Pt(c),c.A=kt(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),lr(_.i,"t",b),c.C=0,_=c.j.J,c.h=new Ut,c.g=zu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new jr(R(c.Y,c,c.g),c.O)),g=c.U,_=c.g,b=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(hn[0]=j.toString()),j=hn);for(var Y=0;Y<j.length;Y++){var le=Bn(_,j[Y],b||g.handleEvent,!1,g.h||g);if(!le)break;g.g[le.key]=le}g=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Fn(),ie(c.i,c.u,c.A,c.l,c.R,c.m)}xe.prototype.ca=function(c){c=c.target;const g=this.M;g&&Un(c)==3?g.j():this.Y(c)},xe.prototype.Y=function(c){try{if(c==this.g)e:{const ln=Un(this.g);var g=this.g.Ba();const $r=this.g.Z();if(!(3>ln)&&(ln!=3||this.g&&(this.h.h||this.g.oa()||Fa(this.g)))){this.J||ln!=4||g==7||(g==8||0>=$r?Fn(3):Fn(2)),mi(this);var _=this.g.Z();this.X=_;t:if(Mn(this)){var b=Fa(this.g);c="";var j=b.length,Y=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ft(this),An(this);var le="";break t}this.h.i=new m.TextDecoder}for(g=0;g<j;g++)this.h.h=!0,c+=this.h.i.decode(b[g],{stream:!(Y&&g==j-1)});b.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,fe(this.i,this.u,this.A,this.l,this.R,ln,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ct,Gt=this.g;if((ct=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ae(ct)){var He=ct;break t}}He=null}if(_=He)Ee(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vn(this,_);else{this.o=!1,this.s=3,en(12),Ft(this),An(this);break e}}if(this.P){_=!0;let Kn;for(;!this.J&&this.C<le.length;)if(Kn=fn(this,le),Kn==Be){ln==4&&(this.s=4,en(14),_=!1),Ee(this.i,this.l,null,"[Incomplete Response]");break}else if(Kn==it){this.s=4,en(15),Ee(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else Ee(this.i,this.l,Kn,null),Vn(this,Kn);if(Mn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ln!=4||le.length!=0||this.h.h||(this.s=1,en(16),_=!1),this.o=this.o&&_,!_)Ee(this.i,this.l,le,"[Invalid Chunked Response]"),Ft(this),An(this);else if(0<le.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Wo(on),on.M=!0,en(11))}}else Ee(this.i,this.l,le,null),Vn(this,le);ln==4&&Ft(this),this.o&&!this.J&&(ln==4?Uu(this.j,this):(this.o=!1,Pt(this)))}else Ou(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,en(12)):(this.s=0,en(13)),Ft(this),An(this)}}}catch{}finally{}};function Mn(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function fn(c,g){var _=c.C,b=g.indexOf(`
`,_);return b==-1?Be:(_=Number(g.substring(_,b)),isNaN(_)?it:(b+=1,b+_>g.length?Be:(g=g.slice(b,b+_),c.C=b+_,g)))}xe.prototype.cancel=function(){this.J=!0,Ft(this)};function Pt(c){c.S=Date.now()+c.I,bt(c,c.I)}function bt(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=k(R(c.ba,c),g)}function mi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}xe.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ie(this.i,this.A),this.L!=2&&(Fn(),en(17)),Ft(this),this.s=2,An(this)):bt(this,this.S-c)};function An(c){c.j.G==0||c.J||Uu(c.j,c)}function Ft(c){mi(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Zt(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Vn(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||ht(_.h,c))){if(!c.K&&ht(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Xr(_),Yr(_);else break e;$o(_),en(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=k(R(_.Za,_),6e3));if(1>=Bi(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else cr(_,11)}else if((c.K||_.g==c)&&Xr(_),!ae(g))for(j=_.Da.g.parse(g),g=0;g<j.length;g++){let He=j[g];if(_.T=He[0],He=He[1],_.G==2)if(He[0]=="c"){_.K=He[1],_.ia=He[2];const on=He[3];on!=null&&(_.la=on,_.j.info("VER="+_.la));const ln=He[4];ln!=null&&(_.Aa=ln,_.j.info("SVER="+_.Aa));const $r=He[5];$r!=null&&typeof $r=="number"&&0<$r&&(b=1.5*$r,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Kn=c.g;if(Kn){const Qa=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qa){var Y=b.h;Y.g||Qa.indexOf("spdy")==-1&&Qa.indexOf("quic")==-1&&Qa.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(xn(Y,Y.h),Y.h=null))}if(b.D){const hr=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;hr&&(b.ya=hr,rt(b.I,b.D,hr))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var le=c;if(b.qa=ku(b,b.J?b.ia:null,b.W),le.K){Ln(b.h,le);var ct=le,Gt=b.L;Gt&&(ct.I=Gt),ct.B&&(mi(ct),Pt(ct)),b.g=le}else xu(b);0<_.i.length&&xs(_)}else He[0]!="stop"&&He[0]!="close"||cr(_,7);else _.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?cr(_,7):Xo(_):He[0]!="noop"&&_.l&&_.l.ta(He),_.v=0)}}Fn(4)}catch{}}var Ye=class{constructor(c,g){this.g=c,this.map=g}};function gt(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pi(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Bi(c){return c.h?1:c.g?c.g.size:0}function ht(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function xn(c,g){c.g?c.g.add(g):c.h=g}function Ln(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}gt.prototype.cancel=function(){if(this.i=dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function dn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return H(c.i)}function wu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,b=0;b<_;b++)g.push(c[b]);return g}g=[],_=0;for(b in c)g[_++]=c[b];return g}function Qh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const b in c)g[_++]=b;return g}}}function Is(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Qh(c),b=wu(c),j=b.length,Y=0;Y<j;Y++)g.call(void 0,b[Y],_&&_[Y],c)}var Fo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cs(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),j=null;if(0<=b){var Y=c[_].substring(0,b);j=c[_].substring(b+1)}else Y=c[_];g(Y,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function or(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof or){this.h=c.h,qr(this,c.j),this.o=c.o,this.g=c.g,ja(this,c.s),this.l=c.l;var g=c.i,_=new qi;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Ds(this,_),this.m=c.m}else c&&(g=String(c).match(Fo))?(this.h=!1,qr(this,g[1]||"",!0),this.o=Hr(g[2]||""),this.g=Hr(g[3]||"",!0),ja(this,g[4]),this.l=Hr(g[5]||"",!0),Ds(this,g[6]||"",!0),this.m=Hr(g[7]||"")):(this.h=!1,this.i=new qi(null,this.h))}or.prototype.toString=function(){var c=[],g=this.j;g&&c.push(gi(g,Go,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(gi(g,Go,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(gi(_,_.charAt(0)=="/"?Ko:Ru,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",gi(_,Jh)),c.join("")};function kt(c){return new or(c)}function qr(c,g,_){c.j=_?Hr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ja(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ds(c,g,_){g instanceof qi?(c.i=g,Iu(c.i,c.h)):(_||(g=gi(g,Xh)),c.i=new qi(g,c.h))}function rt(c,g,_){c.i.set(g,_)}function Ba(c){return rt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Hr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gi(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Yh),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Yh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Go=/[#\/\?@]/g,Ru=/[#\?:]/g,Ko=/[#\?]/g,Xh=/[#\?@]/g,Jh=/#/g;function qi(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&Cs(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=qi.prototype,r.add=function(c,g){sn(this),this.i=null,c=ni(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Os(c,g){sn(c),g=ni(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ns(c,g){return sn(c),g=ni(c,g),c.g.has(g)}r.forEach=function(c,g){sn(this),this.g.forEach(function(_,b){_.forEach(function(j){c.call(g,j,b,this)},this)},this)},r.na=function(){sn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let b=0;b<g.length;b++){const j=c[b];for(let Y=0;Y<j.length;Y++)_.push(g[b])}return _},r.V=function(c){sn(this);let g=[];if(typeof c=="string")Ns(this,c)&&(g=g.concat(this.g.get(ni(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return sn(this),this.i=null,c=ni(this,c),Ns(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function lr(c,g,_){Os(c,g),0<_.length&&(c.i=null,c.g.set(ni(c,g),H(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var b=g[_];const Y=encodeURIComponent(String(b)),le=this.V(b);for(b=0;b<le.length;b++){var j=Y;le[b]!==""&&(j+="="+encodeURIComponent(String(le[b]))),c.push(j)}}return this.i=c.join("&")};function ni(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Iu(c,g){g&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(_,b){var j=b.toLowerCase();b!=j&&(Os(this,b),lr(this,j,_))},c)),c.j=g}function Qo(c,g){const _=new G;if(m.Image){const b=new Image;b.onload=D(Gn,_,"TestLoadImage: loaded",!0,g,b),b.onerror=D(Gn,_,"TestLoadImage: error",!1,g,b),b.onabort=D(Gn,_,"TestLoadImage: abort",!1,g,b),b.ontimeout=D(Gn,_,"TestLoadImage: timeout",!1,g,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else g(!1)}function Cu(c,g){const _=new G,b=new AbortController,j=setTimeout(()=>{b.abort(),Gn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:b.signal}).then(Y=>{clearTimeout(j),Y.ok?Gn(_,"TestPingServer: ok",!0,g):Gn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),Gn(_,"TestPingServer: error",!1,g)})}function Gn(c,g,_,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(_)}catch{}}function Ii(){this.g=new Ho}function Yo(c,g,_){const b=_||"";try{Is(c,function(j,Y){let le=j;y(j)&&(le=On(j)),g.push(b+Y+"="+encodeURIComponent(le))})}catch(j){throw g.push(b+"type="+encodeURIComponent("_badmap")),j}}function Hi(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Hi,Br),Hi.prototype.g=function(){return new ii(this.l,this.j)},Hi.prototype.i=(function(c){return function(){return c}})({});function ii(c,g){xt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(ii,xt),r=ii.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Fr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fi(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fr(this)),this.g&&(this.readyState=3,Fr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ms(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ms(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Fi(this):Fr(this),this.readyState==3&&Ms(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Fi(this))},r.Qa=function(c){this.g&&(this.response=c,Fi(this))},r.ga=function(){this.g&&Fi(this)};function Fi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Fr(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Fr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qa(c){let g="";return Le(c,function(_,b){g+=b,g+=":",g+=_,g+=`\r
`}),g}function Gr(c,g,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=qa(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):rt(c,g,_))}function wt(c){xt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(wt,xt);var bn=/^https?$/i,ur=["POST","PUT"];r=wt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ye.g(),this.v=this.o?ar(this.o):ar(ye),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Y){Ha(this,Y);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)_.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Y of b.keys())_.set(Y,b.get(Y));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ur,g,void 0))||b||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,le]of _)this.g.setRequestHeader(Y,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Ha(this,Y)}};function Ha(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Kr(c),Qr(c)}function Kr(c){c.A||(c.A=!0,Lt(c,"complete"),Lt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Lt(this,"complete"),Lt(this,"abort"),Qr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qr(this,!0)),wt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Du(this):this.bb())},r.bb=function(){Du(this)};function Du(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Un(c)!=4||c.Z()!=2)){if(c.u&&Un(c)==4)qn(c.Ea,0,c);else if(Lt(c,"readystatechange"),Un(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var b;if(b=le===0){var j=String(c.D).match(Fo)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),b=!bn.test(j?j.toLowerCase():"")}_=b}if(_)Lt(c,"complete"),Lt(c,"success");else{c.m=6;try{var Y=2<Un(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Kr(c)}}finally{Qr(c)}}}}function Qr(c,g){if(c.g){Vs(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Lt(c,"ready");try{_.onreadystatechange=b}catch{}}}function Vs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Un(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),an(g)}};function Fa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ou(c){const g={};c=(c.g&&2<=Un(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(ae(c[b]))continue;var _=L(c[b]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=g[j]||[];g[j]=Y,Y.push(_)}A(g,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ga(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Nu(c){this.Aa=0,this.i=[],this.j=new G,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ga("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ga("baseRetryDelayMs",5e3,c),this.cb=Ga("retryDelaySeedMs",1e4,c),this.Wa=Ga("forwardChannelMaxRetries",2,c),this.wa=Ga("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new gt(c&&c.concurrentRequestLimit),this.Da=new Ii,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Nu.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,b){en(0),this.W=c,this.H=g||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=ku(this,null,this.W),xs(this)};function Xo(c){if(Mu(c),c.G==3){var g=c.U++,_=kt(c.I);if(rt(_,"SID",c.K),rt(_,"RID",g),rt(_,"TYPE","terminate"),Ka(c,_),g=new xe(c,c.j,g),g.L=2,g.v=Ba(kt(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=zu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Pt(g)}Zo(c)}function Yr(c){c.g&&(Wo(c),c.g.cancel(),c.g=null)}function Mu(c){Yr(c),c.u&&(m.clearTimeout(c.u),c.u=null),Xr(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function xs(c){if(!pi(c.h)&&!c.s){c.s=!0;var g=c.Ga;oe||Qe(),me||(oe(),me=!0),Fe.add(g,c),c.B=0}}function $h(c,g){return Bi(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=k(R(c.Ga,c,g),Pu(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new xe(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=w(Y),O(Y,this.S)):Y=this.S),this.m!==null||this.O||(j.H=Y,Y=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Jo(this,j,g),_=kt(this.I),rt(_,"RID",c),rt(_,"CVER",22),this.D&&rt(_,"X-HTTP-Session-Id",this.D),Ka(this,_),Y&&(this.O?g="headers="+encodeURIComponent(String(qa(Y)))+"&"+g:this.m&&Gr(_,this.m,Y)),xn(this.h,j),this.Ua&&rt(_,"TYPE","init"),this.P?(rt(_,"$req",g),rt(_,"SID","null"),j.T=!0,ut(j,_,null)):ut(j,_,g),this.G=2}}else this.G==3&&(c?Vu(this,c):this.i.length==0||pi(this.h)||Vu(this))};function Vu(c,g){var _;g?_=g.l:_=c.U++;const b=kt(c.I);rt(b,"SID",c.K),rt(b,"RID",_),rt(b,"AID",c.T),Ka(c,b),c.m&&c.o&&Gr(b,c.m,c.o),_=new xe(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Jo(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),xn(c.h,_),ut(_,b,g)}function Ka(c,g){c.H&&Le(c.H,function(_,b){rt(g,b,_)}),c.l&&Is({},function(_,b){rt(g,b,_)})}function Jo(c,g,_){_=Math.min(c.i.length,_);var b=c.l?R(c.l.Na,c.l,c):null;e:{var j=c.i;let Y=-1;for(;;){const le=["count="+_];Y==-1?0<_?(Y=j[0].g,le.push("ofs="+Y)):Y=0:le.push("ofs="+Y);let ct=!0;for(let Gt=0;Gt<_;Gt++){let He=j[Gt].g;const on=j[Gt].map;if(He-=Y,0>He)Y=Math.max(0,j[Gt].g-100),ct=!1;else try{Yo(on,le,"req"+He+"_")}catch{b&&b(on)}}if(ct){b=le.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,b}function xu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;oe||Qe(),me||(oe(),me=!0),Fe.add(g,c),c.v=0}}function $o(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=k(R(c.Fa,c),Pu(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Lu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=k(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,en(10),Yr(this),Lu(this))};function Wo(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Lu(c){c.g=new xe(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=kt(c.qa);rt(g,"RID","rpc"),rt(g,"SID",c.K),rt(g,"AID",c.T),rt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&rt(g,"TO",c.ja),rt(g,"TYPE","xmlhttp"),Ka(c,g),c.m&&c.o&&Gr(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ba(kt(g)),_.m=null,_.P=!0,Sn(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Yr(this),$o(this),en(19))};function Xr(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Uu(c,g){var _=null;if(c.g==g){Xr(c),Wo(c),c.g=null;var b=2}else if(ht(c.h,g))_=g.D,Ln(c.h,g),b=1;else return;if(c.G!=0){if(g.o)if(b==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var j=c.B;b=sr(),Lt(b,new M(b,_)),xs(c)}else xu(c);else if(j=g.s,j==3||j==0&&0<g.X||!(b==1&&$h(c,g)||b==2&&$o(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),j){case 1:cr(c,5);break;case 4:cr(c,10);break;case 3:cr(c,6);break;default:cr(c,2)}}}function Pu(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function cr(c,g){if(c.j.info("Error code "+g),g==2){var _=R(c.fb,c),b=c.Xa;const j=!b;b=new or(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||qr(b,"https"),Ba(b),j?Qo(b.toString(),_):Cu(b.toString(),_)}else en(2);c.G=0,c.l&&c.l.sa(g),Zo(c),Mu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function Zo(c){if(c.G=0,c.ka=[],c.l){const g=dn(c.h);(g.length!=0||c.i.length!=0)&&(K(c.ka,g),K(c.ka,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.ra()}}function ku(c,g,_){var b=_ instanceof or?kt(_):new or(_);if(b.g!="")g&&(b.g=g+"."+b.g),ja(b,b.s);else{var j=m.location;b=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;var Y=new or(null);b&&qr(Y,b),g&&(Y.g=g),j&&ja(Y,j),_&&(Y.l=_),b=Y}return _=c.D,g=c.ya,_&&g&&rt(b,_,g),rt(b,"VER",c.la),Ka(c,b),b}function zu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new wt(new Hi({eb:_})):new wt(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}r=ju.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ls(){}Ls.prototype.g=function(c,g){return new Pn(c,g)};function Pn(c,g){xt.call(this),this.g=new Nu(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!ae(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ae(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Jr(this)}U(Pn,xt),Pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){Xo(this.g)},Pn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=On(c),c=_);g.i.push(new Ye(g.Ya++,c)),g.G==3&&xs(g)},Pn.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,Pn.aa.N.call(this)};function Bu(c){di.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}U(Bu,di);function qu(){ti.call(this),this.status=1}U(qu,ti);function Jr(c){this.g=c}U(Jr,ju),Jr.prototype.ua=function(){Lt(this.g,"a")},Jr.prototype.ta=function(c){Lt(this.g,new Bu(c))},Jr.prototype.sa=function(c){Lt(this.g,new qu)},Jr.prototype.ra=function(){Lt(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,H0=function(){return new Ls},q0=function(){return sr()},B0=Nn,Sm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ue.NO_ERROR=0,ue.TIMEOUT=8,ue.HTTP_ERROR=6,Zc=ue,ce.COMPLETE="complete",j0=ce,Pi.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",xt.prototype.listen=xt.prototype.K,Fl=Pi,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,z0=wt}).apply(typeof Qc<"u"?Qc:typeof self<"u"?self:typeof window<"u"?window:{});const eE="@firebase/firestore";class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");let Vo="10.14.0";const ys=new Jm("@firebase/firestore");function jl(){return ys.logLevel}function Te(r,...e){if(ys.logLevel<=et.DEBUG){const n=e.map(Zm);ys.debug(`Firestore (${Vo}): ${r}`,...n)}}function xr(r,...e){if(ys.logLevel<=et.ERROR){const n=e.map(Zm);ys.error(`Firestore (${Vo}): ${r}`,...n)}}function Ao(r,...e){if(ys.logLevel<=et.WARN){const n=e.map(Zm);ys.warn(`Firestore (${Vo}): ${r}`,...n)}}function Zm(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Me(r="Unexpected state"){const e=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: `+r;throw xr(e),new Error(e)}function pt(r,e){r||Me()}function ke(r,e){return r}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class F0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $I{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(In.UNAUTHENTICATED)))}shutdown(){}}class WI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class ZI{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pt(this.o===void 0);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Mr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Mr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(pt(typeof a.accessToken=="string"),new F0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string"),new In(e)}}class e1{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=In.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class t1{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new e1(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(In.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class n1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class i1{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){pt(this.o===void 0);const a=u=>{u.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,Te("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(pt(typeof n.token=="string"),this.R=n.token,new n1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function r1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}class G0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const o=r1(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%e.length))}return a}}function ot(r,e){return r<e?-1:r>e?1:0}function bo(r,e,n){return r.length===e.length&&r.every(((a,o)=>n(a,e[o])))}class nn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ve(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nn.fromMillis(Date.now())}static fromDate(e){return nn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*n));return new nn(n,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new nn(0,0))}static max(){return new Pe(new nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class iu{constructor(e,n,a){n===void 0?n=0:n>e.length&&Me(),a===void 0?a=e.length-n:a>e.length-n&&Me(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return iu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof iu?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=e.get(o),f=n.get(o);if(u<f)return-1;if(u>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ct extends iu{construct(e,n,a){return new Ct(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new ve(ne.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new Ct(n)}static emptyPath(){return new Ct([])}}const a1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends iu{construct(e,n,a){return new _n(e,n,a)}static isValidIdentifier(e){return a1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _n(["__name__"])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new ve(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ve(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new ve(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(n)}static emptyPath(){return new _n([])}}class Re{constructor(e){this.path=e}static fromPath(e){return new Re(Ct.fromString(e))}static fromName(e){return new Re(Ct.fromString(e).popFirst(5))}static empty(){return new Re(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new Ct(e.slice()))}}function s1(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Pe.fromTimestamp(a===1e9?new nn(n+1,0):new nn(n,a));return new Va(o,Re.empty(),e)}function o1(r){return new Va(r.readTime,r.key,-1)}class Va{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Va(Pe.min(),Re.empty(),-1)}static max(){return new Va(Pe.max(),Re.empty(),-1)}}function l1(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(r.documentKey,e.documentKey),n!==0?n:ot(r.largestBatchId,e.largestBatchId))}const u1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class c1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function gu(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==u1)throw r;Te("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,a)=>{n(e)}))}static reject(e){return new re(((n,a)=>{a(e)}))}static waitFor(e){return new re(((n,a)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>a(p)))})),f=!0,u===o&&n()}))}static or(e){let n=re.resolve(!1);for(const a of e)n=n.next((o=>o?re.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,u)=>{a.push(n.call(this,o,u))})),this.waitFor(a)}static mapArray(e,n){return new re(((a,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((E=>{f[y]=E,++m,m===u&&a(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new re(((a,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):a()};u()}))}}function h1(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yu(r){return r.name==="IndexedDbTransactionError"}class ep{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ie(a),this.se=a=>n.writeSequenceNumber(a))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ep.oe=-1;function Mh(r){return r==null}function mh(r){return r===0&&1/r==-1/0}function f1(r){return typeof r=="number"&&Number.isInteger(r)&&!mh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function tE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function xo(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function K0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Mt{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new Mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yc(this.root,e,this.comparator,!0)}}class Yc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??vn.RED,this.left=o??vn.EMPTY,this.right=u??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new vn(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return vn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Me();const e=this.left.check();if(e!==this.right.check())throw Me();return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me()}get value(){throw Me()}get color(){throw Me()}get left(){throw Me()}get right(){throw Me()}copy(e,n,a,o,u){return this}insert(e,n,a){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class En{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nE(this.data.getIterator())}getIteratorFrom(e){return new nE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof En)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new En(this.comparator);return n.data=e,n}}class nE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mi{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new Mi([])}unionWith(e){let n=new En(_n.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Mi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class Q0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Q0("Invalid base64 string: "+u):u}})(e);return new Tn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tn.EMPTY_BYTE_STRING=new Tn("");const d1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xa(r){if(pt(!!r),typeof r=="string"){let e=0;const n=d1.exec(r);if(pt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ht(r.seconds),nanos:Ht(r.nanos)}}function Ht(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function vs(r){return typeof r=="string"?Tn.fromBase64String(r):Tn.fromUint8Array(r)}function tp(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function np(r){const e=r.mapValue.fields.__previous_value__;return tp(e)?np(e):e}function ru(r){const e=xa(r.mapValue.fields.__local_write_time__.timestampValue);return new nn(e.seconds,e.nanos)}class m1{constructor(e,n,a,o,u,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}class au{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new au("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}const Xc={mapValue:{}};function _s(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?tp(r)?4:g1(r)?9007199254740991:p1(r)?10:11:Me()}function Zi(r,e){if(r===e)return!0;const n=_s(r);if(n!==_s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ru(r).isEqual(ru(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=xa(o.timestampValue),m=xa(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return vs(o.bytesValue).isEqual(vs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Ht(o.geoPointValue.latitude)===Ht(u.geoPointValue.latitude)&&Ht(o.geoPointValue.longitude)===Ht(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ht(o.integerValue)===Ht(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ht(o.doubleValue),m=Ht(u.doubleValue);return f===m?mh(f)===mh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return bo(r.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(tE(f)!==tE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Zi(f[p],m[p])))return!1;return!0})(r,e);default:return Me()}}function su(r,e){return(r.values||[]).find((n=>Zi(n,e)))!==void 0}function wo(r,e){if(r===e)return 0;const n=_s(r),a=_s(e);if(n!==a)return ot(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return ot(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Ht(u.integerValue||u.doubleValue),p=Ht(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return iE(r.timestampValue,e.timestampValue);case 4:return iE(ru(r),ru(e));case 5:return ot(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=vs(u),p=vs(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=ot(m[y],p[y]);if(E!==0)return E}return ot(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=ot(Ht(u.latitude),Ht(f.latitude));return m!==0?m:ot(Ht(u.longitude),Ht(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return rE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){var m,p,y,E;const T=u.fields||{},R=f.fields||{},D=(m=T.value)===null||m===void 0?void 0:m.arrayValue,U=(p=R.value)===null||p===void 0?void 0:p.arrayValue,H=ot(((y=D?.values)===null||y===void 0?void 0:y.length)||0,((E=U?.values)===null||E===void 0?void 0:E.length)||0);return H!==0?H:rE(D,U)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Xc.mapValue&&f===Xc.mapValue)return 0;if(u===Xc.mapValue)return 1;if(f===Xc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const R=ot(p[T],E[T]);if(R!==0)return R;const D=wo(m[p[T]],y[E[T]]);if(D!==0)return D}return ot(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Me()}}function iE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ot(r,e);const n=xa(r),a=xa(e),o=ot(n.seconds,a.seconds);return o!==0?o:ot(n.nanos,a.nanos)}function rE(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=wo(n[o],a[o]);if(u)return u}return ot(n.length,a.length)}function Ro(r){return Am(r)}function Am(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=xa(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return vs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Re.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Am(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${Am(n.fields[f])}`;return o+"}"})(r.mapValue):Me()}function aE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function bm(r){return!!r&&"integerValue"in r}function ip(r){return!!r&&"arrayValue"in r}function sE(r){return!!r&&"nullValue"in r}function oE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function eh(r){return!!r&&"mapValue"in r}function p1(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Yl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return xo(r.mapValue.fields,((n,a)=>e.mapValue.fields[n]=Yl(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function g1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class wi{constructor(e){this.value=e}static empty(){return new wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=_n.emptyPath(),a={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=Yl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){xo(n,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new wi(Yl(this.value))}}function Y0(r){const e=[];return xo(r.fields,((n,a)=>{const o=new _n([n]);if(eh(a)){const u=Y0(a.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Mi(e)}class Cn{constructor(e,n,a,o,u,f,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Cn(e,0,Pe.min(),Pe.min(),Pe.min(),wi.empty(),0)}static newFoundDocument(e,n,a,o){return new Cn(e,1,n,Pe.min(),a,o,0)}static newNoDocument(e,n){return new Cn(e,2,n,Pe.min(),Pe.min(),wi.empty(),0)}static newUnknownDocument(e,n){return new Cn(e,3,n,Pe.min(),Pe.min(),wi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ph{constructor(e,n){this.position=e,this.inclusive=n}}function lE(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?a=Re.comparator(Re.fromName(f.referenceValue),n.key):a=wo(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function uE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Zi(r.position[n],e.position[n]))return!1;return!0}class ou{constructor(e,n="asc"){this.field=e,this.dir=n}}function y1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class X0{}class Wt extends X0{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new _1(e,n,a):n==="array-contains"?new S1(e,a):n==="in"?new A1(e,a):n==="not-in"?new b1(e,a):n==="array-contains-any"?new w1(e,a):new Wt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new E1(e,a):new T1(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(wo(n,this.value)):n!==null&&_s(this.value)===_s(n)&&this.matchesComparison(wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends X0{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new xi(e,n)}matches(e){return J0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function J0(r){return r.op==="and"}function $0(r){return v1(r)&&J0(r)}function v1(r){for(const e of r.filters)if(e instanceof xi)return!1;return!0}function wm(r){if(r instanceof Wt)return r.field.canonicalString()+r.op.toString()+Ro(r.value);if($0(r))return r.filters.map((e=>wm(e))).join(",");{const e=r.filters.map((n=>wm(n))).join(",");return`${r.op}(${e})`}}function W0(r,e){return r instanceof Wt?(function(a,o){return o instanceof Wt&&a.op===o.op&&a.field.isEqual(o.field)&&Zi(a.value,o.value)})(r,e):r instanceof xi?(function(a,o){return o instanceof xi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,f,m)=>u&&W0(f,o.filters[m])),!0):!1})(r,e):void Me()}function Z0(r){return r instanceof Wt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ro(n.value)}`})(r):r instanceof xi?(function(n){return n.op.toString()+" {"+n.getFilters().map(Z0).join(" ,")+"}"})(r):"Filter"}class _1 extends Wt{constructor(e,n,a){super(e,n,a),this.key=Re.fromName(a.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class E1 extends Wt{constructor(e,n){super(e,"in",n),this.keys=eT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class T1 extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=eT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function eT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((a=>Re.fromName(a.referenceValue)))}class S1 extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ip(n)&&su(n.arrayValue,this.value)}}class A1 extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&su(this.value.arrayValue,n)}}class b1 extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!su(this.value.arrayValue,n)}}class w1 extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ip(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>su(this.value.arrayValue,a)))}}class R1{constructor(e,n=null,a=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.ue=null}}function cE(r,e=null,n=[],a=[],o=null,u=null,f=null){return new R1(r,e,n,a,o,u,f)}function rp(r){const e=ke(r);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>wm(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),Mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>Ro(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>Ro(a))).join(",")),e.ue=n}return e.ue}function ap(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!y1(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!W0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!uE(r.startAt,e.startAt)&&uE(r.endAt,e.endAt)}function Rm(r){return Re.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Lo{constructor(e,n=null,a=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function I1(r,e,n,a,o,u,f,m){return new Lo(r,e,n,a,o,u,f,m)}function sp(r){return new Lo(r)}function hE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function tT(r){return r.collectionGroup!==null}function Xl(r){const e=ke(r);if(e.ce===null){e.ce=[];const n=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new En(_n.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.ce.push(new ou(u,a))})),n.has(_n.keyField().canonicalString())||e.ce.push(new ou(_n.keyField(),a))}return e.ce}function Xi(r){const e=ke(r);return e.le||(e.le=C1(e,Xl(r))),e.le}function C1(r,e){if(r.limitType==="F")return cE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new ou(o.field,u)}));const n=r.endAt?new ph(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new ph(r.startAt.position,r.startAt.inclusive):null;return cE(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function Im(r,e){const n=r.filters.concat([e]);return new Lo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Cm(r,e,n){return new Lo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Vh(r,e){return ap(Xi(r),Xi(e))&&r.limitType===e.limitType}function nT(r){return`${rp(Xi(r))}|lt:${r.limitType}`}function ho(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>Z0(o))).join(", ")}]`),Mh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>Ro(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>Ro(o))).join(",")),`Target(${a})`})(Xi(r))}; limitType=${r.limitType})`}function xh(r,e){return e.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Re.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,e)&&(function(a,o){for(const u of Xl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(f,m,p){const y=lE(f,m,p);return f.inclusive?y<=0:y<0})(a.startAt,Xl(a),o)||a.endAt&&!(function(f,m,p){const y=lE(f,m,p);return f.inclusive?y>=0:y>0})(a.endAt,Xl(a),o))})(r,e)}function D1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function iT(r){return(e,n)=>{let a=!1;for(const o of Xl(r)){const u=O1(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function O1(r,e,n){const a=r.field.isKeyField()?Re.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?wo(p,y):Me()})(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Me()}}class Uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xo(this.inner,((n,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return K0(this.inner)}size(){return this.innerSize}}const N1=new Mt(Re.comparator);function Lr(){return N1}const rT=new Mt(Re.comparator);function Gl(...r){let e=rT;for(const n of r)e=e.insert(n.key,n);return e}function aT(r){let e=rT;return r.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function ds(){return Jl()}function sT(){return Jl()}function Jl(){return new Uo((r=>r.toString()),((r,e)=>r.isEqual(e)))}const M1=new Mt(Re.comparator),V1=new En(Re.comparator);function We(...r){let e=V1;for(const n of r)e=e.add(n);return e}const x1=new En(ot);function L1(){return x1}function op(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function oT(r){return{integerValue:""+r}}function U1(r,e){return f1(e)?oT(e):op(r,e)}class Lh{constructor(){this._=void 0}}function P1(r,e,n){return r instanceof lu?(function(o,u){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&tp(u)&&(u=np(u)),u&&(f.fields.__previous_value__=u),{mapValue:f}})(n,e):r instanceof uu?uT(r,e):r instanceof cu?cT(r,e):(function(o,u){const f=lT(o,u),m=fE(f)+fE(o.Pe);return bm(f)&&bm(o.Pe)?oT(m):op(o.serializer,m)})(r,e)}function k1(r,e,n){return r instanceof uu?uT(r,e):r instanceof cu?cT(r,e):n}function lT(r,e){return r instanceof gh?(function(a){return bm(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class lu extends Lh{}class uu extends Lh{constructor(e){super(),this.elements=e}}function uT(r,e){const n=hT(e);for(const a of r.elements)n.some((o=>Zi(o,a)))||n.push(a);return{arrayValue:{values:n}}}class cu extends Lh{constructor(e){super(),this.elements=e}}function cT(r,e){let n=hT(e);for(const a of r.elements)n=n.filter((o=>!Zi(o,a)));return{arrayValue:{values:n}}}class gh extends Lh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function fE(r){return Ht(r.integerValue||r.doubleValue)}function hT(r){return ip(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class z1{constructor(e,n){this.field=e,this.transform=n}}function j1(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof uu&&o instanceof uu||a instanceof cu&&o instanceof cu?bo(a.elements,o.elements,Zi):a instanceof gh&&o instanceof gh?Zi(a.Pe,o.Pe):a instanceof lu&&o instanceof lu})(r.transform,e.transform)}class B1{constructor(e,n){this.version=e,this.transformResults=n}}class Vi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Uh{}function fT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new lp(r.key,Vi.none()):new vu(r.key,r.data,Vi.none());{const n=r.data,a=wi.empty();let o=new En(_n.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new Ss(r.key,a,new Mi(o.toArray()),Vi.none())}}function q1(r,e,n){r instanceof vu?(function(o,u,f){const m=o.value.clone(),p=mE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Ss?(function(o,u,f){if(!th(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=mE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(dT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function $l(r,e,n,a){return r instanceof vu?(function(u,f,m,p){if(!th(u.precondition,f))return m;const y=u.value.clone(),E=pE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,a):r instanceof Ss?(function(u,f,m,p){if(!th(u.precondition,f))return m;const y=pE(u.fieldTransforms,p,f),E=f.data;return E.setAll(dT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,a):(function(u,f,m){return th(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function H1(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=lT(a.transform,o||null);u!=null&&(n===null&&(n=wi.empty()),n.set(a.field,u))}return n||null}function dE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&bo(a,o,((u,f)=>j1(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class vu extends Uh{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ss extends Uh{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function dT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}})),e}function mE(r,e,n){const a=new Map;pt(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);a.set(u.field,k1(f,m,n[o]))}return a}function pE(r,e,n){const a=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);a.set(o.field,P1(u,f,e))}return a}class lp extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F1 extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class G1{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&q1(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=$l(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=$l(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=sT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=fT(f,m);p!==null&&a.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Pe.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),We())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,((n,a)=>dE(n,a)))&&bo(this.baseMutations,e.baseMutations,((n,a)=>dE(n,a)))}}class up{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){pt(e.mutations.length===a.length);let o=(function(){return M1})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new up(e,n,a,o)}}class K1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Q1{constructor(e,n){this.count=e,this.unchangedNames=n}}var Jt,nt;function Y1(r){switch(r){default:return Me();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function mT(r){if(r===void 0)return xr("GRPC error has no .code"),ne.UNKNOWN;switch(r){case Jt.OK:return ne.OK;case Jt.CANCELLED:return ne.CANCELLED;case Jt.UNKNOWN:return ne.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return ne.INTERNAL;case Jt.UNAVAILABLE:return ne.UNAVAILABLE;case Jt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Jt.NOT_FOUND:return ne.NOT_FOUND;case Jt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Jt.ABORTED:return ne.ABORTED;case Jt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Jt.DATA_LOSS:return ne.DATA_LOSS;default:return Me()}}(nt=Jt||(Jt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";function X1(){return new TextEncoder}const J1=new ms([4294967295,4294967295],0);function gE(r){const e=X1().encode(r),n=new k0;return n.update(e),new Uint8Array(n.digest())}function yE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ms([n,a],0),new ms([o,u],0)]}class cp{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(a<0)throw new Kl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ms.fromNumber(this.Ie)}Ee(e,n,a){let o=e.add(n.multiply(ms.fromNumber(a)));return o.compare(J1)===1&&(o=new ms([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=gE(e),[a,o]=yE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ee(a,o,u);if(!this.de(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new cp(u,o,n);return a.forEach((m=>f.insert(m))),f}insert(e){if(this.Ie===0)return;const n=gE(e),[a,o]=yE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ee(a,o,u);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ph{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Ph(Pe.min(),o,new Mt(ot),Lr(),We())}}class _u{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new _u(a,n,We(),We(),We())}}class nh{constructor(e,n,a,o){this.Re=e,this.removedTargetIds=n,this.key=a,this.Ve=o}}class pT{constructor(e,n){this.targetId=e,this.me=n}}class gT{constructor(e,n,a=Tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class vE{constructor(){this.fe=0,this.ge=EE(),this.pe=Tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=We(),n=We(),a=We();return this.ge.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Me()}})),new _u(this.pe,this.ye,e,n,a)}Ce(){this.we=!1,this.ge=EE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,pt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class $1{constructor(e){this.Le=e,this.Be=new Map,this.ke=Lr(),this.qe=_E(),this.Qe=new Mt(ot)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const a=this.Ge(n);switch(e.state){case 0:this.ze(n)&&a.De(e.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(e.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(a.Ne(),a.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),a.De(e.resumeToken));break;default:Me()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((a,o)=>{this.ze(o)&&n(o)}))}He(e){const n=e.targetId,a=e.me.count,o=this.Je(n);if(o){const u=o.target;if(Rm(u))if(a===0){const f=new Re(u.path);this.Ue(n,f,Cn.newNoDocument(f,Pe.min()))}else pt(a===1);else{const f=this.Ye(n);if(f!==a){const m=this.Ze(e),p=m?this.Xe(m,e,f):1;if(p!==0){this.je(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,y)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=vs(a).toUint8Array()}catch(p){if(p instanceof Q0)return Ao("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new cp(f,o,u)}catch(p){return Ao(p instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ie===0?null:m}Xe(e,n,a){return n.me.count===a-this.nt(e,n.targetId)?0:2}nt(e,n){const a=this.Le.getRemoteKeysForTarget(n);let o=0;return a.forEach((u=>{const f=this.Le.tt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Ue(n,u,null),o++)})),o}rt(e){const n=new Map;this.Be.forEach(((u,f)=>{const m=this.Je(f);if(m){if(u.current&&Rm(m.target)){const p=new Re(m.target.path);this.ke.get(p)!==null||this.it(f,p)||this.Ue(f,p,Cn.newNoDocument(p,e))}u.be&&(n.set(f,u.ve()),u.Ce())}}));let a=We();this.qe.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.Je(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(u))})),this.ke.forEach(((u,f)=>f.setReadTime(e)));const o=new Ph(e,n,this.Qe,this.ke,a);return this.ke=Lr(),this.qe=_E(),this.Qe=new Mt(ot),o}$e(e,n){if(!this.ze(e))return;const a=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,a),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,a){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),a&&(this.ke=this.ke.insert(n,a))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new vE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new En(ot),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new vE),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function _E(){return new Mt(Re.comparator)}function EE(){return new Mt(Re.comparator)}const W1={asc:"ASCENDING",desc:"DESCENDING"},Z1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eC={and:"AND",or:"OR"};class tC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dm(r,e){return r.useProto3Json||Mh(e)?e:{value:e}}function yh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function nC(r,e){return yh(r,e.toTimestamp())}function Ji(r){return pt(!!r),Pe.fromTimestamp((function(n){const a=xa(n);return new nn(a.seconds,a.nanos)})(r))}function hp(r,e){return Om(r,e).canonicalString()}function Om(r,e){const n=(function(o){return new Ct(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function vT(r){const e=Ct.fromString(r);return pt(AT(e)),e}function Nm(r,e){return hp(r.databaseId,e.path)}function om(r,e){const n=vT(e);if(n.get(1)!==r.databaseId.projectId)throw new ve(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ve(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Re(ET(n))}function _T(r,e){return hp(r.databaseId,e)}function iC(r){const e=vT(r);return e.length===4?Ct.emptyPath():ET(e)}function Mm(r){return new Ct(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ET(r){return pt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function TE(r,e,n){return{name:Nm(r,e),fields:n.value.mapValue.fields}}function rC(r,e){let n;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Me()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(pt(E===void 0||typeof E=="string"),Tn.fromBase64String(E||"")):(pt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Tn.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?ne.UNKNOWN:mT(y.code);return new ve(E,y.message||"")})(f);n=new gT(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=om(r,a.document.name),u=Ji(a.document.updateTime),f=a.document.createTime?Ji(a.document.createTime):Pe.min(),m=new wi({mapValue:{fields:a.document.fields}}),p=Cn.newFoundDocument(o,u,f,m),y=a.targetIds||[],E=a.removedTargetIds||[];n=new nh(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=om(r,a.document),u=a.readTime?Ji(a.readTime):Pe.min(),f=Cn.newNoDocument(o,u),m=a.removedTargetIds||[];n=new nh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=om(r,a.document),u=a.removedTargetIds||[];n=new nh([],u,o,null)}else{if(!("filter"in e))return Me();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new Q1(o,u),m=a.targetId;n=new pT(m,f)}}return n}function aC(r,e){let n;if(e instanceof vu)n={update:TE(r,e.key,e.value)};else if(e instanceof lp)n={delete:Nm(r,e.key)};else if(e instanceof Ss)n={update:TE(r,e.key,e.data),updateMask:mC(e.fieldMask)};else{if(!(e instanceof F1))return Me();n={verify:Nm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(u,f){const m=f.transform;if(m instanceof lu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof uu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof cu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof gh)return{fieldPath:f.field.canonicalString(),increment:m.Pe};throw Me()})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:nC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Me()})(r,e.precondition)),n}function sC(r,e){return r&&r.length>0?(pt(e!==void 0),r.map((n=>(function(o,u){let f=o.updateTime?Ji(o.updateTime):Ji(u);return f.isEqual(Pe.min())&&(f=Ji(u)),new B1(f,o.transformResults||[])})(n,e)))):[]}function oC(r,e){return{documents:[_T(r,e.path)]}}function lC(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=_T(r,o);const u=(function(y){if(y.length!==0)return ST(xi.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(R){return{field:fo(R.field),direction:hC(R.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Dm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{_t:n,parent:o}}function uC(r){let e=iC(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){pt(a===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const R=TT(T);return R instanceof xi&&$0(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((R=>(function(U){return new ou(mo(U.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let R;return R=typeof T=="object"?T.value:T,Mh(R)?null:R})(n.limit));let p=null;n.startAt&&(p=(function(T){const R=!!T.before,D=T.values||[];return new ph(D,R)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const R=!T.before,D=T.values||[];return new ph(D,R)})(n.endAt)),I1(e,o,f,u,m,"F",p,y)}function cC(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=mo(n.unaryFilter.field);return Wt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=mo(n.unaryFilter.field);return Wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=mo(n.unaryFilter.field);return Wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=mo(n.unaryFilter.field);return Wt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Me()}})(r):r.fieldFilter!==void 0?(function(n){return Wt.create(mo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Me()}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return xi.create(n.compositeFilter.filters.map((a=>TT(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Me()}})(n.compositeFilter.op))})(r):Me()}function hC(r){return W1[r]}function fC(r){return Z1[r]}function dC(r){return eC[r]}function fo(r){return{fieldPath:r.canonicalString()}}function mo(r){return _n.fromServerFormat(r.fieldPath)}function ST(r){return r instanceof Wt?(function(n){if(n.op==="=="){if(oE(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NAN"}};if(sE(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(oE(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NAN"}};if(sE(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(n.field),op:fC(n.op),value:n.value}}})(r):r instanceof xi?(function(n){const a=n.getFilters().map((o=>ST(o)));return a.length===1?a[0]:{compositeFilter:{op:dC(n.op),filters:a}}})(r):Me()}function mC(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function AT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Ia{constructor(e,n,a,o,u=Pe.min(),f=Pe.min(),m=Tn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Ia(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class pC{constructor(e){this.ct=e}}function gC(r){const e=uC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Cm(e,e.limit,"L"):e}class yC{constructor(){this.un=new vC}addToCollectionParentIndex(e,n){return this.un.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Va.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Va.min())}updateCollectionGroup(e,n,a){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class vC{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new En(Ct.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new En(Ct.comparator)).toArray()}}class Io{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Io(0)}static kn(){return new Io(-1)}}class _C{constructor(){this.changes=new Uo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?re.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class EC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class TC{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&$l(a.mutation,o,Mi.empty(),nn.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,We()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=We()){const o=ds();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((u=>{let f=Gl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const a=ds();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,We())))}populateOverlays(e,n,a){const o=[];return a.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,a,o){let u=Lr();const f=Jl(),m=(function(){return Jl()})();return n.forEach(((p,y)=>{const E=a.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ss)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),$l(E.mutation,y,E.mutation.getFieldMask(),nn.now())):f.set(y.key,Mi.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>{var T;return m.set(y,new EC(E,(T=f.get(y))!==null&&T!==void 0?T:null))})),m)))}recalculateAndSaveOverlays(e,n){const a=Jl();let o=new Mt(((f,m)=>f-m)),u=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=a.get(p)||Mi.empty();E=m.applyToLocalView(y,E),a.set(p,E);const T=(o.get(m.batchId)||We()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,T=sT();E.forEach((R=>{if(!u.has(R)){const D=fT(n.get(R),a.get(R));D!==null&&T.set(R,D),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,T))}return re.waitFor(f)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return(function(f){return Re.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):re.resolve(ds());let m=-1,p=u;return f.next((y=>re.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?re.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{p=p.insert(E,R)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,We()))).next((E=>({batchId:m,changes:aT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next((a=>{let o=Gl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=Gl();return this.indexManager.getCollectionParents(e,u).next((m=>re.forEach(m,(p=>{const y=(function(T,R){return new Lo(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next((E=>{E.forEach(((T,R)=>{f=f.insert(T,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Cn.newInvalidDocument(E)))}));let m=Gl();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&$l(E.mutation,y,Mi.empty(),nn.now()),xh(n,y)&&(m=m.insert(p,y))})),m}))}}class SC{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return re.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ji(o.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(o){return{name:o.name,query:gC(o.bundledQuery),readTime:Ji(o.readTime)}})(n)),re.resolve()}}class AC{constructor(){this.overlays=new Mt(Re.comparator),this.Ir=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const a=ds();return re.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,u)=>{this.ht(e,n,u)})),re.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Ir.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Ir.delete(a)),re.resolve()}getOverlaysForCollection(e,n,a){const o=ds(),u=n.length+1,f=new Re(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return re.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new Mt(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>a){let E=u.get(y.largestBatchId);E===null&&(E=ds(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=ds(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return re.resolve(m)}ht(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Ir.get(o.largestBatchId).delete(a.key);this.Ir.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new K1(n,a));let u=this.Ir.get(n);u===void 0&&(u=We(),this.Ir.set(n,u)),this.Ir.set(n,u.add(a.key))}}class bC{constructor(){this.sessionToken=Tn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}class fp{constructor(){this.Tr=new En(cn.Er),this.dr=new En(cn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const a=new cn(e,n);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Vr(new cn(e,n))}mr(e,n){e.forEach((a=>this.removeReference(a,n)))}gr(e){const n=new Re(new Ct([])),a=new cn(n,e),o=new cn(n,e+1),u=[];return this.dr.forEachInRange([a,o],(f=>{this.Vr(f),u.push(f.key)})),u}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Re(new Ct([])),a=new cn(n,e),o=new cn(n,e+1);let u=We();return this.dr.forEachInRange([a,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new cn(e,0),a=this.Tr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class cn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Re.comparator(e.key,n.key)||ot(e.wr,n.wr)}static Ar(e,n){return ot(e.wr,n.wr)||Re.comparator(e.key,n.key)}}class wC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new En(cn.Er)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new G1(u,n,a,o);this.mutationQueue.push(f);for(const m of o)this.br=this.br.add(new cn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(f)}lookupMutationBatch(e,n){return re.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.vr(a),u=o<0?0:o;return re.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new cn(n,0),o=new cn(n,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([a,o],(f=>{const m=this.Dr(f.wr);u.push(m)})),re.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new En(ot);return n.forEach((o=>{const u=new cn(o,0),f=new cn(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,f],(m=>{a=a.add(m.wr)}))})),re.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;Re.isDocumentKey(u)||(u=u.child(""));const f=new cn(new Re(u),0);let m=new En(ot);return this.br.forEachWhile((p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.wr)),!0)}),f),re.resolve(this.Cr(m))}Cr(e){const n=[];return e.forEach((a=>{const o=this.Dr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){pt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.br;return re.forEach(n.mutations,(o=>{const u=new cn(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=a}))}On(e){}containsKey(e,n){const a=new cn(n,0),o=this.br.firstAfterOrEqual(a);return re.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class RC{constructor(e){this.Mr=e,this.docs=(function(){return new Mt(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.Mr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return re.resolve(a?a.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let a=Lr();return n.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Cn.newInvalidDocument(o))})),re.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=Lr();const f=n.path,m=new Re(f.child("")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||l1(o1(E),a)<=0||(o.has(E.key)||xh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return re.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Me()}Or(e,n){return re.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new IC(this)}getSize(e){return re.resolve(this.size)}}class IC extends _C{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(e,o)):this.cr.removeEntry(a)})),re.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}class CC{constructor(e){this.persistence=e,this.Nr=new Uo((n=>rp(n)),ap),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new fp,this.targetCount=0,this.kr=Io.Bn()}forEachTarget(e,n){return this.Nr.forEach(((a,o)=>n(o))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.Lr&&(this.Lr=n),re.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Io(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Kn(n),re.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.Nr.forEach(((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.Nr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),re.waitFor(u).next((()=>o))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const a=this.Nr.get(n)||null;return re.resolve(a)}addMatchingKeys(e,n,a){return this.Br.Rr(n,a),re.resolve()}removeMatchingKeys(e,n,a){this.Br.mr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),re.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Br.yr(n);return re.resolve(a)}containsKey(e,n){return re.resolve(this.Br.containsKey(n))}}class DC{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ep(0),this.Kr=!1,this.Kr=!0,this.$r=new bC,this.referenceDelegate=e(this),this.Ur=new CC(this),this.indexManager=new yC,this.remoteDocumentCache=(function(o){return new RC(o)})((a=>this.referenceDelegate.Wr(a))),this.serializer=new pC(n),this.Gr=new SC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new AC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.qr[e.toKey()];return a||(a=new wC(n,this.referenceDelegate),this.qr[e.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,a){Te("MemoryPersistence","Starting transaction:",e);const o=new OC(this.Qr.next());return this.referenceDelegate.zr(),a(o).next((u=>this.referenceDelegate.jr(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Hr(e,n){return re.or(Object.values(this.qr).map((a=>()=>a.containsKey(e,n))))}}class OC extends c1{constructor(e){super(),this.currentSequenceNumber=e}}class dp{constructor(e){this.persistence=e,this.Jr=new fp,this.Yr=null}static Zr(e){return new dp(e)}get Xr(){if(this.Yr)return this.Yr;throw Me()}addReference(e,n,a){return this.Jr.addReference(a,n),this.Xr.delete(a.toString()),re.resolve()}removeReference(e,n,a){return this.Jr.removeReference(a,n),this.Xr.add(a.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),re.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((o=>this.Xr.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.Xr.add(u.toString())))})).next((()=>a.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Xr,(a=>{const o=Re.fromPath(a);return this.ei(e,o).next((u=>{u||n.removeEntry(o,Pe.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((a=>{a?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return re.or([()=>re.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class mp{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.$i=a,this.Ui=o}static Wi(e,n){let a=We(),o=We();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new mp(e,n.fromCache,a,o)}}class NC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class MC{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return MR()?8:h1(Dn())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.Yi(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.Zi(e,n,o,a).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new NC;return this.Xi(e,n,f).next((m=>{if(u.result=m,this.zi)return this.es(e,n,f,m.size)}))})).next((()=>u.result))}es(e,n,a,o){return a.documentReadCount<this.ji?(jl()<=et.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),re.resolve()):(jl()<=et.DEBUG&&Te("QueryEngine","Query:",ho(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.Hi*o?(jl()<=et.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xi(n))):re.resolve())}Yi(e,n){if(hE(n))return re.resolve(null);let a=Xi(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Cm(n,null,"F"),a=Xi(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const f=We(...u);return this.Ji.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,a).next((p=>{const y=this.ts(n,m);return this.ns(n,y,f,p.readTime)?this.Yi(e,Cm(n,null,"F")):this.rs(e,y,n,p)}))))})))))}Zi(e,n,a,o){return hE(n)||o.isEqual(Pe.min())?re.resolve(null):this.Ji.getDocuments(e,a).next((u=>{const f=this.ts(n,u);return this.ns(n,f,a,o)?re.resolve(null):(jl()<=et.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ho(n)),this.rs(e,f,n,s1(o,-1)).next((m=>m)))}))}ts(e,n){let a=new En(iT(e));return n.forEach(((o,u)=>{xh(e,u)&&(a=a.add(u))})),a}ns(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Xi(e,n,a){return jl()<=et.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",ho(n)),this.Ji.getDocumentsMatchingQuery(e,n,Va.min(),a)}rs(e,n,a,o){return this.Ji.getDocumentsMatchingQuery(e,a,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}class VC{constructor(e,n,a,o){this.persistence=e,this.ss=n,this.serializer=o,this.os=new Mt(ot),this._s=new Uo((u=>rp(u)),ap),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(a)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TC(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function xC(r,e,n,a){return new VC(r,e,n,a)}async function bT(r,e){const n=ke(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,n.ls(e),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const f=[],m=[];let p=We();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(a,p).next((y=>({hs:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function LC(r,e){const n=ke(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),u=n.cs.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const T=y.batch,R=T.keys();let D=re.resolve();return R.forEach((U=>{D=D.next((()=>E.getEntry(p,U))).next((H=>{const K=y.docVersions.get(U);pt(K!==null),H.version.compareTo(K)<0&&(T.applyToRemoteDocument(H,y),H.isValidDocument()&&(H.setReadTime(y.commitVersion),E.addEntry(H)))}))})),D.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,a,e,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let p=We();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function wT(r){const e=ke(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function UC(r,e){const n=ke(r),a=e.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const m=[];e.targetChanges.forEach(((E,T)=>{const R=o.get(T);if(!R)return;m.push(n.Ur.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Ur.addMatchingKeys(u,E.addedDocuments,T))));let D=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?D=D.withResumeToken(Tn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,a)),o=o.insert(T,D),(function(H,K,he){return H.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8?!0:he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0})(R,D,E)&&m.push(n.Ur.updateTargetData(u,D))}));let p=Lr(),y=We();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(PC(u,f,e.documentUpdates).next((E=>{p=E.Ps,y=E.Is}))),!a.isEqual(Pe.min())){const E=n.Ur.getLastRemoteSnapshotVersion(u).next((T=>n.Ur.setTargetsMetadata(u,u.currentSequenceNumber,a)));m.push(E)}return re.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.os=o,u)))}function PC(r,e,n){let a=We(),o=We();return n.forEach((u=>a=a.add(u))),e.getEntries(r,a).next((u=>{let f=Lr();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Pe.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):Te("LocalStore","Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{Ps:f,Is:o}}))}function kC(r,e){const n=ke(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function zC(r,e){const n=ke(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.Ur.getTargetData(a,e).next((u=>u?(o=u,re.resolve(o)):n.Ur.allocateTargetId(a).next((f=>(o=new Ia(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Ur.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.os.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(a.targetId,a),n._s.set(e,a.targetId)),a}))}async function Vm(r,e,n){const a=ke(r),o=a.os.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(f=>a.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!yu(f))throw f;Te("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}a.os=a.os.remove(e),a._s.delete(o.target)}function SE(r,e,n){const a=ke(r);let o=Pe.min(),u=We();return a.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const T=ke(p),R=T._s.get(E);return R!==void 0?re.resolve(T.os.get(R)):T.Ur.getTargetData(y,E)})(a,f,Xi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>a.ss.getDocumentsMatchingQuery(f,e,n?o:Pe.min(),n?u:We()))).next((m=>(jC(a,D1(e),m),{documents:m,Ts:u})))))}function jC(r,e,n){let a=r.us.get(e)||Pe.min();n.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.us.set(e,a)}class AE{constructor(){this.activeTargetIds=L1()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BC{constructor(){this.so=new AE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,a){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new AE,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qC{_o(e){}shutdown(){}}class bE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Jc=null;function lm(){return Jc===null?Jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jc++,"0x"+Jc.toString(16)}const HC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FC{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Rn="WebChannelConnection";class GC extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const a=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+n.host,this.vo=`projects/${o}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}get Fo(){return!1}Mo(n,a,o,u,f){const m=lm(),p=this.xo(n,a.toUriEncodedString());Te("RestConnection",`Sending RPC '${n}' ${m}:`,p,o);const y={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(y,u,f),this.No(n,p,y,o).then((E=>(Te("RestConnection",`Received RPC '${n}' ${m}: `,E),E)),(E=>{throw Ao("RestConnection",`RPC '${n}' ${m} failed with error: `,E,"url: ",p,"request:",o),E}))}Lo(n,a,o,u,f,m){return this.Mo(n,a,o,u,f)}Oo(n,a,o){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vo})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((u,f)=>n[f]=u)),o&&o.headers.forEach(((u,f)=>n[f]=u))}xo(n,a){const o=HC[n];return`${this.Do}/v1/${a}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,a,o){const u=lm();return new Promise(((f,m)=>{const p=new z0;p.setWithCredentials(!0),p.listenOnce(j0.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Zc.NO_ERROR:const E=p.getResponseJson();Te(Rn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Zc.TIMEOUT:Te(Rn,`RPC '${e}' ${u} timed out`),m(new ve(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const T=p.getStatus();if(Te(Rn,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const D=R?.error;if(D&&D.status&&D.message){const U=(function(K){const he=K.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(he)>=0?he:ne.UNKNOWN})(D.status);m(new ve(U,D.message))}else m(new ve(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ve(ne.UNAVAILABLE,"Connection failed."));break;default:Me()}}finally{Te(Rn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(o);Te(Rn,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",y,a,15)}))}Bo(e,n,a){const o=lm(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=H0(),m=q0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const E=u.join("");Te(Rn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);let R=!1,D=!1;const U=new FC({Io:K=>{D?Te(Rn,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(R||(Te(Rn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),R=!0),Te(Rn,`RPC '${e}' stream ${o} sending:`,K),T.send(K))},To:()=>T.close()}),H=(K,he,ae)=>{K.listen(he,(de=>{try{ae(de)}catch(be){setTimeout((()=>{throw be}),0)}}))};return H(T,Fl.EventType.OPEN,(()=>{D||(Te(Rn,`RPC '${e}' stream ${o} transport opened.`),U.yo())})),H(T,Fl.EventType.CLOSE,(()=>{D||(D=!0,Te(Rn,`RPC '${e}' stream ${o} transport closed`),U.So())})),H(T,Fl.EventType.ERROR,(K=>{D||(D=!0,Ao(Rn,`RPC '${e}' stream ${o} transport errored:`,K),U.So(new ve(ne.UNAVAILABLE,"The operation could not be completed")))})),H(T,Fl.EventType.MESSAGE,(K=>{var he;if(!D){const ae=K.data[0];pt(!!ae);const de=ae,be=de.error||((he=de[0])===null||he===void 0?void 0:he.error);if(be){Te(Rn,`RPC '${e}' stream ${o} received error:`,be);const Ve=be.status;let Le=(function(I){const O=Jt[I];if(O!==void 0)return mT(O)})(Ve),A=be.message;Le===void 0&&(Le=ne.INTERNAL,A="Unknown error status: "+Ve+" with message "+be.message),D=!0,U.So(new ve(Le,A)),T.close()}else Te(Rn,`RPC '${e}' stream ${o} received:`,ae),U.bo(ae)}})),H(m,B0.STAT_EVENT,(K=>{K.stat===Sm.PROXY?Te(Rn,`RPC '${e}' stream ${o} detected buffering proxy`):K.stat===Sm.NOPROXY&&Te(Rn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.wo()}),0),U}}function um(){return typeof document<"u"?document:null}function kh(r){return new tC(r,!0)}class RT{constructor(e,n,a=1e3,o=1.5,u=6e4){this.ui=e,this.timerId=n,this.ko=a,this.qo=o,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-a);o>0&&Te("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class IT{constructor(e,n,a,o,u,f,m,p){this.ui=e,this.Ho=a,this.Jo=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new RT(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(xr(n.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.Yo===n&&this.P_(a,o)}),(a=>{e((()=>{const o=new ve(ne.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(o)}))}))}P_(e,n){const a=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{a((()=>this.listener.Eo()))})),this.stream.Ro((()=>{a((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{a((()=>this.I_(o)))})),this.stream.onMessage((o=>{a((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(Te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class KC extends IT{constructor(e,n,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=rC(this.serializer,e),a=(function(u){if(!("targetChange"in u))return Pe.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Pe.min():f.readTime?Ji(f.readTime):Pe.min()})(e);return this.listener.d_(n,a)}A_(e){const n={};n.database=Mm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Rm(p)?{documents:oC(u,p)}:{query:lC(u,p)._t},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=yT(u,f.resumeToken);const y=Dm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Pe.min())>0){m.readTime=yh(u,f.snapshotVersion.toTimestamp());const y=Dm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const a=cC(this.serializer,e);a&&(n.labels=a),this.a_(n)}R_(e){const n={};n.database=Mm(this.serializer),n.removeTarget=e,this.a_(n)}}class QC extends IT{constructor(e,n,a,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return pt(!!e.streamToken),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=sC(e.writeResults,e.commitTime),a=Ji(e.commitTime);return this.listener.g_(a,n)}p_(){const e={};e.database=Mm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>aC(this.serializer,a)))};this.a_(n)}}class YC extends class{}{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new ve(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,a,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Mo(e,Om(n,a),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(ne.UNKNOWN,u.toString())}))}Lo(e,n,a,o,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Lo(e,Om(n,a),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ve(ne.UNKNOWN,f.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class XC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(xr(n),this.D_=!1):Te("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class JC{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o((f=>{a.enqueueAndForget((async()=>{As(this)&&(Te("RemoteStore","Restarting streams for network reachability change."),await(async function(p){const y=ke(p);y.L_.add(4),await Eu(y),y.q_.set("Unknown"),y.L_.delete(4),await zh(y)})(this))}))})),this.q_=new XC(a,o)}}async function zh(r){if(As(r))for(const e of r.B_)await e(!0)}async function Eu(r){for(const e of r.B_)await e(!1)}function CT(r,e){const n=ke(r);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),vp(n)?yp(n):Po(n).r_()&&gp(n,e))}function pp(r,e){const n=ke(r),a=Po(n);n.N_.delete(e),a.r_()&&DT(n,e),n.N_.size===0&&(a.r_()?a.o_():As(n)&&n.q_.set("Unknown"))}function gp(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Po(r).A_(e)}function DT(r,e){r.Q_.xe(e),Po(r).R_(e)}function yp(r){r.Q_=new $1({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),Po(r).start(),r.q_.v_()}function vp(r){return As(r)&&!Po(r).n_()&&r.N_.size>0}function As(r){return ke(r).L_.size===0}function OT(r){r.Q_=void 0}async function $C(r){r.q_.set("Online")}async function WC(r){r.N_.forEach(((e,n)=>{gp(r,e)}))}async function ZC(r,e){OT(r),vp(r)?(r.q_.M_(e),yp(r)):r.q_.set("Unknown")}async function eD(r,e,n){if(r.q_.set("Online"),e instanceof gT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.N_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.N_.delete(m),o.Q_.removeTarget(m))})(r,e)}catch(a){Te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),await vh(r,a)}else if(e instanceof nh?r.Q_.Ke(e):e instanceof pT?r.Q_.He(e):r.Q_.We(e),!n.isEqual(Pe.min()))try{const a=await wT(r.localStore);n.compareTo(a)>=0&&await(function(u,f){const m=u.Q_.rt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.N_.get(y);E&&u.N_.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.N_.get(p);if(!E)return;u.N_.set(p,E.withResumeToken(Tn.EMPTY_BYTE_STRING,E.snapshotVersion)),DT(u,p);const T=new Ia(E.target,p,y,E.sequenceNumber);gp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(a){Te("RemoteStore","Failed to raise snapshot:",a),await vh(r,a)}}async function vh(r,e,n){if(!yu(e))throw e;r.L_.add(1),await Eu(r),r.q_.set("Offline"),n||(n=()=>wT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Te("RemoteStore","Retrying IndexedDB access"),await n(),r.L_.delete(1),await zh(r)}))}function NT(r,e){return e().catch((n=>vh(r,n,e)))}async function jh(r){const e=ke(r),n=La(e);let a=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;tD(e);)try{const o=await kC(e.localStore,a);if(o===null){e.O_.length===0&&n.o_();break}a=o.batchId,nD(e,o)}catch(o){await vh(e,o)}MT(e)&&VT(e)}function tD(r){return As(r)&&r.O_.length<10}function nD(r,e){r.O_.push(e);const n=La(r);n.r_()&&n.V_&&n.m_(e.mutations)}function MT(r){return As(r)&&!La(r).n_()&&r.O_.length>0}function VT(r){La(r).start()}async function iD(r){La(r).p_()}async function rD(r){const e=La(r);for(const n of r.O_)e.m_(n.mutations)}async function aD(r,e,n){const a=r.O_.shift(),o=up.from(a,e,n);await NT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await jh(r)}async function sD(r,e){e&&La(r).V_&&await(async function(a,o){if((function(f){return Y1(f)&&f!==ne.ABORTED})(o.code)){const u=a.O_.shift();La(a).s_(),await NT(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o))),await jh(a)}})(r,e),MT(r)&&VT(r)}async function wE(r,e){const n=ke(r);n.asyncQueue.verifyOperationInProgress(),Te("RemoteStore","RemoteStore received new credentials");const a=As(n);n.L_.add(3),await Eu(n),a&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await zh(n)}async function oD(r,e){const n=ke(r);e?(n.L_.delete(2),await zh(n)):e||(n.L_.add(2),await Eu(n),n.q_.set("Unknown"))}function Po(r){return r.K_||(r.K_=(function(n,a,o){const u=ke(n);return u.w_(),new KC(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Eo:$C.bind(null,r),Ro:WC.bind(null,r),mo:ZC.bind(null,r),d_:eD.bind(null,r)}),r.B_.push((async e=>{e?(r.K_.s_(),vp(r)?yp(r):r.q_.set("Unknown")):(await r.K_.stop(),OT(r))}))),r.K_}function La(r){return r.U_||(r.U_=(function(n,a,o){const u=ke(n);return u.w_(),new QC(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:iD.bind(null,r),mo:sD.bind(null,r),f_:rD.bind(null,r),g_:aD.bind(null,r)}),r.B_.push((async e=>{e?(r.U_.s_(),await jh(r)):(await r.U_.stop(),r.O_.length>0&&(Te("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}class _p{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,m=new _p(e,n,f,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ep(r,e){if(xr("AsyncQueue",`${e}: ${r}`),yu(r))return new ve(ne.UNAVAILABLE,`${e}: ${r}`);throw r}class yo{constructor(e){this.comparator=e?(n,a)=>e(n,a)||Re.comparator(n.key,a.key):(n,a)=>Re.comparator(n.key,a.key),this.keyedMap=Gl(),this.sortedSet=new Mt(this.comparator)}static emptySet(e){return new yo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new yo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class RE{constructor(){this.W_=new Mt(Re.comparator)}track(e){const n=e.doc.key,a=this.W_.get(n);a?e.type!==0&&a.type===3?this.W_=this.W_.insert(n,e):e.type===3&&a.type!==1?this.W_=this.W_.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.W_=this.W_.remove(n):e.type===1&&a.type===2?this.W_=this.W_.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Me():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,a)=>{e.push(a)})),e}}class Co{constructor(e,n,a,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,a,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Co(e,n,yo.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}class lD{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class uD{constructor(){this.queries=IE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,a){const o=ke(n),u=o.queries;o.queries=IE(),u.forEach(((f,m)=>{for(const p of m.j_)p.onError(a)}))})(this,new ve(ne.ABORTED,"Firestore shutting down"))}}function IE(){return new Uo((r=>nT(r)),Vh)}async function xT(r,e){const n=ke(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.H_()&&e.J_()&&(a=2):(u=new lD,a=e.J_()?0:1);try{switch(a){case 0:u.z_=await n.onListen(o,!0);break;case 1:u.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Ep(f,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.j_.push(e),e.Z_(n.onlineState),u.z_&&e.X_(u.z_)&&Tp(n)}async function LT(r,e){const n=ke(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const f=u.j_.indexOf(e);f>=0&&(u.j_.splice(f,1),u.j_.length===0?o=e.J_()?0:1:!u.H_()&&e.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function cD(r,e){const n=ke(r);let a=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.j_)m.X_(o)&&(a=!0);f.z_=o}}a&&Tp(n)}function hD(r,e,n){const a=ke(r),o=a.queries.get(e);if(o)for(const u of o.j_)u.onError(n);a.queries.delete(e)}function Tp(r){r.Y_.forEach((e=>{e.next()}))}var xm,CE;(CE=xm||(xm={})).ea="default",CE.Cache="cache";class UT{constructor(e,n,a){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Co(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const a=n!=="Offline";return(!this.options._a||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==xm.Cache}}class PT{constructor(e){this.key=e}}class kT{constructor(e){this.key=e}}class fD{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=We(),this.mutatedKeys=We(),this.Aa=iT(e),this.Ra=new yo(this.Aa)}get Va(){return this.Ta}ma(e,n){const a=n?n.fa:new RE,o=n?n.Ra:this.Ra;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const R=o.get(E),D=xh(this.query,T)?T:null,U=!!R&&this.mutatedKeys.has(R.key),H=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let K=!1;R&&D?R.data.isEqual(D.data)?U!==H&&(a.track({type:3,doc:D}),K=!0):this.ga(R,D)||(a.track({type:2,doc:D}),K=!0,(p&&this.Aa(D,p)>0||y&&this.Aa(D,y)<0)&&(m=!0)):!R&&D?(a.track({type:0,doc:D}),K=!0):R&&!D&&(a.track({type:1,doc:R}),K=!0,(p||y)&&(m=!0)),K&&(D?(f=f.add(D),u=H?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{Ra:f,fa:a,ns:m,mutatedKeys:u}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const f=e.fa.G_();f.sort(((E,T)=>(function(D,U){const H=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me()}};return H(D)-H(U)})(E.type,T.type)||this.Aa(E.doc,T.doc))),this.pa(a),o=o!=null&&o;const m=n&&!o?this.ya():[],p=this.da.size===0&&this.current&&!o?1:0,y=p!==this.Ea;return this.Ea=p,f.length!==0||y?{snapshot:new Co(this.query,e.Ra,u,f,e.mutatedKeys,p===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new RE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=We(),this.Ra.forEach((a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))}));const n=[];return e.forEach((a=>{this.da.has(a)||n.push(new kT(a))})),this.da.forEach((a=>{e.has(a)||n.push(new PT(a))})),n}ba(e){this.Ta=e.Ts,this.da=We();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Co.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class dD{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class mD{constructor(e){this.key=e,this.va=!1}}class pD{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Ca={},this.Fa=new Uo((m=>nT(m)),Vh),this.Ma=new Map,this.xa=new Set,this.Oa=new Mt(Re.comparator),this.Na=new Map,this.La=new fp,this.Ba={},this.ka=new Map,this.qa=Io.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function gD(r,e,n=!0){const a=FT(r);let o;const u=a.Fa.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Da()):o=await zT(a,e,n,!0),o}async function yD(r,e){const n=FT(r);await zT(n,e,!0,!1)}async function zT(r,e,n,a){const o=await zC(r.localStore,Xi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await vD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&CT(r.remoteStore,o),m}async function vD(r,e,n,a,o){r.Ka=(T,R,D)=>(async function(H,K,he,ae){let de=K.view.ma(he);de.ns&&(de=await SE(H.localStore,K.query,!1).then((({documents:A})=>K.view.ma(A,de))));const be=ae&&ae.targetChanges.get(K.targetId),Ve=ae&&ae.targetMismatches.get(K.targetId)!=null,Le=K.view.applyChanges(de,H.isPrimaryClient,be,Ve);return OE(H,K.targetId,Le.wa),Le.snapshot})(r,T,R,D);const u=await SE(r.localStore,e,!0),f=new fD(e,u.Ts),m=f.ma(u.documents),p=_u.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);OE(r,n,y.wa);const E=new dD(e,n,f);return r.Fa.set(e,E),r.Ma.has(n)?r.Ma.get(n).push(e):r.Ma.set(n,[e]),y.snapshot}async function _D(r,e,n){const a=ke(r),o=a.Fa.get(e),u=a.Ma.get(o.targetId);if(u.length>1)return a.Ma.set(o.targetId,u.filter((f=>!Vh(f,e)))),void a.Fa.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Vm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&pp(a.remoteStore,o.targetId),Lm(a,o.targetId)})).catch(gu)):(Lm(a,o.targetId),await Vm(a.localStore,o.targetId,!0))}async function ED(r,e){const n=ke(r),a=n.Fa.get(e),o=n.Ma.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),pp(n.remoteStore,a.targetId))}async function TD(r,e,n){const a=CD(r);try{const o=await(function(f,m){const p=ke(f),y=nn.now(),E=m.reduce(((D,U)=>D.add(U.key)),We());let T,R;return p.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let U=Lr(),H=We();return p.cs.getEntries(D,E).next((K=>{U=K,U.forEach(((he,ae)=>{ae.isValidDocument()||(H=H.add(he))}))})).next((()=>p.localDocuments.getOverlayedDocuments(D,U))).next((K=>{T=K;const he=[];for(const ae of m){const de=H1(ae,T.get(ae.key).overlayedDocument);de!=null&&he.push(new Ss(ae.key,de,Y0(de.value.mapValue),Vi.exists(!0)))}return p.mutationQueue.addMutationBatch(D,y,he,m)})).next((K=>{R=K;const he=K.applyToLocalDocumentSet(T,H);return p.documentOverlayCache.saveOverlays(D,K.batchId,he)}))})).then((()=>({batchId:R.batchId,changes:aT(T)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Ba[f.currentUser.toKey()];y||(y=new Mt(ot)),y=y.insert(m,p),f.Ba[f.currentUser.toKey()]=y})(a,o.batchId,n),await Tu(a,o.changes),await jh(a.remoteStore)}catch(o){const u=Ep(o,"Failed to persist write");n.reject(u)}}async function jT(r,e){const n=ke(r);try{const a=await UC(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Na.get(u);f&&(pt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.va=!0:o.modifiedDocuments.size>0?pt(f.va):o.removedDocuments.size>0&&(pt(f.va),f.va=!1))})),await Tu(n,a,e)}catch(a){await gu(a)}}function DE(r,e,n){const a=ke(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Fa.forEach(((u,f)=>{const m=f.view.Z_(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=ke(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,T)=>{for(const R of T.j_)R.Z_(m)&&(y=!0)})),y&&Tp(p)})(a.eventManager,e),o.length&&a.Ca.d_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function SD(r,e,n){const a=ke(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Na.get(e),u=o&&o.key;if(u){let f=new Mt(Re.comparator);f=f.insert(u,Cn.newNoDocument(u,Pe.min()));const m=We().add(u),p=new Ph(Pe.min(),new Map,new Mt(ot),f,m);await jT(a,p),a.Oa=a.Oa.remove(u),a.Na.delete(e),Sp(a)}else await Vm(a.localStore,e,!1).then((()=>Lm(a,e,n))).catch(gu)}async function AD(r,e){const n=ke(r),a=e.batch.batchId;try{const o=await LC(n.localStore,e);qT(n,a,null),BT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Tu(n,o)}catch(o){await gu(o)}}async function bD(r,e,n){const a=ke(r);try{const o=await(function(f,m){const p=ke(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>(pt(T!==null),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(a.localStore,e);qT(a,e,n),BT(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Tu(a,o)}catch(o){await gu(o)}}function BT(r,e){(r.ka.get(e)||[]).forEach((n=>{n.resolve()})),r.ka.delete(e)}function qT(r,e,n){const a=ke(r);let o=a.Ba[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Ba[a.currentUser.toKey()]=o}}function Lm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Ma.get(e))r.Fa.delete(a),n&&r.Ca.$a(a,n);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach((a=>{r.La.containsKey(a)||HT(r,a)}))}function HT(r,e){r.xa.delete(e.path.canonicalString());const n=r.Oa.get(e);n!==null&&(pp(r.remoteStore,n),r.Oa=r.Oa.remove(e),r.Na.delete(n),Sp(r))}function OE(r,e,n){for(const a of n)a instanceof PT?(r.La.addReference(a.key,e),wD(r,a)):a instanceof kT?(Te("SyncEngine","Document no longer in limbo: "+a.key),r.La.removeReference(a.key,e),r.La.containsKey(a.key)||HT(r,a.key)):Me()}function wD(r,e){const n=e.key,a=n.path.canonicalString();r.Oa.get(n)||r.xa.has(a)||(Te("SyncEngine","New document in limbo: "+n),r.xa.add(a),Sp(r))}function Sp(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const n=new Re(Ct.fromString(e)),a=r.qa.next();r.Na.set(a,new mD(n)),r.Oa=r.Oa.insert(n,a),CT(r.remoteStore,new Ia(Xi(sp(n.path)),a,"TargetPurposeLimboResolution",ep.oe))}}async function Tu(r,e,n){const a=ke(r),o=[],u=[],f=[];a.Fa.isEmpty()||(a.Fa.forEach(((m,p)=>{f.push(a.Ka(p,e,n).then((y=>{var E;if((y||n)&&a.isPrimaryClient){const T=y?!y.fromCache:(E=n?.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=mp.Wi(p.targetId,y);u.push(T)}})))})),await Promise.all(f),a.Ca.d_(o),await(async function(p,y){const E=ke(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>re.forEach(y,(R=>re.forEach(R.$i,(D=>E.persistence.referenceDelegate.addReference(T,R.targetId,D))).next((()=>re.forEach(R.Ui,(D=>E.persistence.referenceDelegate.removeReference(T,R.targetId,D)))))))))}catch(T){if(!yu(T))throw T;Te("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const R=T.targetId;if(!T.fromCache){const D=E.os.get(R),U=D.snapshotVersion,H=D.withLastLimboFreeSnapshotVersion(U);E.os=E.os.insert(R,H)}}})(a.localStore,u))}async function RD(r,e){const n=ke(r);if(!n.currentUser.isEqual(e)){Te("SyncEngine","User change. New user:",e.toKey());const a=await bT(n.localStore,e);n.currentUser=e,(function(u,f){u.ka.forEach((m=>{m.forEach((p=>{p.reject(new ve(ne.CANCELLED,f))}))})),u.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Tu(n,a.hs)}}function ID(r,e){const n=ke(r),a=n.Na.get(e);if(a&&a.va)return We().add(a.key);{let o=We();const u=n.Ma.get(e);if(!u)return o;for(const f of u){const m=n.Fa.get(f);o=o.unionWith(m.view.Va)}return o}}function FT(r){const e=ke(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=jT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ID.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SD.bind(null,e),e.Ca.d_=cD.bind(null,e.eventManager),e.Ca.$a=hD.bind(null,e.eventManager),e}function CD(r){const e=ke(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bD.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return xC(this.persistence,new MC,e.initialUser,this.serializer)}Ga(e){return new DC(dp.Zr,this.serializer)}Wa(e){return new BC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class Um{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>DE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=RD.bind(null,this.syncEngine),await oD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new uD})()}createDatastore(e){const n=kh(e.databaseInfo.databaseId),a=(function(u){return new GC(u)})(e.databaseInfo);return(function(u,f,m,p){return new YC(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,u,f,m){return new JC(a,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>DE(this.syncEngine,n,0)),(function(){return bE.D()?new bE:new qC})())}createSyncEngine(e,n){return(function(o,u,f,m,p,y,E){const T=new pD(o,u,f,m,p,y);return E&&(T.Qa=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=ke(o);Te("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await Eu(u),u.k_.shutdown(),u.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Um.provider={build:()=>new Um};class GT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class DD{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=In.UNAUTHENTICATED,this.clientId=G0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async f=>{Te("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(a,(f=>(Te("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Ep(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function cm(r,e){r.asyncQueue.verifyOperationInProgress(),Te("FirestoreClient","Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await bT(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function NE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await OD(r);Te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((a=>wE(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>wE(e.remoteStore,o))),r._onlineComponents=e}async function OD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Te("FirestoreClient","Using user provided OfflineComponentProvider");try{await cm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ao("Error using user provided cache. Falling back to memory cache: "+n),await cm(r,new _h)}}else Te("FirestoreClient","Using default OfflineComponentProvider"),await cm(r,new _h);return r._offlineComponents}async function KT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Te("FirestoreClient","Using user provided OnlineComponentProvider"),await NE(r,r._uninitializedComponentsProvider._online)):(Te("FirestoreClient","Using default OnlineComponentProvider"),await NE(r,new Um))),r._onlineComponents}function ND(r){return KT(r).then((e=>e.syncEngine))}async function QT(r){const e=await KT(r),n=e.eventManager;return n.onListen=gD.bind(null,e.syncEngine),n.onUnlisten=_D.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ED.bind(null,e.syncEngine),n}function MD(r,e,n={}){const a=new Mr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new GT({next:R=>{E.Za(),f.enqueueAndForget((()=>LT(u,T)));const D=R.docs.has(m);!D&&R.fromCache?y.reject(new ve(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&R.fromCache&&p&&p.source==="server"?y.reject(new ve(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),T=new UT(sp(m.path),E,{includeMetadataChanges:!0,_a:!0});return xT(u,T)})(await QT(r),r.asyncQueue,e,n,a))),a.promise}function VD(r,e,n={}){const a=new Mr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new GT({next:R=>{E.Za(),f.enqueueAndForget((()=>LT(u,T))),R.fromCache&&p.source==="server"?y.reject(new ve(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),T=new UT(m,E,{includeMetadataChanges:!0,_a:!0});return xT(u,T)})(await QT(r),r.asyncQueue,e,n,a))),a.promise}function YT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const ME=new Map;function XT(r,e,n){if(!n)throw new ve(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function xD(r,e,n,a){if(e===!0&&a===!0)throw new ve(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function VE(r){if(!Re.isDocumentKey(r))throw new ve(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function xE(r){if(Re.isDocumentKey(r))throw new ve(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Bh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Me()}function Ur(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ve(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bh(r);throw new ve(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}class LE{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ve(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YT((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ve(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ve(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ve(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qh{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LE(e),e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new $I;switch(a.type){case"firstParty":return new t1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ve(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=ME.get(n);a&&(Te("ComponentProvider","Removing Datastore"),ME.delete(n),a.terminate())})(this),Promise.resolve()}}function LD(r,e,n,a={}){var o;const u=(r=Ur(r,qh))._getSettings(),f=`${e}:${n}`;if(u.host!=="firestore.googleapis.com"&&u.host!==f&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),a.mockUserToken){let m,p;if(typeof a.mockUserToken=="string")m=a.mockUserToken,p=In.MOCK_USER;else{m=wR(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=a.mockUserToken.sub||a.mockUserToken.user_id;if(!y)throw new ve(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new In(y)}r._authCredentials=new WI(new F0(m,p))}}class bs{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new bs(this.firestore,e,this._query)}}class Zn{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zn(this.firestore,e,this._key)}}class Na extends bs{constructor(e,n,a){super(e,n,sp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zn(this.firestore,null,new Re(e))}withConverter(e){return new Na(this.firestore,e,this._path)}}function Pm(r,e,...n){if(r=zn(r),XT("collection","path",e),r instanceof qh){const a=Ct.fromString(e,...n);return xE(a),new Na(r,null,a)}{if(!(r instanceof Zn||r instanceof Na))throw new ve(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Ct.fromString(e,...n));return xE(a),new Na(r.firestore,null,a)}}function Eh(r,e,...n){if(r=zn(r),arguments.length===1&&(e=G0.newId()),XT("doc","path",e),r instanceof qh){const a=Ct.fromString(e,...n);return VE(a),new Zn(r,null,new Re(a))}{if(!(r instanceof Zn||r instanceof Na))throw new ve(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Ct.fromString(e,...n));return VE(a),new Zn(r.firestore,r instanceof Na?r.converter:null,new Re(a))}}class UE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new RT(this,"async_queue_retry"),this.Vu=()=>{const a=um();a&&Te("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=e;const n=um();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=um();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new Mr;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!yu(e))throw e;Te("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((a=>{this.Eu=a,this.du=!1;const o=(function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m})(a);throw xr("INTERNAL UNHANDLED ERROR: ",o),a})).then((a=>(this.du=!1,a))))));return this.mu=n,n}enqueueAfterDelay(e,n,a){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const o=_p.createAndSchedule(this,e,n,a,(u=>this.yu(u)));return this.Tu.push(o),o}fu(){this.Eu&&Me()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class ko extends qh{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new UE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UE(e),this._firestoreClient=void 0,await e}}}function UD(r,e){const n=typeof r=="object"?r:L0(),a=typeof r=="string"?r:"(default)",o=Wm(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=AR("firestore");u&&LD(o,...u)}return o}function Ap(r){if(r._terminated)throw new ve(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||PD(r),r._firestoreClient}function PD(r){var e,n,a;const o=r._freezeSettings(),u=(function(m,p,y,E){return new m1(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,YT(E.experimentalLongPollingOptions),E.useFetchStreams)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new DD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(m){const p=m?._online.build();return{_offline:m?._offline.build(p),_online:p}})(r._componentsProvider))}class Do{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Do(Tn.fromBase64String(e))}catch(n){throw new ve(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Do(Tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wp{constructor(e){this._methodName=e}}class Rp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}}class Ip{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,e._values)}}const kD=/^__.*__$/;class zD{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new vu(e,this.data,n,this.fieldTransforms)}}function JT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me()}}class Cp{constructor(e,n,a,o,u,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Cp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:a,xu:!1});return o.Ou(e),o}Nu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:a,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Th(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(JT(this.Cu)&&kD.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class jD{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||kh(e)}Qu(e,n,a,o=!1){return new Cp({Cu:e,methodName:n,qu:a,path:_n.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dp(r){const e=r._freezeSettings(),n=kh(r._databaseId);return new jD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function $T(r,e,n,a,o,u={}){const f=r.Qu(u.merge||u.mergeFields?2:0,e,n,o);eS("Data must be an object, but it was:",f,a);const m=WT(a,f);let p,y;if(u.merge)p=new Mi(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const R=qD(e,T,n);if(!f.contains(R))throw new ve(ne.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);FD(E,R)||E.push(R)}p=new Mi(E),y=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=f.fieldTransforms;return new zD(new wi(m),p,y)}class Op extends wp{_toFieldTransform(e){return new z1(e.path,new lu)}isEqual(e){return e instanceof Op}}function BD(r,e,n,a=!1){return Np(n,r.Qu(a?4:3,e))}function Np(r,e){if(ZT(r=zn(r)))return eS("Unsupported field value:",e,r),WT(r,e);if(r instanceof wp)return(function(a,o){if(!JT(o.Cu))throw o.Bu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(a,o){const u=[];let f=0;for(const m of a){let p=Np(m,o.Lu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(a,o){if((a=zn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return U1(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=nn.fromDate(a);return{timestampValue:yh(o.serializer,u)}}if(a instanceof nn){const u=new nn(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:yh(o.serializer,u)}}if(a instanceof Rp)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Do)return{bytesValue:yT(o.serializer,a._byteString)};if(a instanceof Zn){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Bu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:hp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ip)return(function(f,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map((p=>{if(typeof p!="number")throw m.Bu("VectorValues must only contain numeric values.");return op(m.serializer,p)}))}}}}}})(a,o);throw o.Bu(`Unsupported field value: ${Bh(a)}`)})(r,e)}function WT(r,e){const n={};return K0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xo(r,((a,o)=>{const u=Np(o,e.Mu(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function ZT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof nn||r instanceof Rp||r instanceof Do||r instanceof Zn||r instanceof wp||r instanceof Ip)}function eS(r,e,n){if(!ZT(n)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(n)){const a=Bh(n);throw a==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+a)}}function qD(r,e,n){if((e=zn(e))instanceof bp)return e._internalPath;if(typeof e=="string")return tS(r,e);throw Th("Field path arguments must be of type string or ",r,!1,void 0,n)}const HD=new RegExp("[~\\*/\\[\\]]");function tS(r,e,n){if(e.search(HD)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new bp(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Th(r,e,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${a}`),f&&(p+=` in document ${o}`),p+=")"),new ve(ne.INVALID_ARGUMENT,m+r+p)}function FD(r,e){return r.some((n=>n.isEqual(e)))}class nS{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GD extends nS{data(){return super.data()}}function Mp(r,e){return typeof e=="string"?tS(r,e):e instanceof bp?e._internalPath:e._delegate._internalPath}function KD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ve(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vp{}class iS extends Vp{}function rS(r,e,...n){let a=[];e instanceof Vp&&a.push(e),a=a.concat(n),(function(u){const f=u.filter((p=>p instanceof Lp)).length,m=u.filter((p=>p instanceof xp)).length;if(f>1||f>0&&m>0)throw new ve(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class xp extends iS{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new xp(e,n,a)}_apply(e){const n=this._parse(e);return sS(e._query,n),new bs(e.firestore,e.converter,Im(e._query,n))}_parse(e){const n=Dp(e.firestore);return(function(u,f,m,p,y,E,T){let R;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ve(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){kE(T,E);const D=[];for(const U of T)D.push(PE(p,u,U));R={arrayValue:{values:D}}}else R=PE(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||kE(T,E),R=BD(m,f,T,E==="in"||E==="not-in");return Wt.create(y,E,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Lp extends Vp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lp(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:xi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)sS(f,p),f=Im(f,p)})(e._query,n),new bs(e.firestore,e.converter,Im(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Up extends iS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Up(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new ve(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ve(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ou(u,f)})(e._query,this._field,this._direction);return new bs(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new Lo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function aS(r,e="asc"){const n=e,a=Mp("orderBy",r);return Up._create(a,n)}function PE(r,e,n){if(typeof(n=zn(n))=="string"){if(n==="")throw new ve(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tT(e)&&n.indexOf("/")!==-1)throw new ve(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(Ct.fromString(n));if(!Re.isDocumentKey(a))throw new ve(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return aE(r,new Re(a))}if(n instanceof Zn)return aE(r,n._key);throw new ve(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bh(n)}.`)}function kE(r,e){if(!Array.isArray(r)||r.length===0)throw new ve(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sS(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class QD{convertValue(e,n="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return xo(e,((o,u)=>{a[o]=this.convertValue(u,n)})),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map((f=>Ht(f.doubleValue)));return new Ip(u)}convertGeoPoint(e){return new Rp(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=np(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(ru(e));default:return null}}convertTimestamp(e){const n=xa(e);return new nn(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=Ct.fromString(e);pt(AT(a));const o=new au(a.get(1),a.get(3)),u=new Re(a.popFirst(5));return o.isEqual(n)||xr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function oS(r,e,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,a}class Ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lS extends nS{constructor(e,n,a,o,u,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Mp("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class ih extends lS{data(e={}){return super.data(e)}}class YD{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ql(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new ih(this._firestore,this._userDataWriter,a.key,a,new Ql(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:XD(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function XD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me()}}function JD(r){r=Ur(r,Zn);const e=Ur(r.firestore,ko);return MD(Ap(e),r._key).then((n=>e2(e,r,n)))}class uS extends QD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Do(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,n)}}function cS(r){r=Ur(r,bs);const e=Ur(r.firestore,ko),n=Ap(e),a=new uS(e);return KD(r._query),VD(n,r._query).then((o=>new YD(e,a,r,o)))}function $D(r,e,n){r=Ur(r,Zn);const a=Ur(r.firestore,ko),o=oS(r.converter,e,n);return Pp(a,[$T(Dp(a),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Vi.none())])}function WD(r){return Pp(Ur(r.firestore,ko),[new lp(r._key,Vi.none())])}function ZD(r,e){const n=Ur(r.firestore,ko),a=Eh(r),o=oS(r.converter,e);return Pp(n,[$T(Dp(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,Vi.exists(!1))]).then((()=>a))}function Pp(r,e){return(function(a,o){const u=new Mr;return a.asyncQueue.enqueueAndForget((async()=>TD(await ND(a),o,u))),u.promise})(Ap(r),e)}function e2(r,e,n){const a=n.docs.get(e._key),o=new uS(r);return new lS(r,o,e._key,a,new Ql(n.hasPendingWrites,n.fromCache),e.converter)}function zE(){return new Op("serverTimestamp")}(function(e,n=!0){(function(o){Vo=o})(Mo),So(new gs("firestore",((a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new ko(new ZI(a.getProvider("auth-internal")),new i1(a.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ve(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(y.options.projectId,E)})(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Oa(eE,"4.7.3",e),Oa(eE,"4.7.3","esm2017")})();function kp(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n}function hS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const t2=hS,fS=new mu("auth","Firebase",hS());const Sh=new Jm("@firebase/auth");function n2(r,...e){Sh.logLevel<=et.WARN&&Sh.warn(`Auth (${Mo}): ${r}`,...e)}function rh(r,...e){Sh.logLevel<=et.ERROR&&Sh.error(`Auth (${Mo}): ${r}`,...e)}function Li(r,...e){throw zp(r,...e)}function $i(r,...e){return zp(r,...e)}function dS(r,e,n){const a=Object.assign(Object.assign({},t2()),{[e]:n});return new mu("auth","Firebase",a).create(e,{appName:r.name})}function Ma(r){return dS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zp(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return fS.create(r,...e)}function Oe(r,e,...n){if(!r)throw zp(e,...n)}function Cr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw rh(e),new Error(e)}function Pr(r,e){r||Cr(e)}function km(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function i2(){return jE()==="http:"||jE()==="https:"}function jE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}function r2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(i2()||DR()||"connection"in navigator)?navigator.onLine:!0}function a2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Su{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pr(n>e,"Short delay should be less than long delay!"),this.isMobile=RR()||OR()}get(){return r2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jp(r,e){Pr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class mS{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const s2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const o2=new Su(3e4,6e4);function ws(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ka(r,e,n,a,o={}){return pS(r,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const m=pu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},u);return CR()||(y.referrerPolicy="no-referrer"),mS.fetch()(gS(r,r.config.apiHost,n,m),y)})}async function pS(r,e,n){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},s2),e);try{const o=new u2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw $c(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw $c(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw $c(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw $c(r,"user-disabled",f);const E=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw dS(r,E,y);Li(r,E)}}catch(o){if(o instanceof er)throw o;Li(r,"network-request-failed",{message:String(o)})}}async function Hh(r,e,n,a,o={}){const u=await ka(r,e,n,a,o);return"mfaPendingCredential"in u&&Li(r,"multi-factor-auth-required",{_serverResponse:u}),u}function gS(r,e,n,a){const o=`${e}${n}?${a}`;return r.config.emulator?jp(r.config,o):`${r.config.apiScheme}://${o}`}function l2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class u2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a($i(this.auth,"network-request-failed")),o2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $c(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=$i(r,e,a);return o.customData._tokenResponse=n,o}function BE(r){return r!==void 0&&r.enterprise!==void 0}class c2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return l2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function h2(r,e){return ka(r,"GET","/v2/recaptchaConfig",ws(r,e))}async function f2(r,e){return ka(r,"POST","/v1/accounts:delete",e)}async function yS(r,e){return ka(r,"POST","/v1/accounts:lookup",e)}function Wl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function d2(r,e=!1){const n=zn(r),a=await n.getIdToken(e),o=Bp(a);Oe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:a,authTime:Wl(hm(o.auth_time)),issuedAtTime:Wl(hm(o.iat)),expirationTime:Wl(hm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function hm(r){return Number(r)*1e3}function Bp(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=C0(n);return o?JSON.parse(o):(rh("Failed to decode base64 JWT payload"),null)}catch(o){return rh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function qE(r){const e=Bp(r);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function hu(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof er&&m2(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function m2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class p2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ah(r){var e;const n=r.auth,a=await r.getIdToken(),o=await hu(r,yS(n,{idToken:a}));Oe(o?.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?vS(u.providerUserInfo):[],m=y2(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!m?.length,E=p?y:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new zm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,T)}async function g2(r){const e=zn(r);await Ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function y2(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function vS(r){return r.map(e=>{var{providerId:n}=e,a=kp(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}async function v2(r,e){const n=await pS(r,{},async()=>{const a=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=gS(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",mS.fetch()(f,{method:"POST",headers:m,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _2(r,e){return ka(r,"POST","/v2/accounts:revokeToken",ws(r,e))}class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=qE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await v2(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new vo;return a&&(Oe(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(Oe(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Oe(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return Cr("not implemented")}}function Ea(r,e){Oe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Dr{constructor(e){var{uid:n,auth:a,stsTokenManager:o}=e,u=kp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new p2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new zm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await hu(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return d2(this,e)}reload(){return g2(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Ah(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ir(this.auth.app))return Promise.reject(Ma(this.auth));const e=await this.getIdToken();return await hu(this,f2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,o,u,f,m,p,y,E;const T=(a=n.displayName)!==null&&a!==void 0?a:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,D=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,U=(f=n.photoURL)!==null&&f!==void 0?f:void 0,H=(m=n.tenantId)!==null&&m!==void 0?m:void 0,K=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,he=(y=n.createdAt)!==null&&y!==void 0?y:void 0,ae=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:de,emailVerified:be,isAnonymous:Ve,providerData:Le,stsTokenManager:A}=n;Oe(de&&A,e,"internal-error");const w=vo.fromJSON(this.name,A);Oe(typeof de=="string",e,"internal-error"),Ea(T,e.name),Ea(R,e.name),Oe(typeof be=="boolean",e,"internal-error"),Oe(typeof Ve=="boolean",e,"internal-error"),Ea(D,e.name),Ea(U,e.name),Ea(H,e.name),Ea(K,e.name),Ea(he,e.name),Ea(ae,e.name);const I=new Dr({uid:de,auth:e,email:R,emailVerified:be,displayName:T,isAnonymous:Ve,photoURL:U,phoneNumber:D,tenantId:H,stsTokenManager:w,createdAt:he,lastLoginAt:ae});return Le&&Array.isArray(Le)&&(I.providerData=Le.map(O=>Object.assign({},O))),K&&(I._redirectEventId=K),I}static async _fromIdTokenResponse(e,n,a=!1){const o=new vo;o.updateFromServerResponse(n);const u=new Dr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Ah(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Oe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?vS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new vo;m.updateFromIdToken(a);const p=new Dr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const HE=new Map;function Or(r){Pr(r instanceof Function,"Expected a class definition");let e=HE.get(r);return e?(Pr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,HE.set(r,e),e)}class _S{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_S.type="NONE";const FE=_S;function ah(r,e,n){return`firebase:${r}:${e}:${n}`}class _o{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=ah(this.userKey,o.apiKey,u),this.fullPersistenceKey=ah("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Dr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new _o(Or(FE),e,a);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Or(FE);const f=ah(a,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){const T=Dr._fromJSON(e,E);y!==u&&(m=T),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new _o(u,e,a):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new _o(u,e,a))}}function GE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ES(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wS(e))return"Blackberry";if(RS(e))return"Webos";if(TS(e))return"Safari";if((e.includes("chrome/")||SS(e))&&!e.includes("edge/"))return"Chrome";if(bS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function ES(r=Dn()){return/firefox\//i.test(r)}function TS(r=Dn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SS(r=Dn()){return/crios\//i.test(r)}function AS(r=Dn()){return/iemobile/i.test(r)}function bS(r=Dn()){return/android/i.test(r)}function wS(r=Dn()){return/blackberry/i.test(r)}function RS(r=Dn()){return/webos/i.test(r)}function qp(r=Dn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function E2(r=Dn()){var e;return qp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function T2(){return NR()&&document.documentMode===10}function IS(r=Dn()){return qp(r)||bS(r)||RS(r)||wS(r)||/windows phone/i.test(r)||AS(r)}function CS(r,e=[]){let n;switch(r){case"Browser":n=GE(Dn());break;case"Worker":n=`${GE(Dn())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mo}/${a}`}class S2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function A2(r,e={}){return ka(r,"GET","/v2/passwordPolicy",ws(r,e))}const b2=6;class w2{constructor(e){var n,a,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:b2,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class R2{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new KE(this),this.idTokenSubscription=new KE(this),this.beforeStateQueue=new S2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Or(n)),this._initializationPromise=this.queue(async()=>{var a,o;if(!this._deleted&&(this.persistenceManager=await _o.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yS(this,{idToken:e}),a=await Dr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ir(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&p?.user&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ah(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=a2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ir(this.app))return Promise.reject(Ma(this));const n=e?zn(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ir(this.app)?Promise.reject(Ma(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ir(this.app)?Promise.reject(Ma(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await A2(this),n=new w2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await _2(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Or(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[Or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&n2(`Error while retrieving App Check token: ${n.error}`),n?.token}}function zo(r){return zn(r)}class KE{constructor(e){this.auth=e,this.observer=null,this.addObserver=zR(n=>this.observer=n)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function I2(r){Fh=r}function DS(r){return Fh.loadJS(r)}function C2(){return Fh.recaptchaEnterpriseScript}function D2(){return Fh.gapiScript}function O2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const N2="recaptcha-enterprise",M2="NO_RECAPTCHA";class V2{constructor(e){this.type=N2,this.auth=zo(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{h2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new c2(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;BE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(M2)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((u,f)=>{a(this.auth).then(m=>{if(!n&&BE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=C2();p.length!==0&&(p+=m),DS(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function QE(r,e,n,a=!1){const o=new V2(r);let u;try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const f=Object.assign({},e);return a?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function YE(r,e,n,a){var o;if(!((o=r._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await QE(r,e,n,n==="getOobCode");return a(r,u)}else return a(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await QE(r,e,n,n==="getOobCode");return a(r,f)}else return Promise.reject(u)})}function x2(r,e){const n=Wm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(fh(u,e??{}))return o;Li(o,"already-initialized")}return n.initialize({options:e})}function L2(r,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(Or);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function U2(r,e,n){const a=zo(r);Oe(a._canInitEmulator,a,"emulator-config-failed"),Oe(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=OS(e),{host:f,port:m}=P2(e),p=m===null?"":`:${m}`;a.config.emulator={url:`${u}//${f}${p}/`},a.settings.appVerificationDisabledForTesting=!0,a.emulatorConfig=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),k2()}function OS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function P2(r){const e=OS(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:XE(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:XE(f)}}}function XE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function k2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Hp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,n){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}}async function z2(r,e){return ka(r,"POST","/v1/accounts:signUp",e)}async function j2(r,e){return Hh(r,"POST","/v1/accounts:signInWithPassword",ws(r,e))}async function B2(r,e){return Hh(r,"POST","/v1/accounts:signInWithEmailLink",ws(r,e))}async function q2(r,e){return Hh(r,"POST","/v1/accounts:signInWithEmailLink",ws(r,e))}class fu extends Hp{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new fu(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new fu(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return YE(e,n,"signInWithPassword",j2);case"emailLink":return B2(e,{email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return YE(e,a,"signUpPassword",z2);case"emailLink":return q2(e,{idToken:n,email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Eo(r,e){return Hh(r,"POST","/v1/accounts:signInWithIdp",ws(r,e))}const H2="http://localhost";class Es extends Hp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=n,u=kp(n,["providerId","signInMethod"]);if(!a||!o)return null;const f=new Es(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Eo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Eo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Eo(e,n)}buildRequest(){const e={requestUri:H2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pu(n)}return e}}function F2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function G2(r){const e=ql(Hl(r)).link,n=e?ql(Hl(e)).deep_link_id:null,a=ql(Hl(r)).deep_link_id;return(a?ql(Hl(a)).link:null)||a||n||e||r}class Fp{constructor(e){var n,a,o,u,f,m;const p=ql(Hl(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(a=p.oobCode)!==null&&a!==void 0?a:null,T=F2((o=p.mode)!==null&&o!==void 0?o:null);Oe(y&&E&&T,"argument-error"),this.apiKey=y,this.operation=T,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=G2(e);try{return new Fp(n)}catch{return null}}}class jo{constructor(){this.providerId=jo.PROVIDER_ID}static credential(e,n){return fu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=Fp.parseLink(n);return Oe(a,"argument-error"),fu._fromEmailAndCode(e,a.code,a.tenantId)}}jo.PROVIDER_ID="password";jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class NS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Au extends NS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Sa extends Au{constructor(){super("facebook.com")}static credential(e){return Es._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sa.credential(e.oauthAccessToken)}catch{return null}}}Sa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sa.PROVIDER_ID="facebook.com";class Aa extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Es._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Aa.credential(n,a)}catch{return null}}}Aa.GOOGLE_SIGN_IN_METHOD="google.com";Aa.PROVIDER_ID="google.com";class ba extends Au{constructor(){super("github.com")}static credential(e){return Es._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ba.credential(e.oauthAccessToken)}catch{return null}}}ba.GITHUB_SIGN_IN_METHOD="github.com";ba.PROVIDER_ID="github.com";class wa extends Au{constructor(){super("twitter.com")}static credential(e,n){return Es._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return wa.credential(n,a)}catch{return null}}}wa.TWITTER_SIGN_IN_METHOD="twitter.com";wa.PROVIDER_ID="twitter.com";class Oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await Dr._fromIdTokenResponse(e,a,o),f=JE(a);return new Oo({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=JE(a);return new Oo({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function JE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class bh extends er{constructor(e,n,a,o){var u;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,bh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new bh(e,n,a,o)}}function MS(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?bh._fromErrorAndOperation(r,u,e,a):u})}async function K2(r,e,n=!1){const a=await hu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Oo._forOperation(r,"link",a)}async function Q2(r,e,n=!1){const{auth:a}=r;if(Ir(a.app))return Promise.reject(Ma(a));const o="reauthenticate";try{const u=await hu(r,MS(a,o,e,r),n);Oe(u.idToken,a,"internal-error");const f=Bp(u.idToken);Oe(f,a,"internal-error");const{sub:m}=f;return Oe(r.uid===m,a,"user-mismatch"),Oo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Li(a,"user-mismatch"),u}}async function VS(r,e,n=!1){if(Ir(r.app))return Promise.reject(Ma(r));const a="signIn",o=await MS(r,a,e),u=await Oo._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}async function Y2(r,e){return VS(zo(r),e)}async function X2(r){const e=zo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function J2(r,e,n){return Ir(r.app)?Promise.reject(Ma(r)):Y2(zn(r),jo.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&X2(r),a})}function $2(r,e,n,a){return zn(r).onIdTokenChanged(e,n,a)}function W2(r,e,n){return zn(r).beforeAuthStateChanged(e,n)}function xS(r,e,n,a){return zn(r).onAuthStateChanged(e,n,a)}function Z2(r){return zn(r).signOut()}const wh="__sak";class LS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const eO=1e3,tO=10;class US extends LS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);T2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,tO):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},eO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}US.type="LOCAL";const nO=US;class PS extends LS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PS.type="SESSION";const kS=PS;function iO(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Gh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await iO(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];function Gp(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}class rO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Gp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(T){const R=T;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Wi(){return window}function aO(r){Wi().location.href=r}function zS(){return typeof Wi().WorkerGlobalScope<"u"&&typeof Wi().importScripts=="function"}async function sO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oO(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function lO(){return zS()?self:null}const jS="firebaseLocalStorageDb",uO=1,Rh="firebaseLocalStorage",BS="fbase_key";class bu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kh(r,e){return r.transaction([Rh],e?"readwrite":"readonly").objectStore(Rh)}function cO(){const r=indexedDB.deleteDatabase(jS);return new bu(r).toPromise()}function jm(){const r=indexedDB.open(jS,uO);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Rh,{keyPath:BS})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Rh)?e(a):(a.close(),await cO(),e(await jm()))})})}async function $E(r,e,n){const a=Kh(r,!0).put({[BS]:e,value:n});return new bu(a).toPromise()}async function hO(r,e){const n=Kh(r,!1).get(e),a=await new bu(n).toPromise();return a===void 0?null:a.value}function WE(r,e){const n=Kh(r,!0).delete(e);return new bu(n).toPromise()}const fO=800,dO=3;class qS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>dO)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(lO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await sO(),!this.activeServiceWorker)return;this.sender=new rO(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jm();return await $E(e,wh,"1"),await WE(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>$E(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>hO(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>WE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Kh(o,!1).getAll();return new bu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qS.type="LOCAL";const mO=qS;new Su(3e4,6e4);function pO(r,e){return e?Or(e):(Oe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Kp extends Hp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function gO(r){return VS(r.auth,new Kp(r),r.bypassAuthState)}function yO(r){const{auth:e,user:n}=r;return Oe(n,e,"internal-error"),Q2(n,new Kp(r),r.bypassAuthState)}async function vO(r){const{auth:e,user:n}=r;return Oe(n,e,"internal-error"),K2(n,new Kp(r),r.bypassAuthState)}class HS{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gO;case"linkViaPopup":case"linkViaRedirect":return vO;case"reauthViaPopup":case"reauthViaRedirect":return yO;default:Li(this.auth,"internal-error")}}resolve(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _O=new Su(2e3,1e4);class po extends HS{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Pr(this.filter.length===1,"Popup operations only handle one event");const e=Gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_O.get())};e()}}po.currentPopupAction=null;const EO="pendingRedirect",sh=new Map;class TO extends HS{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const a=await SO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SO(r,e){const n=wO(e),a=bO(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function AO(r,e){sh.set(r._key(),e)}function bO(r){return Or(r._redirectPersistence)}function wO(r){return ah(EO,r.config.apiKey,r.name)}async function RO(r,e,n=!1){if(Ir(r.app))return Promise.reject(Ma(r));const a=zo(r),o=pO(a,e),f=await new TO(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}const IO=600*1e3;class CO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!FS(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError($i(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IO&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZE(e))}saveEventToCache(e){this.cachedEventUids.add(ZE(e)),this.lastProcessedEventTime=Date.now()}}function ZE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function FS({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function DO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FS(r);default:return!1}}async function OO(r,e={}){return ka(r,"GET","/v1/projects",e)}const NO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MO=/^https?/;async function VO(r){if(r.config.emulator)return;const{authorizedDomains:e}=await OO(r);for(const n of e)try{if(xO(n))return}catch{}Li(r,"unauthorized-domain")}function xO(r){const e=km(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!MO.test(n))return!1;if(NO.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const LO=new Su(3e4,6e4);function e0(){const r=Wi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function UO(r){return new Promise((e,n)=>{var a,o,u;function f(){e0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{e0(),n($i(r,"network-request-failed"))},timeout:LO.get()})}if(!((o=(a=Wi().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Wi().gapi)===null||u===void 0)&&u.load)f();else{const m=O2("iframefcb");return Wi()[m]=()=>{gapi.load?f():n($i(r,"network-request-failed"))},DS(`${D2()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw oh=null,e})}let oh=null;function PO(r){return oh=oh||UO(r),oh}const kO=new Su(5e3,15e3),zO="__/auth/iframe",jO="emulator/auth/iframe",BO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HO(r){const e=r.config;Oe(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?jp(e,jO):`https://${r.config.authDomain}/${zO}`,a={apiKey:e.apiKey,appName:r.name,v:Mo},o=qO.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${pu(a).slice(1)}`}async function FO(r){const e=await PO(r),n=Wi().gapi;return Oe(n,r,"internal-error"),e.open({where:document.body,url:HO(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BO,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=$i(r,"network-request-failed"),m=Wi().setTimeout(()=>{u(f)},kO.get());function p(){Wi().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(f)})}))}const GO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KO=500,QO=600,YO="_blank",XO="http://localhost";class t0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JO(r,e,n,a=KO,o=QO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p=Object.assign(Object.assign({},GO),{width:a.toString(),height:o.toString(),top:u,left:f}),y=Dn().toLowerCase();n&&(m=SS(y)?YO:n),ES(y)&&(e=e||XO,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[D,U])=>`${R}${D}=${U},`,"");if(E2(y)&&m!=="_self")return $O(e||"",m),new t0(null);const T=window.open(e||"",m,E);Oe(T,r,"popup-blocked");try{T.focus()}catch{}return new t0(T)}function $O(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const WO="__/auth/handler",ZO="emulator/auth/handler",eN=encodeURIComponent("fac");async function n0(r,e,n,a,o,u){Oe(r.config.authDomain,r,"auth-domain-config-required"),Oe(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:Mo,eventId:o};if(e instanceof NS){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",kR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof Au){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${eN}=${encodeURIComponent(p)}`:"";return`${tN(r)}?${pu(m).slice(1)}${y}`}function tN({config:r}){return r.emulator?jp(r,ZO):`https://${r.authDomain}/${WO}`}const fm="webStorageSupport";class nN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kS,this._completeRedirectFn=RO,this._overrideRedirectResult=AO}async _openPopup(e,n,a,o){var u;Pr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await n0(e,n,a,km(),o);return JO(e,f,Gp())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await n0(e,n,a,km(),o);return aO(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Pr(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await FO(e),a=new CO(e);return n.register("authEvent",o=>(Oe(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fm,{type:fm},o=>{var u;const f=(u=o?.[0])===null||u===void 0?void 0:u[fm];f!==void 0&&n(!!f),Li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IS()||TS()||qp()}}const iN=nN;var i0="@firebase/auth",r0="1.7.9";class rN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function aN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sN(r){So(new gs("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;Oe(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CS(r)},y=new R2(a,o,u,p);return L2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),So(new gs("auth-internal",e=>{const n=zo(e.getProvider("auth").getImmediate());return(a=>new rN(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oa(i0,r0,aN(r)),Oa(i0,r0,"esm2017")}const oN=300,lN=N0("authIdTokenMaxAge")||oN;let a0=null;const uN=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>lN)return;const o=n?.token;a0!==o&&(a0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function cN(r=L0()){const e=Wm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=x2(r,{popupRedirectResolver:iN,persistence:[mO,nO,kS]}),a=N0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=uN(u.toString());W2(n,f,()=>f(n.currentUser)),$2(n,m=>f(m))}}const o=D0("auth");return o&&U2(n,`http://${o}`),n}function hN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}I2({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=$i("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",hN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sN("Browser");const GS="AIzaSyA9gx7P2TTKiPyEcPbN9OJcxvKtdpK2asM",KS="tiempos-pista-medellin";if(GS.trim().length===0)throw new Error(`Firebase API key missing or invalid. Please set VITE_FIREBASE_API_KEY in a .env file at the project root and restart the dev server.
Example .env contents:
VITE_FIREBASE_API_KEY=your_api_key_here
VITE_FIREBASE_PROJECT_ID=your_project_id_here`);if(KS.trim().length===0)throw new Error("Firebase projectId missing. Please set VITE_FIREBASE_PROJECT_ID in your .env file and restart the dev server.");const fN={apiKey:GS,authDomain:"tiempos-pista-medellin.firebaseapp.com",projectId:KS,storageBucket:"tiempos-pista-medellin.firebasestorage.app",messagingSenderId:"189731520901",appId:"1:189731520901:web:35da7949038ec4bf6f04ec"},QS=x0(fN),go=UD(QS),Ih=cN(QS);async function dN(r){if(!r)return!1;try{return(await JD(Eh(go,"admins",r))).exists()}catch(e){return console.error("isAdmin check failed",e),!1}}function dm(r,e=2){return r.toString().padStart(e,"0")}function Ch(r){if(typeof r!="number"||isNaN(r))return"";const e=Math.floor(r/6e4),n=Math.floor(r%6e4/1e3),a=r%1e3;return`${dm(e,2)}:${dm(n,2)}:${dm(a,3)}`}function Bm(r){if(!r||typeof r!="string")return null;const e=r.trim();if(e.length===0)return null;const n=e.replace(",",".").replace(/\s+/g,""),a=n.split(":");try{if(a.length===3){const o=parseInt(a[0],10),u=parseInt(a[1],10);let f=a[2];f=f.replace(/[^0-9]/g,"");let m=parseInt(f||"0",10);return f.length===1?m*=100:f.length===2&&(m*=10),(o*60+u)*1e3+m}if(a.length===2){const o=a[0],u=a[1];if(u.includes(".")){const p=u.split("."),y=parseInt(o,10),E=parseInt(p[0]||"0",10);let T=parseInt(p[1]||"0",10);return p[1].length===1?T*=100:p[1].length===2&&(T*=10),(y*60+E)*1e3+T}const f=parseInt(o,10),m=parseInt(u,10);return isNaN(f)||isNaN(m)?null:(f*60+m)*1e3}if(a.length===1){if(n.includes(".")){const[u,f]=n.split("."),m=parseInt(u||"0",10);let p=parseInt((f||"0").replace(/[^0-9]/g,""),10);return(f||"").length===1?p*=100:(f||"").length===2&&(p*=10),m*1e3+p}const o=parseInt(n,10);return isNaN(o)?null:o*1e3}}catch{return null}return null}const mN=()=>{const[r,e]=ee.useState([]),[n,a]=ee.useState(!0),[o,u]=ee.useState(null);return ee.useEffect(()=>{(async()=>{a(!0),u(null);const m="AIzaSyCNkusWwAxOvha2X-PpTzGQrTxhilTzkQs",p="UCVLpHLKCuKBJXaz_1LlEUDA";try{const y=`https://www.googleapis.com/youtube/v3/search?key=${m}&channelId=${p}&part=snippet,id&order=date&maxResults=6&type=video`,E=await fetch(y);if(!E.ok)throw new Error(`YouTube API error ${E.status}`);const R=((await E.json()).items??[]).map(D=>({id:D.id?.videoId??"",videoId:D.id?.videoId??"",title:D.snippet?.title??"",thumbnail:D.snippet?.thumbnails?.medium?.url??D.snippet?.thumbnails?.default?.url??""})).filter(D=>D.id!=="");e(R)}catch(y){u(String(y))}finally{a(!1)}})()},[]),n?te.jsx("p",{children:"Cargando videos..."}):o?te.jsxs("div",{style:{color:"red"},children:["Error cargando videos: ",o]}):te.jsxs("div",{style:{padding:12},children:[te.jsx("h3",{children:"Videos de CarCultureColombia"}),te.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:12},children:r.map(f=>te.jsxs("div",{style:{border:"1px solid #eee",padding:8},children:[te.jsx("div",{style:{position:"relative",paddingTop:"56.25%"},children:te.jsx("iframe",{src:`https://www.youtube.com/embed/${f.videoId}`,title:f.title,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),te.jsx("div",{style:{marginTop:8},children:te.jsx("strong",{style:{fontSize:14},children:f.title})})]},f.id))})]})},pN=()=>{const[r,e]=ee.useState([]),[n,a]=ee.useState(!0),[o,u]=ee.useState(""),[f,m]=ee.useState(""),[p,y]=ee.useState("");ee.useEffect(()=>{async function D(){try{const U=rS(Pm(go,"times"),aS("createdAt","desc")),K=(await cS(U)).docs.map(he=>{const ae=he.data();return{id:he.id,tramo:ae.tramo||"",carro:ae.carro||"",nombre:ae.nombre||"",tiempo:ae.tiempo,tiempoMs:ae.tiempoMs,nota:ae.nota||""}});e(K)}catch(U){console.error(U)}finally{a(!1)}}D()},[]);const E=D=>{if(typeof D.tiempoMs=="number")return Ch(D.tiempoMs);if(D.tiempo){const U=Bm(D.tiempo);return U!=null?Ch(U):D.tiempo}return""},T=D=>{if(typeof D.tiempoMs=="number")return D.tiempoMs;if(D.tiempo){const U=Bm(D.tiempo);if(U!=null)return U}return Number.POSITIVE_INFINITY},R=r.filter(D=>{const U=o.trim()===""||D.nombre.toLowerCase().includes(o.trim().toLowerCase()),H=f.trim()===""||D.carro.toLowerCase().includes(f.trim().toLowerCase()),K=p.trim()===""||D.tramo.toLowerCase().includes(p.trim().toLowerCase());return U&&H&&K}).sort((D,U)=>T(D)-T(U));return te.jsxs("div",{style:{padding:12},children:[te.jsx("h2",{children:"Tiempos de la pista - Medelln"}),n?te.jsx("p",{children:"Cargando..."}):te.jsxs(te.Fragment,{children:[te.jsxs("div",{style:{display:"flex",gap:8,marginBottom:12,flexWrap:"wrap"},children:[te.jsx("input",{placeholder:"Filtrar por nombre",value:o,onChange:D=>u(D.target.value),style:{padding:6}}),te.jsx("input",{placeholder:"Filtrar por carro",value:f,onChange:D=>m(D.target.value),style:{padding:6}}),te.jsx("input",{placeholder:"Filtrar por tramo",value:p,onChange:D=>y(D.target.value),style:{padding:6}})]}),te.jsx("div",{className:"times-container",children:te.jsxs("table",{className:"times-table",children:[te.jsx("thead",{children:te.jsxs("tr",{children:[te.jsx("th",{className:"pos",children:"Pos"}),te.jsx("th",{children:"Tramo"}),te.jsx("th",{children:"Carro"}),te.jsx("th",{children:"Nombre conductor"}),te.jsx("th",{children:"Tiempo"}),te.jsx("th",{children:"Nota"})]})}),te.jsx("tbody",{children:R.map((D,U)=>{const H=U+1,K=H===1?"":H===2?"":H===3?"":String(H);return te.jsxs("tr",{children:[te.jsx("td",{className:"pos","data-label":"Pos",children:K}),te.jsx("td",{"data-label":"Tramo",children:D.tramo}),te.jsx("td",{"data-label":"Carro",children:D.carro}),te.jsx("td",{"data-label":"Nombre",children:D.nombre}),te.jsx("td",{"data-label":"Tiempo",children:E(D)}),te.jsx("td",{"data-label":"Nota",children:D.nota||""})]},D.id)})})]})})]}),te.jsx(mN,{})]})},gN=()=>{const[r,e]=ee.useState([]),[n,a]=ee.useState(!0),[o,u]=ee.useState({tramo:"",carro:"",nombre:"",tiempo:"",nota:""}),[f,m]=ee.useState(null),[p,y]=ee.useState(null),E=async()=>{a(!0);try{const U=rS(Pm(go,"times"),aS("createdAt","desc")),H=await cS(U);e(H.docs.map(K=>({id:K.id,...K.data()})))}catch(U){console.error(U)}finally{a(!1)}};ee.useEffect(()=>{E()},[]);const T=async U=>{U.preventDefault();try{y(null);const K=Bm(o.tiempo)??null;if(o.tiempo&&K==null){y("Formato de tiempo no vlido. Usa MM:SS:ms (ej. 01:23:456) o MM:SS.ms, SS.ms, SS");return}const he=K!=null?Ch(K):o.tiempo,ae={...o,tiempo:he,createdAt:zE()};K!=null&&(ae.tiempoMs=K),f?await $D(Eh(go,"times",f),{...ae,updatedAt:zE()},{merge:!0}):await ZD(Pm(go,"times"),ae),u({tramo:"",carro:"",nombre:"",tiempo:"",nota:""}),m(null),await E()}catch(H){console.error(H)}},R=U=>{m(U.id??null);const H=U.tiempo||(U.tiempoMs!=null?Ch(U.tiempoMs):"");u({tramo:U.tramo||"",carro:U.carro||"",nombre:U.nombre||"",tiempo:H,nota:U.nota||""})},D=async U=>{if(U&&confirm("Eliminar este tiempo?"))try{await WD(Eh(go,"times",U)),await E()}catch(H){console.error(H)}};return te.jsxs("div",{style:{padding:12},children:[te.jsx("h2",{children:"Admin - CRUD de tiempos"}),te.jsxs("form",{onSubmit:T,style:{display:"grid",gap:8,maxWidth:420},children:[te.jsx("input",{placeholder:"Tramo",value:o.tramo,onChange:U=>u({...o,tramo:U.target.value})}),te.jsx("input",{placeholder:"Carro",value:o.carro,onChange:U=>u({...o,carro:U.target.value})}),te.jsx("input",{placeholder:"Nombre conductor",value:o.nombre,onChange:U=>u({...o,nombre:U.target.value})}),te.jsx("input",{placeholder:"Tiempo (mm:ss:ms, p.ej. 01:23:456)",value:o.tiempo,onChange:U=>u({...o,tiempo:U.target.value})}),te.jsx("small",{children:"Formato aceptado: MM:SS:ms (ej. 01:23:456) o MM:SS.ms; tambin acepta SS.ms o SS"}),p&&te.jsx("div",{style:{color:"red"},children:p}),te.jsx("input",{placeholder:"Nota",value:o.nota,onChange:U=>u({...o,nota:U.target.value})}),te.jsx("button",{type:"submit",children:f?"Guardar cambios":"Agregar tiempo"}),f&&te.jsx("button",{type:"button",onClick:()=>{m(null),u({tramo:"",carro:"",nombre:"",tiempo:"",nota:""})},children:"Cancelar"})]}),te.jsx("hr",{}),n?te.jsx("p",{children:"Cargando..."}):te.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[te.jsx("thead",{children:te.jsxs("tr",{children:[te.jsx("th",{children:"Tramo"}),te.jsx("th",{children:"Carro"}),te.jsx("th",{children:"Nombre"}),te.jsx("th",{children:"Tiempo"}),te.jsx("th",{children:"Nota"}),te.jsx("th",{children:"Acciones"})]})}),te.jsx("tbody",{children:r.map(U=>te.jsxs("tr",{children:[te.jsx("td",{children:U.tramo}),te.jsx("td",{children:U.carro}),te.jsx("td",{children:U.nombre}),te.jsx("td",{children:U.tiempo}),te.jsx("td",{children:U.nota}),te.jsxs("td",{children:[te.jsx("button",{onClick:()=>R(U),children:"Editar"}),te.jsx("button",{onClick:()=>D(U.id),children:"Borrar"})]})]},U.id))})]})]})},yN=()=>{const[r,e]=ee.useState(""),[n,a]=ee.useState(""),[o,u]=ee.useState(null),f=Xm(),m=async p=>{p.preventDefault(),u(null);try{await J2(Ih,r,n),f("/admin")}catch(y){console.error(y);const E=y instanceof er?y.message:"Error al iniciar sesin";u(E)}};return te.jsxs("div",{style:{padding:12},children:[te.jsx("h2",{children:"Iniciar sesin (admin)"}),te.jsxs("form",{onSubmit:m,style:{display:"flex",flexDirection:"column",gap:8,maxWidth:320},children:[te.jsx("input",{value:r,onChange:p=>e(p.target.value),placeholder:"Email"}),te.jsx("input",{value:n,onChange:p=>a(p.target.value),placeholder:"Password",type:"password"}),te.jsx("button",{type:"submit",children:"Entrar"}),o&&te.jsx("div",{style:{color:"red"},children:o})]})]})},vN=({children:r})=>{const[e,n]=ee.useState(!0),[a,o]=ee.useState(!1),[u,f]=ee.useState(null),[m,p]=ee.useState(null);return ee.useEffect(()=>{const y=xS(Ih,async E=>{if(p(null),E){f(E.uid);try{const T=await dN(E.uid);o(T),T||p("No existe un documento admin para este usuario (admins/{uid}).")}catch(T){console.error("isAdmin check failed",T);const R=T&&typeof T=="object"&&"message"in T?String(T.message):String(T);p(R),o(!1)}}else f(null),o(!1);n(!1)});return()=>y()},[]),e?te.jsx("div",{style:{padding:12},children:"Comprobando permisos..."}):a?r:te.jsxs("div",{style:{padding:12},children:[te.jsx("h3",{children:"Acceso denegado"}),te.jsx("p",{children:"No tienes permisos para acceder a esta pgina de administracin."}),u&&te.jsxs("p",{children:[te.jsx("strong",{children:"UID:"})," ",u]}),m&&te.jsxs("div",{style:{color:"red",whiteSpace:"pre-wrap"},children:[te.jsx("strong",{children:"Detalle:"}),te.jsx("div",{children:m})]}),te.jsx("p",{children:"Pasos recomendados:"}),te.jsxs("ol",{children:[te.jsx("li",{children:"Asegrate de que has iniciado sesin correctamente."}),te.jsxs("li",{children:["En la consola de Firebase, crea un documento en ",te.jsx("code",{children:"admins/{uid}"})," con el UID mostrado arriba."]}),te.jsxs("li",{children:["Revisa las reglas de Firestore para permitir lectura de ",te.jsx("code",{children:"admins/{userId}"})," por el usuario autenticado."]})]}),te.jsxs("p",{children:["Si quieres, ",te.jsx("a",{href:"/login",children:"inicia sesin"})," con otro usuario o contacta al administrador del proyecto."]})]})};function _N(){const[r,e]=ee.useState(null),n=Xm();ee.useEffect(()=>{const o=xS(Ih,u=>e(u));return()=>o()},[]);const a=async()=>{await Z2(Ih),n("/")};return te.jsxs("div",{children:[te.jsxs("nav",{style:{display:"flex",gap:12,padding:12},children:[te.jsx(tm,{to:"/",children:"Tiempos"}),te.jsx(tm,{to:"/admin",children:"Admin"}),r?te.jsx("button",{onClick:a,children:"Cerrar sesin"}):te.jsx(tm,{to:"/login",children:"Iniciar sesin"})]}),te.jsx(Qw,{})]})}const EN=tR([{path:"/",element:te.jsx(_N,{}),children:[{index:!0,element:te.jsx(pN,{})},{path:"login",element:te.jsx(yN,{})},{path:"admin",element:te.jsx(vN,{children:te.jsx(gN,{})})}]}],{future:{v7_relativeSplatPath:!0},basename:"/pagina-de-tiempos"});function TN(){return te.jsx(cR,{router:EN})}Nb.createRoot(document.getElementById("root")).render(te.jsx(ee.StrictMode,{children:te.jsx(TN,{})}));
